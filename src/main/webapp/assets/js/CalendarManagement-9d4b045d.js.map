{"version":3,"file":"CalendarManagement-9d4b045d.js","sources":["../../../../modules/managers/calendarManagement/CalendarManagementDialog/CalendarManagementDetailForm/CalendarManagementDetailForm.vue","../../../../modules/managers/calendarManagement/CalendarManagementDialog/CalendarManagementDetailTable/CalendarManagementDetailTable.vue","../../../../modules/managers/calendarManagement/CalendarManagementDialog/CalendarManagementDialog.vue","../../../../modules/managers/calendarManagement/CalendarManagement.vue"],"sourcesContent":["<template>\r\n    <div class=\"p-fluid p-formgrid p-grid p-m-2\" v-if=\"calendar\">\r\n        <div class=\"p-col-12 p-md-6 p-d-flex p-flex-row p-ai-center\">\r\n            <div class=\"kn-flex\">\r\n                <span class=\"p-float-label p-m-2\">\r\n                    <InputText\r\n                        class=\"kn-material-input\"\r\n                        v-model.trim=\"calendar.calendar\"\r\n                        :maxlength=\"calendarManagementDetailFormDescriptor.nameMaxLength\"\r\n                        :class=\"{\r\n                            'p-invalid': calendarNameDirty && calendar.calendar.trim().length === 0\r\n                        }\"\r\n                        :disabled=\"readonly\"\r\n                        @input=\"calendarNameDirty = true\"\r\n                        @blur=\"calendarNameDirty = true\"\r\n                        data-test=\"calendar-name-input\"\r\n                    />\r\n                    <label class=\"kn-material-input-label\"> {{ $t('common.name') + ' *' }}</label>\r\n                </span>\r\n                <div class=\"p-d-flex p-flex-row p-jc-between\">\r\n                    <div>\r\n                        <div v-show=\"calendarNameDirty && calendar.calendar.trim().length === 0\" class=\"p-error p-mx-2\">\r\n                            {{ $t('common.validation.required', { fieldName: $t('common.name') }) }}\r\n                        </div>\r\n                    </div>\r\n                    <p class=\"calendar-management-input-help p-m-0\">{{ nameHelp }}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"kn-flex\">\r\n                <span class=\"p-float-label p-m-2\">\r\n                    <InputText class=\"kn-material-input\" v-model.trim=\"calendar.calType\" :maxlength=\"calendarManagementDetailFormDescriptor.typeMaxLength\" :disabled=\"readonly\" data-test=\"calendar-type-input\" />\r\n                    <label class=\"kn-material-input-label\"> {{ $t('common.type') }}</label>\r\n                </span>\r\n                <div class=\"p-d-flex p-flex-row p-jc-end\">\r\n                    <p class=\"calendar-management-input-help p-m-0\">{{ typeHelp }}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"p-col-12 p-md-6 p-flex p-d-flex p-ai-center\">\r\n            <div class=\"kn-flex p-mx-2\">\r\n                <span class=\"p-float-label\">\r\n                    <Calendar\r\n                        class=\"calendar-management-detail-form-calendar-input\"\r\n                        v-model=\"calendar.calStartDay\"\r\n                        :class=\"{\r\n                            'p-invalid': startDateDirty && !calendar.calStartDay\r\n                        }\"\r\n                        :manualInput=\"true\"\r\n                        :disabled=\"readonly\"\r\n                        @input=\"startDateDirty = true\"\r\n                        @blur=\"startDateDirty = true\"\r\n                        data-test=\"calendar-start-date-input\"\r\n                    ></Calendar>\r\n                    <label class=\"kn-material-input-label\"> {{ $t('managers.calendarManagement.startValidityDate') + ' *' }}</label>\r\n                </span>\r\n            </div>\r\n            <div class=\"kn-flex\">\r\n                <span class=\"p-float-label\">\r\n                    <Calendar\r\n                        class=\"calendar-management-detail-form-calendar-input\"\r\n                        v-model=\"calendar.calEndDay\"\r\n                        :class=\"{\r\n                            'p-invalid': endDateDirty && !calendar.calEndDay\r\n                        }\"\r\n                        :manualInput=\"true\"\r\n                        :minDate=\"calendar.calStartDay\"\r\n                        :disabled=\"readonly\"\r\n                        @input=\"endDateDirty = true\"\r\n                        @blur=\"endDateDirty = true\"\r\n                        data-test=\"calendar-end-date-input\"\r\n                    ></Calendar>\r\n                    <label class=\"kn-material-input-label\"> {{ $t('managers.calendarManagement.endValidityDate') + ' *' }}</label>\r\n                </span>\r\n            </div>\r\n            <Button v-show=\"canManageCalendar && generateButtonVisible\" id=\"calendar-management-generate-calendar-button\" class=\"kn-button kn-button--primary p-ml-2\" :disabled=\"generateButtonDisabled\" @click=\"generateCalendar\"> {{ $t('common.generate') }}</Button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { iCalendar } from '../../CalendarManagement'\r\nimport Calendar from 'primevue/calendar'\r\nimport calendarManagementDetailFormDescriptor from './CalendarManagementDetailFormDescriptor.json'\r\nimport mainStore from '../../../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'calendar-management-detail-form',\r\n    components: { Calendar },\r\n    props: { propCalendar: { type: Object as PropType<iCalendar | null> }, generateButtonVisible: { type: Boolean }, generateButtonDisabled: { type: Boolean } },\r\n    emits: ['generateCalendarClicked'],\r\n    data() {\r\n        return {\r\n            calendarManagementDetailFormDescriptor,\r\n            calendar: null as iCalendar | null,\r\n            calendarNameDirty: false,\r\n            startDateDirty: false,\r\n            endDateDirty: false\r\n        }\r\n    },\r\n    computed: {\r\n        canManageCalendar(): boolean {\r\n            return (this.store.$state as any).user.functionalities.includes('ManageCalendar')\r\n        },\r\n        readonly(): boolean {\r\n            return this.calendar?.calendarId !== undefined\r\n        },\r\n        nameHelp(): string {\r\n            return (this.calendar?.calendar.length ?? '0') + ' / ' + calendarManagementDetailFormDescriptor.nameMaxLength\r\n        },\r\n        typeHelp(): string {\r\n            return (this.calendar?.calType.length ?? '0') + ' / ' + calendarManagementDetailFormDescriptor.typeMaxLength\r\n        }\r\n    },\r\n    watch: {\r\n        propCalendar() {\r\n            this.loadCalendar()\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    created() {\r\n        this.loadCalendar()\r\n    },\r\n    methods: {\r\n        loadCalendar() {\r\n            this.calendar = this.propCalendar as iCalendar\r\n        },\r\n        generateCalendar() {\r\n            this.$emit('generateCalendarClicked')\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.calendar-management-input-help {\r\n    font-size: smaller;\r\n}\r\n\r\n.calendar-management-detail-form-calendar-input {\r\n    max-width: 300px;\r\n}\r\n\r\n#calendar-management-generate-calendar-button {\r\n    max-width: 200px;\r\n    flex: 0.3;\r\n}\r\n</style>\r\n","<template>\r\n    <DataTable v-if=\"calendarSplitData\" :value=\"calendarSplitData\" :paginator=\"calendarSplitData.length > 20\" :rows=\"20\" class=\"p-datatable-sm\" dataKey=\"idCalComposition\" responsiveLayout=\"stack\" breakpoint=\"960px\">\r\n        <template #empty>\r\n            {{ $t('common.info.noDataFound') }}\r\n        </template>\r\n\r\n        <Column class=\"kn-truncated\" field=\"timeByDay.timeDate\" :header=\"$t('cron.date')\" :style=\"calendarManagementDetailTableDescriptor.columnStyle.date\" :sortable=\"true\">\r\n            <template #body=\"slotProps\">\r\n                <span>{{ getFormattedDate(slotProps.data.timeByDay.timeDate) }}</span>\r\n            </template>\r\n        </Column>\r\n        <Column class=\"kn-truncated\" field=\"day\" :header=\"$t('cron.day')\" :style=\"calendarManagementDetailTableDescriptor.columnStyle.day\" :sortable=\"true\"> </Column>\r\n        <Column class=\"kn-truncated\" field=\"isHoliday\" :header=\"$t('managers.calendarManagement.holiday')\" :style=\"calendarManagementDetailTableDescriptor.columnStyle.checkbox\" :sortable=\"true\">\r\n            <template #body=\"slotProps\">\r\n                <Checkbox v-model=\"slotProps.data[slotProps.column.props.field]\" :binary=\"true\"></Checkbox>\r\n            </template>\r\n        </Column>\r\n        <Column class=\"kn-truncated\" field=\"pubHoliday\" :header=\"$t('managers.calendarManagement.publicHoliday')\" :style=\"calendarManagementDetailTableDescriptor.columnStyle.checkbox\" :sortable=\"true\">\r\n            <template #body=\"slotProps\">\r\n                <Checkbox v-model=\"slotProps.data[slotProps.column.props.field]\" :binary=\"true\"></Checkbox>\r\n            </template>\r\n        </Column>\r\n        <Column class=\"kn-truncated\" field=\"listOfAttributes\" :header=\"$t('common.attributes')\" :style=\"calendarManagementDetailTableDescriptor.columnStyle.checkEvent\" :sortable=\"true\">\r\n            <template #body=\"slotProps\">\r\n                <MultiSelect class=\"kn-material-input\" v-model=\"slotProps.data[slotProps.column.props.field]\" :options=\"domains\" optionLabel=\"attributeDomainDescr\" optionValue=\"attributeDomainDescr\" />\r\n            </template>\r\n        </Column>\r\n        <Column v-if=\"canManageCalendar\" :style=\"calendarManagementDetailTableDescriptor.iconColumnStyle\">\r\n            <template #body=\"slotProps\">\r\n                <Button icon=\"pi pi-trash\" class=\"p-button-link\" @click=\"deleteItemConfirm(slotProps.data)\" />\r\n            </template>\r\n        </Column>\r\n    </DataTable>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { iDomain } from '../../CalendarManagement'\r\nimport { formatDate } from '@/helpers/commons/localeHelper'\r\nimport moment from 'moment'\r\nimport calendarManagementDetailTableDescriptor from './CalendarManagementDetailTableDescriptor.json'\r\nimport Checkbox from 'primevue/checkbox'\r\nimport Column from 'primevue/column'\r\nimport DataTable from 'primevue/datatable'\r\nimport MultiSelect from 'primevue/multiselect'\r\nimport mainStore from '../../../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'calendar-management-detail-table',\r\n    components: { Checkbox, Column, DataTable, MultiSelect },\r\n    props: { propCalendarInfo: { type: Array as PropType<any[]> }, domains: { type: Array as PropType<iDomain[]> } },\r\n    data() {\r\n        return {\r\n            calendarManagementDetailTableDescriptor,\r\n            calendarSplitData: [] as any[]\r\n        }\r\n    },\r\n    computed: {\r\n        canManageCalendar(): boolean {\r\n            return (this.store.$state as any).user.functionalities.includes('ManageCalendar')\r\n        }\r\n    },\r\n    watch: {\r\n        propCalendarInfo() {\r\n            this.loadCalendarInfo()\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    created() {\r\n        this.loadCalendarInfo()\r\n    },\r\n    methods: {\r\n        loadCalendarInfo() {\r\n            this.calendarSplitData = this.propCalendarInfo as any[]\r\n        },\r\n        getFormattedDate(date: number) {\r\n            const tempDate = moment(date).format('DD/MM/YYYY')\r\n            return formatDate(tempDate, '', 'DD/MM/YYYY')\r\n        },\r\n        deleteItemConfirm(item: any) {\r\n            this.$confirm.require({\r\n                message: this.$t('common.toast.deleteMessage'),\r\n                header: this.$t('common.toast.deleteConfirmTitle'),\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => this.deleteItem(item)\r\n            })\r\n        },\r\n        deleteItem(item: any) {\r\n            const index = this.calendarSplitData.findIndex((tempItem: any) => item.idCalComposition === tempItem.idCalComposition)\r\n            if (index !== -1) this.calendarSplitData.splice(index, 1)\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n    <Dialog id=\"calendar-management-dialog\" class=\"p-fluid kn-dialog--toolbar--primary\" :visible=\"visible\" :modal=\"true\" :closable=\"false\" :style=\"calendarManagementDialogDescriptor.dialog.style\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--primary p-p-0 p-m-0 p-col-12\">\r\n                <template #start>\r\n                    {{ calendar?.calendar }}\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n\r\n        <ProgressBar mode=\"indeterminate\" class=\"kn-progress-bar\" v-if=\"loading\" />\r\n\r\n        <div>\r\n            <CalendarManagementDetailForm :propCalendar=\"calendar\" :generateButtonVisible=\"generateButtonVisible\" :generateButtonDisabled=\"generateButtonDisabled\" @generateCalendarClicked=\"generateCalendarConfirm\"></CalendarManagementDetailForm>\r\n            <CalendarManagementDetailTable v-if=\"calendarDetailTableVisible\" class=\"p-m-4\" :propCalendarInfo=\"calendar?.splittedCalendar\" :domains=\"domains\"></CalendarManagementDetailTable>\r\n        </div>\r\n\r\n        <template #footer>\r\n            <Button class=\"kn-button kn-button--primary\" @click=\"close\"> {{ $t('common.cancel') }}</Button>\r\n            <Button v-if=\"canManageCalendar\" class=\"kn-button kn-button--primary\" :disabled=\"buttonDisabled\" @click=\"save\"> {{ $t('common.save') }}</Button>\r\n        </template>\r\n    </Dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { iCalendar, iCalendarDate, iDomain } from '../CalendarManagement'\r\nimport { AxiosResponse } from 'axios'\r\nimport Dialog from 'primevue/dialog'\r\nimport calendarManagementDialogDescriptor from './CalendarManagementDialogDescriptor.json'\r\nimport CalendarManagementDetailForm from './CalendarManagementDetailForm/CalendarManagementDetailForm.vue'\r\nimport CalendarManagementDetailTable from './CalendarManagementDetailTable/CalendarManagementDetailTable.vue'\r\nimport moment from 'moment'\r\nimport mainStore from '../../../../App.store'\r\nimport deepcopy from 'deepcopy'\r\n\r\nexport default defineComponent({\r\n    name: 'calendar-management-dialog',\r\n    components: { CalendarManagementDetailForm, CalendarManagementDetailTable, Dialog },\r\n    props: { visible: { type: Boolean }, propCalendar: { type: Object as PropType<iCalendar | null> }, domains: { type: Array as PropType<iDomain[]> } },\r\n    emits: ['close', 'calendarSaved'],\r\n    data() {\r\n        return {\r\n            calendarManagementDialogDescriptor,\r\n            calendar: null as iCalendar | null,\r\n            calendarInfo: [] as iCalendarDate[],\r\n            generateButtonVisible: false,\r\n            generateButtonDisabled: true,\r\n            calendarDetailTableVisible: false,\r\n            loading: false\r\n        }\r\n    },\r\n    computed: {\r\n        buttonDisabled(): boolean {\r\n            return this.calendar === null || !this.calendar.calendar || !this.calendar.calStartDay || !this.calendar.calEndDay\r\n        },\r\n        canManageCalendar(): boolean {\r\n            return (this.store.$state as any).user.functionalities.includes('ManageCalendar')\r\n        }\r\n    },\r\n    watch: {\r\n        propCalendar() {\r\n            if (this.visible) this.loadCalendar()\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    created() {\r\n        this.loadCalendar()\r\n    },\r\n    methods: {\r\n        async loadCalendar() {\r\n            this.calendar = deepcopy(this.propCalendar)\r\n            if (this.calendar && this.calendar.calStartDay) this.calendar.calStartDay = new Date(this.calendar.calStartDay)\r\n            if (this.calendar && this.calendar.calEndDay) this.calendar.calEndDay = new Date(this.calendar.calEndDay)\r\n\r\n            if (this.calendar?.calendarId) {\r\n                await this.loadCalendarInfo(this.calendar.calendarId)\r\n                this.calendarDetailTableVisible = true\r\n            }\r\n        },\r\n        async loadCalendarInfo(calendarId: number) {\r\n            this.loading = true\r\n            await this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `calendar/${calendarId}/getInfoCalendarById`)\r\n                .then((response: AxiosResponse<any>) => {\r\n                    this.calendarInfo = response.data\r\n                    this.generateButtonVisible = true\r\n                    this.getRealCalendarInfo()\r\n                })\r\n                .catch(() => {})\r\n            this.loading = false\r\n        },\r\n        getRealCalendarInfo() {\r\n            if (!this.calendar) return\r\n\r\n            this.calendar.splittedCalendar = []\r\n            for (let i = 0; i < this.calendarInfo.length; i++) {\r\n                const tempDate = deepcopy(this.calendarInfo[i])\r\n\r\n                tempDate['day'] = tempDate.timeByDay.dayName\r\n                tempDate.isHoliday = tempDate.isHoliday == 1\r\n                tempDate.pubHoliday = tempDate.pubHoliday == 'true'\r\n\r\n                tempDate.listOfAttributes = tempDate.listOfAttributes?.map((attribute: any) => attribute.calendarAttributeDomain.attributeDomainDescr)\r\n\r\n                this.calendar.splittedCalendar.push(tempDate)\r\n            }\r\n        },\r\n        async save() {\r\n            this.loading = true\r\n            if (this.calendar?.calendarId) {\r\n                await this.updateCalendar()\r\n            } else {\r\n                await this.saveCalendar()\r\n            }\r\n\r\n            this.loading = false\r\n        },\r\n        async saveCalendar() {\r\n            const tempCalendar = deepcopy(this.calendar)\r\n            tempCalendar.calStartDay = moment(tempCalendar.calStartDay).valueOf()\r\n            tempCalendar.calEndDay = moment(tempCalendar.calEndDay).valueOf()\r\n\r\n            await this.$http\r\n                .post(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `calendar/saveCalendar`, tempCalendar)\r\n                .then((response: AxiosResponse<any>) => {\r\n                    this.store.setInfo({\r\n                        title: this.$t('common.toast.createTitle'),\r\n                        msg: this.$t('common.toast.createSuccess')\r\n                    })\r\n                    if (this.calendar) this.calendar.calendarId = response.data\r\n                    this.generateButtonVisible = true\r\n                    this.generateButtonDisabled = false\r\n                    this.$emit('calendarSaved')\r\n                })\r\n                .catch(() => {})\r\n        },\r\n        async updateCalendar() {\r\n            if (!this.calendar) return\r\n\r\n            const postData = this.getFormattedSplittedCalendar()\r\n\r\n            await this.$http\r\n                .post(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `calendar/${this.calendar.calendarId}/updateDaysGenerated`, postData)\r\n                .then(() => {\r\n                    this.store.setInfo({\r\n                        title: this.$t('common.toast.updateTitle'),\r\n                        msg: this.$t('common.toast.updateSuccess')\r\n                    })\r\n                })\r\n                .catch(() => {})\r\n        },\r\n        getFormattedSplittedCalendar() {\r\n            if (!this.calendar) return\r\n            const tempData = deepcopy(this.calendar.splittedCalendar)\r\n            tempData?.forEach((el: any) => {\r\n                el.isHoliday = el.isHoliday ? 1 : null\r\n                el.pubHoliday = el.pubHoliday ? 'true' : null\r\n                delete el.date\r\n                delete el.day\r\n                delete el.checkEvent\r\n            })\r\n\r\n            return tempData\r\n        },\r\n        generateCalendarConfirm() {\r\n            this.$confirm.require({\r\n                message: this.$t('managers.calendarManagement.generateConfirmMessage', { numberOfDays: this.getDays() }),\r\n                header: this.$t('managers.calendarManagement.generateConfirmTitle'),\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => this.generateCalendar()\r\n            })\r\n        },\r\n        getDays() {\r\n            if (!this.calendar) return\r\n\r\n            const timeDiff = Math.abs((this.calendar.calEndDay as Date).getTime() - (this.calendar.calStartDay as Date).getTime())\r\n            const diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24))\r\n            return diffDays + 1\r\n        },\r\n        async generateCalendar() {\r\n            this.loading = true\r\n            await this.$http\r\n                .post(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `calendar/${this.calendar?.calendarId}/generateCalendarDays`, {})\r\n                .then(async () => {\r\n                    await this.loadCalendarInfo(this.calendar?.calendarId as number)\r\n                    this.generateButtonDisabled = true\r\n                    this.calendarDetailTableVisible = true\r\n                })\r\n                .catch(() => {})\r\n            this.loading = false\r\n        },\r\n        close() {\r\n            this.calendar = null\r\n            this.generateButtonVisible = false\r\n            this.generateButtonDisabled = true\r\n            this.calendarDetailTableVisible = false\r\n            this.$emit('close')\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#calendar-management-dialog .p-dialog-header,\r\n#calendar-management-dialog .p-dialog-content {\r\n    padding: 0;\r\n}\r\n#calendar-management-dialog .p-dialog-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: 1;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"kn-page\">\r\n        <Toolbar class=\"kn-toolbar kn-toolbar--primary\">\r\n            <template #start>\r\n                {{ $t('managers.calendarManagement.title') }}\r\n            </template>\r\n            <template #end>\r\n                <KnFabButton v-show=\"canManageCalendar\" icon=\"fas fa-plus\" @click=\"showForm()\"></KnFabButton>\r\n            </template>\r\n        </Toolbar>\r\n        <KnOverlaySpinnerPanel :visibility=\"loading\" data-test=\"spinner\" />\r\n        <div class=\"kn-page-content p-grid p-m-0\">\r\n            <div class=\"p-col\" v-if=\"!loading\">\r\n                <DataTable\r\n                    :value=\"calendars\"\r\n                    :paginator=\"calendars.length > 20\"\r\n                    :loading=\"loading\"\r\n                    :rows=\"20\"\r\n                    class=\"p-datatable-sm kn-table\"\r\n                    dataKey=\"id\"\r\n                    v-model:filters=\"filters\"\r\n                    :globalFilterFields=\"calendarManagementDescriptor.globalFilterFields\"\r\n                    responsiveLayout=\"stack\"\r\n                    breakpoint=\"960px\"\r\n                    @rowClick=\"showForm($event)\"\r\n                    data-test=\"calendar-table\"\r\n                >\r\n                    <template #header>\r\n                        <div class=\"table-header\">\r\n                            <span class=\"p-input-icon-left\">\r\n                                <i class=\"pi pi-search\" />\r\n                                <InputText class=\"kn-material-input\" v-model=\"filters['global'].value\" :placeholder=\"$t('common.search')\" data-test=\"search-input\" />\r\n                            </span>\r\n                        </div>\r\n                    </template>\r\n                    <template #empty>\r\n                        {{ $t('common.info.noDataFound') }}\r\n                    </template>\r\n                    <template #loading>\r\n                        {{ $t('common.info.dataLoading') }}\r\n                    </template>\r\n                    <Column class=\"kn-truncated\" field=\"calendar\" :header=\"$t('common.name')\" :sortable=\"true\"></Column>\r\n                    <Column class=\"kn-truncated\" field=\"calStartDay\" :header=\"$t('cron.startDate')\" :sortable=\"true\">\r\n                        <template #body=\"slotProps\">\r\n                            <span :data-test=\"'calendar-start-day-' + slotProps.data.calendar\">{{ getFormattedDate(slotProps.data.calStartDay) }}</span>\r\n                        </template>\r\n                    </Column>\r\n                    <Column class=\"kn-truncated\" field=\"calEndDay\" :header=\"$t('cron.endDate')\" :sortable=\"true\">\r\n                        <template #body=\"slotProps\">\r\n                            <span>{{ getFormattedDate(slotProps.data.calEndDay) }}</span>\r\n                        </template>\r\n                    </Column>\r\n                    <Column class=\"kn-truncated\" field=\"calType\" :header=\"$t('common.type')\" :sortable=\"true\"></Column>\r\n                    <Column v-if=\"canManageCalendar\" :style=\"calendarManagementDescriptor.iconColumnStyle\">\r\n                        <template #body=\"slotProps\">\r\n                            <Button icon=\"pi pi-trash\" class=\"p-button-link\" @click=\"deleteCalendarConfirm(slotProps.data)\" :data-test=\"'delete-button-' + slotProps.data.calendar\" />\r\n                        </template>\r\n                    </Column>\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n\r\n        <CalendarManagementDialog :visible=\"calendarDialogVisible\" :propCalendar=\"selectedCalendar\" :domains=\"domains\" @close=\"closeCalendarDialog\" @calendarSaved=\"onCalendarSaved\"></CalendarManagementDialog>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { iCalendar, iDomain } from './CalendarManagement'\r\nimport { AxiosResponse } from 'axios'\r\nimport { filterDefault } from '@/helpers/commons/filterHelper'\r\nimport { formatDate } from '@/helpers/commons/localeHelper'\r\nimport moment from 'moment'\r\nimport calendarManagementDescriptor from './CalendarManagementDescriptor.json'\r\nimport CalendarManagementDialog from './CalendarManagementDialog/CalendarManagementDialog.vue'\r\nimport Column from 'primevue/column'\r\nimport DataTable from 'primevue/datatable'\r\nimport KnFabButton from '@/components/UI/KnFabButton.vue'\r\nimport KnOverlaySpinnerPanel from '@/components/UI/KnOverlaySpinnerPanel.vue'\r\nimport mainStore from '../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'calendar-management',\r\n    components: { CalendarManagementDialog, Column, DataTable, KnFabButton, KnOverlaySpinnerPanel },\r\n    data() {\r\n        return {\r\n            calendarManagementDescriptor,\r\n            calendars: [] as iCalendar[],\r\n            domains: [] as iDomain[],\r\n            filters: { global: [filterDefault] },\r\n            selectedCalendar: null as iCalendar | null,\r\n            calendarDialogVisible: false,\r\n            loading: false\r\n        }\r\n    },\r\n    computed: {\r\n        canManageCalendar(): boolean {\r\n            return (this.store.$state as any).user.functionalities.includes('ManageCalendar')\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    async created() {\r\n        await this.loadCalendars()\r\n        await this.loadDomains()\r\n    },\r\n    methods: {\r\n        async loadCalendars() {\r\n            this.loading = true\r\n            await this.$http.get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `calendar/getCalendarList`).then((response: AxiosResponse<any>) => (this.calendars = response.data))\r\n            this.loading = false\r\n        },\r\n        async loadDomains() {\r\n            this.loading = true\r\n            await this.$http.get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `calendar/getDomains`).then((response: AxiosResponse<any>) => (this.domains = response.data))\r\n            this.loading = false\r\n        },\r\n        showForm(event: any = null) {\r\n            this.selectedCalendar = event ? event.data : this.createNewCalendar()\r\n            this.calendarDialogVisible = true\r\n        },\r\n        getFormattedDate(date: number) {\r\n            const tempDate = moment(date).format('DD/MM/YYYY')\r\n            return formatDate(tempDate, '', 'DD/MM/YYYY')\r\n        },\r\n        deleteCalendarConfirm(calendar: iCalendar) {\r\n            this.$confirm.require({\r\n                message: this.$t('common.toast.deleteMessage'),\r\n                header: this.$t('common.toast.deleteConfirmTitle'),\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => this.deleteCalendar(calendar)\r\n            })\r\n        },\r\n        async deleteCalendar(calendar: iCalendar) {\r\n            await this.$http\r\n                .post(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `calendar/${calendar.calendarId}/deleteCalendar`)\r\n                .then(() => {\r\n                    this.store.setInfo({\r\n                        title: this.$t('common.toast.deleteTitle'),\r\n                        msg: this.$t('common.toast.deleteSuccess')\r\n                    })\r\n                    this.removeCalendar(calendar)\r\n                })\r\n                .catch(() => {})\r\n        },\r\n        removeCalendar(calendar: iCalendar) {\r\n            const index = this.calendars.findIndex((tempCalendar: iCalendar) => tempCalendar.calendarId === calendar.calendarId)\r\n            if (index !== -1) this.calendars.splice(index, 1)\r\n        },\r\n        createNewCalendar() {\r\n            return {\r\n                realDateGenerated: [],\r\n                splittedCalendar: [],\r\n                calStartDay: null,\r\n                calEndDay: null,\r\n                calendar: '',\r\n                calType: ''\r\n            } as iCalendar\r\n        },\r\n        closeCalendarDialog() {\r\n            this.selectedCalendar = null\r\n            this.calendarDialogVisible = false\r\n        },\r\n        onCalendarSaved() {\r\n            this.loadCalendars()\r\n        }\r\n    }\r\n})\r\n</script>\r\n"],"names":["_sfc_main","Calendar","mainStore","_hoisted_2","_hoisted_7","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_3","_hoisted_4","_createVNode","_normalizeClass","_hoisted_5","_toDisplayString","_hoisted_6","_withDirectives","_vShow","Checkbox","Column","DataTable","MultiSelect","moment","_withCtx","_normalizeStyle","_openBlock","_createBlock","Dialog","_createCommentVNode"],"mappings":"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"}