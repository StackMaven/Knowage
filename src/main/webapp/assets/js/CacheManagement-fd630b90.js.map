{"version":3,"mappings":"+kBAwCA,KAAKA,GAAa,EAAa,CAC3B,KAAM,qBACN,WAAY,MACRC,SACAC,YACAC,CACJ,EACA,MAAO,CACH,oBAAqB,CACjB,KAAM,MACN,SAAU,EACd,EACA,QAAS,CACL,KAAM,OACV,CACJ,EACA,MAAO,CAAC,SAAS,EACjB,MAAO,CACI,OACH,6BACA,SAAU,CAAC,EAEnB,EACA,SAAU,CACN,kBAA4B,CACjB,YAAK,SAAS,SAAW,CACpC,CACJ,EACA,MAAO,CACH,qBAAsB,CAClB,KAAK,aAAa,CACtB,CACJ,EACA,OAAQ,CAEJ,MAAO,OADOC,GACC,CACnB,EACA,SAAU,CACN,KAAK,aAAa,CACtB,EACA,QAAS,CACL,cAAe,CACX,KAAK,SAAW,KAAK,mBACzB,EACA,iBAAkB,CACd,KAAK,SAAS,QAAQ,CAClB,QAAS,KAAK,GAAG,0CAA0C,EAC3D,OAAQ,KAAK,GAAG,0BAA0B,EAC1C,KAAM,6BACN,OAAQ,IAAM,KAAK,SAAS,EAC/B,CACL,EACA,KAAM,WAAW,CACb,KAAM,MAAK,MAAM,OAAO,uCAA0D,EAAE,KAAK,IAAM,KAAK,mBAAmB,CAC3H,EACA,qBAAqB,EAAmB,CACpC,KAAK,SAAS,QAAQ,CAClB,QAAS,KAAK,GAAG,4BAA4B,EAC7C,OAAQ,KAAK,GAAG,0BAA0B,EAC1C,KAAM,6BACN,OAAQ,IAAM,KAAK,cAAc,CAAS,EAC7C,CACL,EACA,KAAM,eAAc,EAAmB,CACnC,KAAM,MAAK,MAAM,IAAI,oDAAwE,CAAE,WAAY,CAAC,CAAS,EAAG,EAAE,KAAK,IAAM,KAAK,kBAAmB,EACjK,EACA,mBAAoB,CAChB,KAAK,MAAM,QAAQ,CACf,MAAO,KAAK,GAAG,0BAA0B,EACzC,IAAK,KAAK,GAAG,4BAA4B,EAC5C,EACD,KAAK,MAAM,SAAS,CACxB,CACJ,CACJ,CAAC,wGAhHwB,SAQH,8BAPVC,EAOU,OANU,EACyC,gHAE9C,OACPA,EAAkM,KAApLC,KAA4C,iDAA6B,SAAO,mBAAiB,QAAU,4JAI1H,WACPD,EAaY,OAbO,EAAQ,CAAG,MAAO,EAAE,SAAS,QAAM,UAA0B,MAAO,0BAAa,oBAAyB,iBAAW,QAAQ,WAAS,mCAC1I,4EAGA,4DAGX,eAAyKE,0DAAzGA,GAAW,OAAG,MAAM,EAAE,MAAiB,OAAQ,EAAC,GAAK,UAAG,IAAK,QAAa,MAAMC,EAAc,kEAC9J,UAAc,EAAE,6DACD,QACPH,EAAqI,MAAxH,EAAa,CAAC,KAAK,cAAkB,MAAK,gBAAkD,WAAU,EAAe,81BCoG1J,KAAKL,GAAa,EAAa,CAC3B,KAAM,wBACN,WAAY,UACRS,cACAC,CACJ,EACA,MAAO,CACH,KAAM,CACF,KAAM,OACN,SAAU,EACd,EACA,YAAa,CACT,KAAM,MACN,SAAU,EACd,EACA,mBAAoB,CAChB,MAAO,CAAC,OAAQ,IAAI,EACpB,SAAU,EACd,CACJ,EACA,MAAO,CAAC,UAAU,EAClB,MAAO,CACI,OACH,gCACA,SAAU,CAAC,EACX,WAAY,CAAC,EACb,kBAAmB,CAAC,EAE5B,EACA,MAAO,CACH,MAAO,CACH,KAAK,aAAa,CACtB,EACA,aAAc,CACV,KAAK,gBAAgB,CACzB,EACA,oBAAqB,CACjB,KAAK,eAAe,CACxB,CACJ,EACA,OAAQ,CAEJ,MAAO,OADON,GACC,CACnB,EACA,SAAU,CACN,KAAK,aAAa,EAClB,KAAK,gBAAgB,EACrB,KAAK,eAAe,CACxB,EACA,QAAS,CACL,cAAe,CACX,KAAK,SAAW,CAAE,GAAG,KAAK,IAAK,CACnC,EACA,iBAAkB,CACd,KAAK,kBAAoB,KAAK,WAClC,EACA,gBAAiB,CACb,KAAK,WAAa,CAAE,GAAI,KAAK,kBAA8B,CAC/D,EACA,KAAM,OAAO,CACT,KAAM,MAAK,cACX,KAAM,MAAK,iBACX,KAAM,MAAK,2BAEX,KAAK,MAAM,QAAQ,CACf,MAAO,KAAK,GAAG,sBAAsB,EACrC,IAAK,KAAK,GAAG,0BAA0B,EAC1C,EACD,KAAK,MAAM,UAAU,CACzB,EACA,KAAM,2BAA2B,CAC7B,KAAM,GAAiB,CACnB,CAAE,MAAO,2BAA4B,MAAO,KAAK,SAAS,wBAAyB,EACnF,CAAE,MAAO,gCAAiC,MAAO,KAAK,SAAS,eAAiB,OAAQ,EACxF,CAAE,MAAO,gCAAiC,MAAO,KAAK,SAAS,aAAc,EAC7E,CAAE,MAAO,sCAAuC,MAAO,KAAK,SAAS,oBAAoB,MAAO,GAAI,KAAK,SAAS,oBAAoB,KAAM,EAC5I,CAAE,MAAO,gCAAiC,MAAO,KAAK,SAAS,kBAAmB,EAClF,CAAE,MAAO,mCAAoC,MAAO,KAAK,SAAS,aAAc,EAChF,CAAE,MAAO,iDAAkD,MAAO,KAAK,SAAS,uBAAwB,EACxG,CAAE,MAAO,yCAA0C,MAAO,KAAK,SAAS,iBAAkB,EAC1F,CAAE,MAAO,kCAAmC,MAAO,KAAK,SAAS,gBAAiB,EAClF,CAAE,MAAO,oCAAqC,MAAO,KAAK,SAAS,kBAAmB,GAG1F,KAAM,MAAK,MACN,IAAI,6CAAiE,CAAE,iBAAgC,EACvG,OACA,MAAM,CAAC,EAAU,CACd,QAAQ,IAAI,CAAK,EACpB,CACT,EACA,KAAM,iBAAiB,CACnB,KAAM,MAAK,MAAM,IAAI,4CAAgE,CAAE,GAAG,KAAK,WAAY,aAAc,EAAM,EACnI,EACA,KAAM,cAAc,CAChB,KAAM,MAAK,MAAM,IAAI,8CAAiE,CAC1F,EACA,oBAAoB,EAAe,EAAe,CAC9C,KAAK,SAAS,GAAS,CAC3B,EACA,gBAAiB,CACb,KAAK,aAAa,EAClB,KAAK,eAAe,CACxB,EACA,qBAAqB,EAAc,CAC/B,MAAI,OAAM,CAAI,EAAU,EACpB,EAAO,KAAa,EAAK,QAAQ,CAAC,EAAI,MAClC,SACJ,EAAO,KAAa,IAAM,EAAK,QAAQ,CAAC,EAAI,MACxC,SACD,IAAM,EAAK,QAAQ,CAAC,EAAI,OACnC,CACJ,CACJ,CAAC,KA7NoB,MAAM,iBACFO,SAAM,iDACCC,GAAyB,uFAGf,EAAC,CAA2B,IAAK,gFAKjC,EAAC,CAAgB,IAAK,iFAMtB,GAAC,CAAsB,IAAK,mEAezC,QAAK,wBAEQ,GAAC,CAAgB,IAAK,kFAMtB,GAAC,CAA0B,IAAK,uEAM7C,UAAM,gCAEO,GAAC,CAAiB,IAAK,kEAKpC,GAAe,4CAEF,GAAC,CAAqB,IAAK,uFAM3B,GAAa,CAAC,IAAK,0DAehC,QAAK,wBAEQ,GAAC,CAAoB,IAAK,sFAM1B,GAAC,CAAmB,IAAK,qFAMzB,GAAC,CAAqB,IAAK,8LAtG5C,SASH,8BARVP,EAQU,OAPU,EACwC,qIAE7C,OACPA,EAA+H,KAAjHC,KAA4C,MAAK,2CAAQ,QAAU,qFAC8E,eAAjJA,KAA4C,MAAK,2CAAkB,QAAU,2IAI5F,WACPD,EAgGO,OA/FH,OA8FMQ,KA7FF,MA0CMF,KAzCF,MAKMG,KAJF,MAGOF,EAHP,CAC+JG,cAA7I,EAA0B,CAAC,8BAA0B,MAAK,qGAAO,EAAgD,oDAAC,eAAU,CAAc,mCACZ,sGAGpJ,KACI,MAGO,KAFH,OAAuJ,KAAvJ,CACAA,EAAqO,sFAArN,EAAe,CAAC,mBAAwC,mEAAyB,sBAAM,2CAAG,IAAK,EAAM,QAAqB,YAAK,GAAsD,UAAU,IAAmB,kHAG1O,KACI,MAcO,KAbH,OAAoJ,KAApJ,CACAA,EAWC,8EAXY,EAAqB,CAAC,6FAAkE,sBAAS,SAA8B,GAAe,4FAC5I,SACIV,EAAU,CAAK,kBACkB,MAA/B,iDAGN,UACPA,EAEM,MADF,MAA6C,qFAMjE,KACI,MAGO,MAFH,OAAwI,KAAxI,CACAU,EAAqN,wEAArM,EAAe,CAAC,mBAAwC,mEAAyB,sBAAkB,2CAAG,YAAK,GAAsD,UAAU,IAAuB,sHAG1N,KACI,MAGO,MAFH,OAAoJ,KAApJ,CACAA,EAA2O,0EAA3N,EAAyB,CAAC,6BAAwC,6EAAmC,sBAAkB,qDAAG,YAAK,GAAgE,UAAU,IAAe,0HAIpP,KACI,MAMM,MALF,MAIO,MAHH,OAAiJ,KAAjJ,CACAA,EAAiO,gFAAjN,EAAgB,CAAC,oBAAwC,oEAA0B,sBAAM,4CAAG,MAAqB,YAAK,GAAuD,UAAU,IAAuB,6FACnI,+FAGnG,KACI,MAGO,MAFH,OAAqJ,KAArJ,CACAA,EAAoP,gFAApO,EAAoB,CAAC,wBAAwC,wEAA8B,sBAAM,kDAAG,IAAK,EAAM,QAAqB,YAAK,GAA2D,UAAU,KAAmB,wHAGzP,KACI,MAcO,MAbH,OAAkI,KAAlI,CACAA,EAWC,qEAXY,EAAY,CAAC,kEAAgD,sBAAS,EAAiB,0DACrF,SACIV,EAAU,CAAK,kBACkB,MAA/B,iDAGN,UACPA,EAEM,MADF,MAAyC,+EAM7D,KACI,MAGO,MAFH,OAAmI,KAAnI,CACAU,EAA+N,+DAA/M,EAAmB,CAAC,uBAAwC,uEAA6B,sBAAkB,iDAAG,YAAK,GAA0D,UAAU,KAAqB,yHAGpO,KACI,MAGO,MAFH,OAA2I,KAA3I,CACAA,EAAgO,wEAAhN,EAAkB,CAAC,sBAAwC,sEAA4B,sBAAkB,gDAAG,YAAK,GAAyD,UAAU,KAAyB,4HAGrO,KACI,MAGO,MAFH,OAAoJ,KAApJ,CACAA,EAAyO,+EAAzN,EAAoB,CAAC,wBAAwC,wEAA8B,sBAAkB,kDAAG,YAAK,GAA2D,UAAU,KAA4B,8MCvGlQ,EAAS,CACT,KAAM,QACN,MAAO,CAAC,SAAU,QAAQ,EAC1B,MAAO,CACH,KAAM,OACN,KAAM,KACN,QAAS,KACT,QAAS,KACT,MAAO,CACH,KAAM,OACN,QAAS,GACZ,EACD,OAAQ,CACJ,KAAM,OACN,QAAS,GACZ,CACJ,EACD,MAAO,KACP,MAAO,CAKH,KAAM,CACF,SAAU,CACN,KAAK,OAAM,CACd,EACD,KAAM,EACT,EACD,MAAO,CACH,KAAK,OAAM,CACd,EACD,SAAU,CACN,KAAK,OAAM,CACd,CACJ,EACD,SAAU,CACN,KAAK,UAAS,CACjB,EACD,eAAgB,CACZ,CAAI,IAAK,OACL,MAAK,MAAM,UACX,KAAK,MAAQ,KAEpB,EACD,QAAS,CACL,WAAY,CACR,2CAAwB,KAAK,CAAC,EAAW,CACrC,CAAI,IAAK,OACL,MAAK,MAAM,UACX,KAAK,MAAQ,MAGb,GAAU,EAAO,SACjB,MAAK,MAAQ,GAAI,GAAO,QAAQ,KAAK,MAAM,OAAQ,CAC/C,KAAM,KAAK,KACX,KAAM,KAAK,KACX,QAAS,KAAK,QACd,QAAS,KAAK,OACtC,CAAqB,GAGL,KAAK,MAAM,SAAU,KAAK,KAAK,CAC/C,CAAa,CACJ,EACD,WAAY,CACR,MAAO,MAAK,OACf,EACD,UAAW,CACP,MAAO,MAAK,KACf,EACD,gBAAiB,CACb,MAAO,MAAK,MAAM,eACrB,EACD,SAAU,CACN,CAAI,IAAK,OACL,KAAK,MAAM,QAElB,EACD,QAAS,CACL,KAAK,UAAS,CACjB,EACD,cAAc,EAAO,CACjB,GAAI,KAAK,MAAO,CACZ,KAAM,GAAU,KAAK,MAAM,0BAA0B,EAAO,UAAW,CAAE,UAAW,EAAM,EAAE,EAAK,EAC3F,EAAU,KAAK,MAAM,0BAA0B,EAAO,UAAW,CAAE,UAAW,EAAM,EAAE,EAAK,EAEjG,CAAI,EAAW,EAAQ,IAAM,GACzB,KAAK,MAAM,SAAU,CAAE,cAAe,EAAO,QAAS,EAAQ,GAAI,QAAS,CAAS,EAE3F,CACJ,EACD,gBAAiB,CACb,GAAI,KAAK,MACL,MAAO,MAAK,MAAM,gBAEzB,CACJ,CACL,EAEA,KAAMF,IAAa,CAAE,MAAO,WACtBF,GAAa,CAAC,QAAS,QAAQ,EAErC,YAAgB,EAAM,EAAQ,EAAQ,EAAQ,EAAO,EAAU,CAC7D,MAAQ,GAAW,EAAE,EAAmB,MAAOE,GAAY,CACzDG,EAAmB,SAAU,CAC3B,IAAK,SACL,MAAO,EAAO,MACd,OAAQ,EAAO,OACf,QAAS,EAAO,IAAO,GAAO,GAAK,GAAW,EAAS,cAAc,CAAM,EACjF,EAAO,KAAM,EAAGL,EAAU,CAC1B,CAAG,CACH,CAEA,YAAqB,EAAK,EAAK,CAC7B,CAAK,GAAQ,QAAS,GAAM,IAC5B,GAAI,GAAW,EAAI,SAEnB,GAAI,GAAC,GAAO,MAAO,WAAa,aAEhC,IAAI,GAAO,SAAS,MAAQ,SAAS,qBAAqB,MAAM,EAAE,GAC9D,EAAQ,SAAS,cAAc,OAAO,EAC1C,EAAM,KAAO,WAEb,CAAI,GAAa,OACX,EAAK,WACP,EAAK,aAAa,EAAO,EAAK,UAAU,EAK1C,EAAK,YAAY,CAAK,EAGxB,CAAI,CAAM,WACR,EAAM,WAAW,QAAU,EAE3B,EAAM,YAAY,SAAS,eAAe,CAAG,CAAC,EAElD,CAEA,GAAI,IAAW;AAAA;AAAA;AAAA;AAAA,EACf,GAAY,EAAQ,EAEpB,EAAO,OAAS,GC7GhB,KAAKX,IAAa,EAAa,CAC3B,KAAM,2BACN,WAAY,MACRC,QACAgB,CACJ,EACA,MAAO,CACH,KAAM,CACF,KAAM,OACN,SAAU,EACd,EACA,UAAW,CACP,KAAM,OACN,SAAU,EACd,CACJ,EACA,MAAO,CAAC,SAAS,EACjB,MAAO,CACI,OACH,MAAO,CAAC,EACR,UAAW,KAAK,UAAU,EAElC,EACA,MAAO,CACH,MAAO,CACH,KAAK,UAAU,CACnB,EACA,WAAY,CACR,KAAK,UAAU,CACnB,CACJ,EACA,SAAU,CACN,aAAsB,CAClB,YAAa,MAAM,YAAc,SAAS,QAAQ,CAAC,EAAI,KAC3D,EACA,iBAA0B,CACtB,YAAa,MAAM,gBAAkB,SAAS,QAAQ,CAAC,EAAI,KAC/D,CACJ,EACA,SAAU,CACN,KAAK,UAAU,CACnB,EACA,QAAS,CACL,WAAY,CACR,KAAK,MAAQ,CAAE,GAAG,KAAK,IAAK,CAChC,EACA,WAAY,CACR,KAAK,UAAY,CACb,OAAQ,CAAC,KAAK,GAAG,0CAA0C,EAAG,KAAK,GAAG,qCAAqC,CAAC,EAC5G,SAAU,CACN,CACI,gBAAiB,CAAC,UAAW,SAAS,EACtC,KAAM,KAAK,SACf,CACJ,EAER,EACA,SAAU,CACN,KAAK,MAAM,SAAS,CACxB,CACJ,CACJ,CAAC,EApFoBJ,UAAM,8BAON,MAAM,WACNC,6MApBI,SAQH,8BAPVT,EAOU,OANU,EACgD,uHAErD,OACPA,EAAsG,OAAzF,EAAe,CAAC,KAAK,gBAAkD,MAAK,8FAI1F,WACPA,EAaM,OAZF,MAMMQ,MALF,MAAqFF,IACrFI,EAA0E,IAApE,YAAE,uCAA2C,QAAEG,EAAG,EAAW,0BACnEH,EAAkF,WAA5E,EAAE,iDAA+CG,EAAE,EAAG,gBAC5DH,EAAiG,WAA3F,EAAE,qDAAqDG,EAAE,EAAS,oBACxEH,EAA6G,IAAvG,YAAE,gDAAyD,UAAE,EAAG,MAAM,gJAEhF,KACA,MAEMD,IADuDC,YAAxCT,KAAG,KAAM,MAAW,KAAS,6FCQlE,KAAK,IAAa,EAAa,CAC3B,KAAM,mBACN,WAAY,CACR,mBACA,uBACA,yBACJ,EACA,MAAO,CACI,OACH,MAAO,CAAC,EACR,QAAS,GACT,uBAAwB,GACxB,qBAAsB,GACtB,UAAW,CAAC,EACZ,oBAAqB,CAAC,EACtB,SAAU,CAAC,EACX,mBAAoB,KACpB,YAAa,CAAC,EAEtB,EACA,SAAU,CACN,iBAA2B,CAChB,YAAK,SAAW,KAAK,sBAAwB,CACxD,CACJ,EACA,OAAQ,CAEJ,MAAO,OADOF,GACC,CACnB,EACA,KAAM,UAAU,CACZ,KAAK,SAAS,CAClB,EACA,QAAS,CACL,WAAY,CACH,WAAM,IAAI,uCAA0D,EAAE,KAAK,CAAC,EAAiC,CAC9G,KAAK,MAAQ,EAAS,KACjB,eAAY,CAAC,KAAK,MAAM,0BAA2B,IAAM,KAAK,MAAM,yBAAyB,EACrG,CACL,EACA,cAAe,CACX,KAAK,SAAW,GAChB,KAAK,qBAAuB,GACvB,WACA,IAAI,sEAAyF,EAC7F,KAAK,CAAC,EAAkC,KAAK,SAAS,yBAA2B,EAAS,KAAK,UAAW,EAC1G,QAAQ,IAAM,KAAK,sBAAsB,EACzC,WACA,IAAI,2EAA8F,EAClG,KAAK,CAAC,EAAkC,KAAK,SAAS,cAAgB,CAAC,EAAS,KAAK,UAAW,EAChG,QAAQ,IAAM,KAAK,sBAAsB,EACzC,WACA,IAAI,iFAAoG,EACxG,KAAK,CAAC,EAAkC,KAAK,SAAS,oBAAsB,CAAE,MAAO,EAAS,KAAK,WAAY,MAAO,EAAS,KAAK,UAAa,GACjJ,QAAQ,IAAM,KAAK,sBAAsB,EACzC,WACA,IAAI,8EAAiG,EACrG,KAAK,CAAC,EAAkC,KAAK,SAAS,cAAgB,CAAC,EAAS,KAAK,UAAW,EAChG,QAAQ,IAAM,KAAK,sBAAsB,EACzC,WACA,IAAI,4FAA+G,EACnH,KAAK,CAAC,EAAkC,KAAK,SAAS,wBAA0B,CAAC,EAAS,KAAK,UAAW,EAC1G,QAAQ,IAAM,KAAK,sBAAsB,EACzC,WACA,IAAI,2EAA8F,EAClG,KAAK,CAAC,EAAkC,KAAK,SAAS,eAAiB,CAAC,EAAS,KAAK,WAAa,OAAQ,EAC3G,QAAQ,IAAM,KAAK,sBAAsB,EACzC,WACA,IAAI,2EAA8F,EAClG,KAAK,CAAC,EAAkC,KAAK,SAAS,mBAAqB,CAAC,EAAS,KAAK,UAAW,EACrG,QAAQ,IAAM,KAAK,sBAAsB,EACzC,WACA,IAAI,oFAAuG,EAC3G,KAAK,CAAC,EAAkC,KAAK,SAAS,kBAAoB,CAAC,EAAS,KAAK,UAAW,EACpG,QAAQ,IAAM,KAAK,sBAAsB,EACzC,WACA,IAAI,6EAAgG,EACpG,KAAK,CAAC,EAAkC,KAAK,SAAS,iBAAmB,CAAC,EAAS,KAAK,UAAW,EACnG,QAAQ,IAAM,KAAK,sBAAsB,EACzC,WACA,IAAI,+EAAkG,EACtG,KAAK,CAAC,EAAkC,KAAK,SAAS,mBAAqB,CAAC,EAAS,KAAK,UAAW,EACrG,QAAQ,IAAM,KAAK,sBAAsB,CAClD,EACA,KAAM,kBAAkB,CACpB,KAAK,QAAU,GACT,WAAK,MACN,IAAI,uDAA0E,EAC9E,KAAK,CAAC,EAAiC,CACpC,KAAK,YAAc,GACV,OAAK,IAAI,CAAC,EAAoB,CAC/B,EAAW,WAAa,IACnB,iBAAY,KAAK,CAAU,EAEhC,EAAW,eAAiB,IAC5B,MAAK,mBAAqB,EAC9B,CACH,CACJ,GACA,QAAQ,IAAO,KAAK,QAAU,EAAM,EAErC,KAAK,qBAAuB,MAC5B,KAAK,MAAM,SAAS,CAChB,MAAO,KAAK,GAAG,gDAAgD,EAC/D,IAAK,KAAK,GAAG,2CAA2C,EAC3D,CAET,EACA,sBAAuB,CACnB,KAAK,uBAAyB,GAC9B,KAAK,MACA,IAAI,4CAA+D,EACnE,KAAK,CAAC,EAAkC,KAAK,oBAAsB,EAAS,IAAK,EACjF,QAAQ,IAAO,KAAK,uBAAyB,EAAM,CAC5D,EACA,KAAM,WAAW,CACb,KAAM,MAAK,kBACX,KAAK,UAAU,EACf,KAAK,aAAa,EAClB,KAAK,qBAAqB,CAC9B,EACA,YAAa,CACT,KAAK,SAAS,CAClB,EACA,WAAY,CACR,KAAK,UAAU,EACf,KAAK,qBAAqB,CAC9B,CACJ,CACJ,CAAC,MAvJY,MAAM,4BACF,UAAM,wCAGN,UAAM,gCAGN,UAAM,sNAbf,aAAc,MAAC,MACK,EAC8B,2GAGc,+BAAnD,IAAI,EAAiB,KAAK,gBAA0C,kDACjF,MAUM,GAVN,MACI,MAEM,MAD4B,MAAkB,mCAAG,IAAI,EAAU,KAAW,QAAY,UAAS,qFAErG,KAC+B,MAAoB,IAA/C,oCAAuD,IAAI,EAAa,KAAW,WAAgB,YAAkB,cAAuB,mBAAU,wHAE1J,GACsJW,cAA/H,EAAqB,CAAsB,oBAAS,sBAAyB,QAAO,EAAE","names":["_sfc_main","Card","Column","DataTable","mainStore","_withCtx","_createVNode","_openBlock","_normalizeStyle","Dropdown","InputNumber","_hoisted_2","_hoisted_4","_hoisted_1","_hoisted_3","_createElementVNode","createElementVNode","Chart","_toDisplayString"],"sources":["../../../../modules/managers/cacheManagement/cards/DatasetTableCard/DatasetTableCard.vue","../../../../modules/managers/cacheManagement/cards/GeneralSettingsCard/GeneralSettingsCard.vue","../../../../../node_modules/primevue/chart/chart.esm.js","../../../../modules/managers/cacheManagement/cards/RuntimeInformationCard/RuntimeInformationCard.vue","../../../../modules/managers/cacheManagement/CacheManagement.vue"],"sourcesContent":["<template>\r\n    <Card class=\"p-m-2\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--primary\">\r\n                <template #start>\r\n                    {{ $t('managers.cacheManagement.addRemoveDataset') }}\r\n                </template>\r\n                <template #end>\r\n                    <Button class=\"kn-button p-button-text p-button-rounded\" :disabled=\"cleanAllDisabled\" @click=\"cleanAllConfirm\" data-test=\"clean-all-button\">{{ $t('managers.cacheManagement.cleanAll') }}</Button>\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n        <template #content>\r\n            <DataTable :value=\"datasets\" :loading=\"loading\" class=\"p-datatable-sm kn-table\" dataKey=\"signature\" responsiveLayout=\"stack\" breakpoint=\"960px\" data-test=\"dataset-table\">\r\n                <template #empty>\r\n                    {{ $t('managers.cacheManagement.metadataUnavailable') }}\r\n                </template>\r\n                <template #loading>\r\n                    {{ $t('common.info.dataLoading') }}\r\n                </template>\r\n                <Column v-for=\"col of datasetTableCardDescriptor.columns\" :field=\"col.field\" :header=\"$t(col.header)\" :key=\"col.field\" :style=\"col.style\" class=\"kn-truncated\"> </Column>\r\n                <Column :style=\"datasetTableCardDescriptor.table.iconColumn.style\">\r\n                    <template #body=\"slotProps\">\r\n                        <Button icon=\"pi pi-trash\" class=\"p-button-link\" @click=\"deleteDatasetConfirm(slotProps.data.signature)\" data-test=\"delete-button\" />\r\n                    </template>\r\n                </Column>\r\n            </DataTable>\r\n        </template>\r\n    </Card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { iMeta } from '../../CacheManagement'\r\nimport Card from 'primevue/card'\r\nimport Column from 'primevue/column'\r\nimport DataTable from 'primevue/datatable'\r\nimport datasetTableCardDescriptor from './DatasetTableCardDescriptor.json'\r\nimport mainStore from '../../../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'dataset-table-card',\r\n    components: {\r\n        Card,\r\n        Column,\r\n        DataTable\r\n    },\r\n    props: {\r\n        datasetMetadataList: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        loading: {\r\n            type: Boolean\r\n        }\r\n    },\r\n    emits: ['deleted'],\r\n    data() {\r\n        return {\r\n            datasetTableCardDescriptor,\r\n            datasets: [] as iMeta[]\r\n        }\r\n    },\r\n    computed: {\r\n        cleanAllDisabled(): boolean {\r\n            return this.datasets.length === 0\r\n        }\r\n    },\r\n    watch: {\r\n        datasetMetadataList() {\r\n            this.loadDatasets()\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    created() {\r\n        this.loadDatasets()\r\n    },\r\n    methods: {\r\n        loadDatasets() {\r\n            this.datasets = this.datasetMetadataList as iMeta[]\r\n        },\r\n        cleanAllConfirm() {\r\n            this.$confirm.require({\r\n                message: this.$t('managers.cacheManagement.cleanAllMessage'),\r\n                header: this.$t('common.toast.deleteTitle'),\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => this.cleanAll()\r\n            })\r\n        },\r\n        async cleanAll() {\r\n            await this.$http.delete(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '1.0/cacheee').then(() => this.emitDeleteSuccess())\r\n        },\r\n        deleteDatasetConfirm(signature: string) {\r\n            this.$confirm.require({\r\n                message: this.$t('common.toast.deleteMessage'),\r\n                header: this.$t('common.toast.deleteTitle'),\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => this.deleteDataset(signature)\r\n            })\r\n        },\r\n        async deleteDataset(signature: string) {\r\n            await this.$http.put(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '1.0/cacheee/deleteItems', { namesArray: [signature] }).then(() => this.emitDeleteSuccess())\r\n        },\r\n        emitDeleteSuccess() {\r\n            this.store.setInfo({\r\n                title: this.$t('common.toast.deleteTitle'),\r\n                msg: this.$t('common.toast.deleteSuccess')\r\n            })\r\n            this.$emit('deleted')\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep(.p-toolbar-group-right) {\r\n    height: 100%;\r\n}\r\n</style>\r\n","<template>\r\n    <Card class=\"p-m-2\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--primary p-toolbar-group-right\">\r\n                <template #start>\r\n                    {{ $t('managers.cacheManagement.generalSettings') }}\r\n                </template>\r\n                <template #end>\r\n                    <Button class=\"kn-button p-button-text p-button-rounded\" @click=\"save\" data-test=\"save-button\">{{ $t('common.save') }}</Button>\r\n                    <Button class=\"kn-button p-button-text p-button-rounded\" @click=\"discardChanges\" data-test=\"reset-button\">{{ $t('managers.cacheManagement.discard') }}</Button>\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n        <template #content>\r\n            <form class=\"p-fluid p-m-2\">\r\n                <div class=\"p-fluid p-formgrid p-grid\">\r\n                    <div class=\"p-col-6\">\r\n                        <div id=\"prefix-input-container\" class=\"p-field\">\r\n                            <span class=\"p-float-label field-container\">\r\n                                <InputText id=\"prefixForCacheTablesName\" class=\"kn-material-input\" type=\"text\" v-model.trim=\"settings.prefixForCacheTablesName\" data-test=\"prefix-input\" />\r\n                                <label for=\"prefixForCacheTablesName\" class=\"kn-material-input-label\"> {{ $t('managers.cacheManagement.prefixForCacheTablesName') }}</label>\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"limitForClean\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.maximumPercentOfCacheCleaningQuota') }}</label>\r\n                                <InputNumber id=\"limitForClean\" inputClass=\"kn-material-input\" v-model=\"settings.limitForClean\" :min=\"0\" :max=\"100\" :useGrouping=\"false\" @input=\"onInputNumberChange('limitForClean', $event.value)\" data-test=\"clean-limit-input\" />\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"schedulingFullClean\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.frequencyOfCleaningDaemon') }}</label>\r\n                                <Dropdown id=\"schedulingFullClean\" class=\"kn-material-input\" v-model=\"settings.schedulingFullClean\" :options=\"generalSettingsCardDescriptor.schedulingTypes\">\r\n                                    <template #value=\"slotProps\">\r\n                                        <div v-if=\"slotProps.value\">\r\n                                            <span>{{ slotProps.value.value }}</span>\r\n                                        </div>\r\n                                    </template>\r\n                                    <template #option=\"slotProps\">\r\n                                        <div>\r\n                                            <span>{{ $t(slotProps.option.label) }}</span>\r\n                                        </div>\r\n                                    </template></Dropdown\r\n                                >\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"lastAccessTtl\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.ttlForCachedDataset') }}</label>\r\n                                <InputNumber id=\"lastAccessTtl\" inputClass=\"kn-material-input\" v-model=\"settings.lastAccessTtl\" :useGrouping=\"false\" @input=\"onInputNumberChange('lastAccessTtl', $event.value)\" data-test=\"last-access-ttl-input\" />\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"createAndPersistTimeout\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.timeToCreateTempTable') }}</label>\r\n                                <InputNumber id=\"createAndPersistTimeout\" inputClass=\"kn-material-input\" v-model=\"settings.createAndPersistTimeout\" :useGrouping=\"false\" @input=\"onInputNumberChange('createAndPersistTimeout', $event.value)\" data-test=\"timeout-input\" />\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"p-col-6\">\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"spaceAvailable\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.totalBytesAvailableForCache') }}</label>\r\n                                <InputNumber id=\"spaceAvailable\" inputClass=\"kn-material-input\" v-model=\"settings.spaceAvailable\" :min=\"0\" :useGrouping=\"false\" @input=\"onInputNumberChange('spaceAvailable', $event.value)\" data-test=\"space-available-input\" />\r\n                                <small id=\"spaceAvailable-hint\">{{ formatCacheDimension(settings.spaceAvailable) }}</small>\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"cacheLimitForStore\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.cacheDimensionSingleDataset') }}</label>\r\n                                <InputNumber id=\"cacheLimitForStore\" inputClass=\"kn-material-input\" v-model=\"settings.cacheLimitForStore\" :min=\"0\" :max=\"100\" :useGrouping=\"false\" @input=\"onInputNumberChange('cacheLimitForStore', $event.value)\" data-test=\"cache-limit-input\" />\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"datasource\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.targetDatasource') }}</label>\r\n                                <Dropdown id=\"datasource\" class=\"kn-material-input\" v-model=\"datasource\" :options=\"datasourceOptions\">\r\n                                    <template #value=\"slotProps\">\r\n                                        <div v-if=\"slotProps.value\">\r\n                                            <span>{{ slotProps.value.label }}</span>\r\n                                        </div>\r\n                                    </template>\r\n                                    <template #option=\"slotProps\">\r\n                                        <div>\r\n                                            <span>{{ slotProps.option.label }}</span>\r\n                                        </div>\r\n                                    </template></Dropdown\r\n                                >\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"sqldbCacheTimeout\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.timeToLock') }}</label>\r\n                                <InputNumber id=\"sqldbCacheTimeout\" inputClass=\"kn-material-input\" v-model=\"settings.sqldbCacheTimeout\" :useGrouping=\"false\" @input=\"onInputNumberChange('sqldbCacheTimeout', $event.value)\" data-test=\"sqldb-timeout-input\" />\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"hazelcastTimeout\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.hazelcastTimeToLock') }}</label>\r\n                                <InputNumber id=\"hazelcastTimeout\" inputClass=\"kn-material-input\" v-model=\"settings.hazelcastTimeout\" :useGrouping=\"false\" @input=\"onInputNumberChange('hazelcastTimeout', $event.value)\" data-test=\"hazelcast-timeout-input\" />\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"p-field\">\r\n                            <span>\r\n                                <label for=\"hazelcastLeaseTime\" class=\"kn-material-input-label small-label\"> {{ $t('managers.cacheManagement.hazelcastTimeToReleaseLock') }}</label>\r\n                                <InputNumber id=\"hazelcastLeaseTime\" inputClass=\"kn-material-input\" v-model=\"settings.hazelcastLeaseTime\" :useGrouping=\"false\" @input=\"onInputNumberChange('hazelcastLeaseTime', $event.value)\" data-test=\"hazelcast-lease-time-input\" />\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </template>\r\n    </Card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { iSettings } from '../../CacheManagement'\r\nimport Dropdown from 'primevue/dropdown'\r\nimport InputNumber from 'primevue/inputnumber'\r\nimport generalSettingsCardDescriptor from './GeneralSettingsCardDescriptor.json'\r\nimport mainStore from '../../../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'general-settings-card',\r\n    components: {\r\n        Dropdown,\r\n        InputNumber\r\n    },\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n        datasources: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        selectedDatasource: {\r\n            value: [Object, null],\r\n            required: true\r\n        }\r\n    },\r\n    emits: ['inserted'],\r\n    data() {\r\n        return {\r\n            generalSettingsCardDescriptor,\r\n            settings: {} as iSettings,\r\n            datasource: {},\r\n            datasourceOptions: []\r\n        }\r\n    },\r\n    watch: {\r\n        item() {\r\n            this.loadSettings()\r\n        },\r\n        datasources() {\r\n            this.loadDatasources()\r\n        },\r\n        selectedDatasource() {\r\n            this.loadDatasource()\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    created() {\r\n        this.loadSettings()\r\n        this.loadDatasources()\r\n        this.loadDatasource()\r\n    },\r\n    methods: {\r\n        loadSettings() {\r\n            this.settings = { ...this.item } as iSettings\r\n        },\r\n        loadDatasources() {\r\n            this.datasourceOptions = this.datasources as []\r\n        },\r\n        loadDatasource() {\r\n            this.datasource = { ...(this.selectedDatasource as Object) }\r\n        },\r\n        async save() {\r\n            await this.removeCache()\r\n            await this.saveDatasource()\r\n            await this.saveConfigurationOptions()\r\n\r\n            this.store.setInfo({\r\n                title: this.$t('common.toast.success'),\r\n                msg: this.$t('common.toast.updateTitle')\r\n            })\r\n            this.$emit('inserted')\r\n        },\r\n        async saveConfigurationOptions() {\r\n            const configurations = [\r\n                { label: 'SPAGOBI.CACHE.NAMEPREFIX', value: this.settings.prefixForCacheTablesName },\r\n                { label: 'SPAGOBI.CACHE.SPACE_AVAILABLE', value: this.settings.spaceAvailable * 1048576 },\r\n                { label: 'SPAGOBI.CACHE.LIMIT_FOR_CLEAN', value: this.settings.limitForClean },\r\n                { label: 'SPAGOBI.CACHE.SCHEDULING_FULL_CLEAN', value: this.settings.schedulingFullClean.value, id: this.settings.schedulingFullClean.value },\r\n                { label: 'SPAGOBI.CACHE.LIMIT_FOR_STORE', value: this.settings.cacheLimitForStore },\r\n                { label: 'SPAGOBI.CACHE.DS_LAST_ACCESS_TTL', value: this.settings.lastAccessTtl },\r\n                { label: 'SPAGOBI.CACHE.CREATE_AND_PERSIST_TABLE.TIMEOUT', value: this.settings.createAndPersistTimeout },\r\n                { label: 'SPAGOBI.WORKMANAGER.SQLDBCACHE.TIMEOUT', value: this.settings.sqldbCacheTimeout },\r\n                { label: 'SPAGOBI.CACHE.HAZELCAST.TIMEOUT', value: this.settings.hazelcastTimeout },\r\n                { label: 'SPAGOBI.CACHE.HAZELCAST.LEASETIME', value: this.settings.hazelcastLeaseTime }\r\n            ]\r\n\r\n            await this.$http\r\n                .put(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/conf', { configurations: configurations })\r\n                .then()\r\n                .catch((error) => {\r\n                    console.log(error)\r\n                })\r\n        },\r\n        async saveDatasource() {\r\n            await this.$http.put(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/datasources', { ...this.datasource, writeDefault: true })\r\n        },\r\n        async removeCache() {\r\n            await this.$http.get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '1.0/cacheee/remove')\r\n        },\r\n        onInputNumberChange(field: string, value: number) {\r\n            this.settings[field] = value\r\n        },\r\n        discardChanges() {\r\n            this.loadSettings()\r\n            this.loadDatasource()\r\n        },\r\n        formatCacheDimension(size: number) {\r\n            if (isNaN(size)) return 0\r\n            if (size < 1024) return size.toFixed(2) + ' MB'\r\n            size /= 1024\r\n            if (size < 1024) return '~' + size.toFixed(2) + ' GB'\r\n            size /= 1024\r\n            return '~' + size.toFixed(2) + ' TB'\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep(.p-toolbar-group-right) {\r\n    height: 100%;\r\n}\r\n\r\n#prefix-input-container {\r\n    margin-top: 1.2rem;\r\n    margin-bottom: 2.2rem;\r\n}\r\n\r\n.small-label {\r\n    font-size: 0.9rem;\r\n}\r\n\r\n#spaceAvailable-hint {\r\n    font-size: 0.6rem;\r\n}\r\n</style>\r\n","import { openBlock, createElementBlock, createElementVNode } from 'vue';\n\nvar script = {\n    name: 'Chart',\n    emits: ['select', 'loaded'],\n    props: {\n        type: String,\n        data: null,\n        options: null,\n        plugins: null,\n        width: {\n            type: Number,\n            default: 300\n        },\n        height: {\n            type: Number,\n            default: 150\n        }\n    },\n    chart: null,\n    watch: {\n        /*\n         * Use deep watch to enable triggering watch for changes within structure\n         * otherwise the entire data object needs to be replaced to trigger watch\n         */\n        data: {\n            handler() {\n                this.reinit();\n            },\n            deep: true\n        },\n        type() {\n            this.reinit();\n        },\n        options() {\n            this.reinit();\n        }\n    },\n    mounted() {\n        this.initChart();\n    },\n    beforeUnmount() {\n        if (this.chart) {\n            this.chart.destroy();\n            this.chart = null;\n        }\n    },\n    methods: {\n        initChart() {\n            import('chart.js/auto').then((module) => {\n                if (this.chart) {\n                    this.chart.destroy();\n                    this.chart = null;\n                }\n\n                if (module && module.default) {\n                    this.chart = new module.default(this.$refs.canvas, {\n                        type: this.type,\n                        data: this.data,\n                        options: this.options,\n                        plugins: this.plugins\n                    });\n                }\n\n                this.$emit('loaded', this.chart);\n            });\n        },\n        getCanvas() {\n            return this.$canvas;\n        },\n        getChart() {\n            return this.chart;\n        },\n        getBase64Image() {\n            return this.chart.toBase64Image();\n        },\n        refresh() {\n            if (this.chart) {\n                this.chart.update();\n            }\n        },\n        reinit() {\n            this.initChart();\n        },\n        onCanvasClick(event) {\n            if (this.chart) {\n                const element = this.chart.getElementsAtEventForMode(event, 'nearest', { intersect: true }, false);\n                const dataset = this.chart.getElementsAtEventForMode(event, 'dataset', { intersect: true }, false);\n\n                if (element && element[0] && dataset) {\n                    this.$emit('select', { originalEvent: event, element: element[0], dataset: dataset });\n                }\n            }\n        },\n        generateLegend() {\n            if (this.chart) {\n                return this.chart.generateLegend();\n            }\n        }\n    }\n};\n\nconst _hoisted_1 = { class: \"p-chart\" };\nconst _hoisted_2 = [\"width\", \"height\"];\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (openBlock(), createElementBlock(\"div\", _hoisted_1, [\n    createElementVNode(\"canvas\", {\n      ref: \"canvas\",\n      width: $props.width,\n      height: $props.height,\n      onClick: _cache[0] || (_cache[0] = $event => ($options.onCanvasClick($event)))\n    }, null, 8, _hoisted_2)\n  ]))\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n.p-chart {\\n    position: relative;\\n}\\n\";\nstyleInject(css_248z);\n\nscript.render = render;\n\nexport { script as default };\n","<template>\r\n    <Card class=\"p-m-2\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--primary\">\r\n                <template #start>\r\n                    {{ $t('managers.cacheManagement.runtimeInformationTitle') }}\r\n                </template>\r\n                <template #end>\r\n                    <Button icon=\"pi pi-refresh\" class=\"p-button-text p-button-rounded p-button-plain\" @click=\"refresh\" />\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n        <template #content>\r\n            <div class=\"p-d-flex p-flex-column\">\r\n                <div class=\"kn-flex\">                    \r\n                    <p>{{ $t('managers.cacheManagement.cacheEnabled') }}: {{ cache.cleaningEnabled }}</p>\r\n                    <p>{{ $t('managers.cacheManagement.totalMemory') }}: {{ totalMemory }}</p>\r\n                    <p>{{ $t('managers.cacheManagement.availableMemory') }}: {{ availableMemory }}</p>\r\n                    <p>{{ $t('managers.cacheManagement.numberOfCachedObjects') }}: {{ cache.cachedObjectsCount }}</p>\r\n                    <p>{{ $t('managers.cacheManagement.availableMemoryPercentage') }}: {{ cache.availableMemoryPercentage }}%</p>\r\n                </div>\r\n                <div class=\"kn-flex p-d-flex p-flex-row p-justify-center\">\r\n                <div style=\"position: relative; height:20rem; width:20rem\">\r\n                    <Chart type=\"pie\"  :data=\"cacheData\" data-test=\"chart\" />\r\n                </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </Card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { iCache } from '../../CacheManagement'\r\nimport Card from 'primevue/card'\r\nimport Chart from 'primevue/chart'\r\n\r\nexport default defineComponent({\r\n    name: 'runtime-information-card',\r\n    components: {\r\n        Card,\r\n        Chart\r\n    },\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n        chartData: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    emits: ['refresh'],\r\n    data() {\r\n        return {\r\n            cache: {} as iCache,\r\n            cacheData: this.loadChart()\r\n        }\r\n    },\r\n    watch: {\r\n        item() {\r\n            this.loadCache()\r\n        },\r\n        chartData() {\r\n            this.loadChart()\r\n        }\r\n    },\r\n    computed: {\r\n        totalMemory(): string {\r\n            return (this.cache.totalMemory / 1048576).toFixed(2) + ' MB'\r\n        },\r\n        availableMemory(): string {\r\n            return (this.cache.availableMemory / 1048576).toFixed(2) + ' MB'\r\n        }\r\n    },\r\n    created() {\r\n        this.loadCache()\r\n    },\r\n    methods: {\r\n        loadCache() {\r\n            this.cache = { ...this.item } as iCache\r\n        },\r\n        loadChart() {\r\n            this.cacheData = {\r\n                labels: [this.$t('managers.cacheManagement.availableMemory'), this.$t('managers.cacheManagement.usedMemory')],\r\n                datasets: [\r\n                    {\r\n                        backgroundColor: ['#43749e', '#bbd6ed'],\r\n                        data: this.chartData\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        refresh() {\r\n            this.$emit('refresh')\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n    <div class=\"cache-management kn-page\">\r\n        <Toolbar class=\"kn-toolbar kn-toolbar--primary\">\r\n            <template #start>\r\n                {{ $t('managers.cacheManagement.title') }}\r\n            </template>\r\n        </Toolbar>\r\n        <ProgressBar mode=\"indeterminate\" class=\"kn-progress-bar\" v-if=\"showProgressBar\" data-test=\"progress-bar\" />\r\n        <div class=\"p-d-flex p-flex-wrap kn-page-content\">\r\n            <div class=\"p-col-4 p-sm-12 p-md-4 p-p-0\">\r\n                <RuntimeInformationCard v-if=\"selectedDatasource\" :item=\"cache\" :chartData=\"chartData\" @refresh=\"onRefresh\"></RuntimeInformationCard>\r\n            </div>\r\n            <div class=\"p-col-8 p-sm-12 p-md-8 p-p-0\">\r\n                <GeneralSettingsCard v-if=\"settingsPendingCount == 0\" :item=\"settings\" :datasources=\"datasources\" :selectedDatasource=\"selectedDatasource\" @inserted=\"pageReload\"></GeneralSettingsCard>\r\n            </div>\r\n            <div class=\"p-col-12 p-sm-12 p-p-0\">\r\n                <DatasetTableCard :datasetMetadataList=\"datasetMetadataList\" :loading=\"datasetMetadataLoading\" @deleted=\"loadDatasetsMetadata\"></DatasetTableCard>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { iCache, iMeta, iSettings } from './CacheManagement'\r\nimport { AxiosResponse } from 'axios'\r\nimport DatasetTableCard from './cards/DatasetTableCard/DatasetTableCard.vue'\r\nimport GeneralSettingsCard from './cards/GeneralSettingsCard/GeneralSettingsCard.vue'\r\nimport RuntimeInformationCard from './cards/RuntimeInformationCard/RuntimeInformationCard.vue'\r\nimport mainStore from '../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'cache-management',\r\n    components: {\r\n        DatasetTableCard,\r\n        GeneralSettingsCard,\r\n        RuntimeInformationCard\r\n    },\r\n    data() {\r\n        return {\r\n            cache: {} as iCache,\r\n            loading: false,\r\n            datasetMetadataLoading: true,\r\n            settingsPendingCount: 10,\r\n            chartData: [] as any,\r\n            datasetMetadataList: [] as iMeta[],\r\n            settings: {} as iSettings,\r\n            selectedDatasource: null as any,\r\n            datasources: [] as any\r\n        }\r\n    },\r\n    computed: {\r\n        showProgressBar(): boolean {\r\n            return this.loading || this.settingsPendingCount != 0\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    async created() {\r\n        this.loadPage()\r\n    },\r\n    methods: {\r\n        loadCache() {\r\n            this.$http.get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '1.0/cacheee').then((response: AxiosResponse<any>) => {\r\n                this.cache = response.data\r\n                this.chartData = [this.cache.availableMemoryPercentage, 100 - this.cache.availableMemoryPercentage]\r\n            })\r\n        },\r\n        loadSettings() {\r\n            this.settings = {} as iSettings\r\n            this.settingsPendingCount = 10\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.CACHE.NAMEPREFIX')\r\n                .then((response: AxiosResponse<any>) => (this.settings.prefixForCacheTablesName = response.data.valueCheck))\r\n                .finally(() => this.settingsPendingCount--)\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.CACHE.LIMIT_FOR_CLEAN')\r\n                .then((response: AxiosResponse<any>) => (this.settings.limitForClean = +response.data.valueCheck))\r\n                .finally(() => this.settingsPendingCount--)\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.CACHE.SCHEDULING_FULL_CLEAN')\r\n                .then((response: AxiosResponse<any>) => (this.settings.schedulingFullClean = { label: response.data.valueCheck, value: response.data.valueCheck }))\r\n                .finally(() => this.settingsPendingCount--)\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.CACHE.DS_LAST_ACCESS_TTL')\r\n                .then((response: AxiosResponse<any>) => (this.settings.lastAccessTtl = +response.data.valueCheck))\r\n                .finally(() => this.settingsPendingCount--)\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.CACHE.CREATE_AND_PERSIST_TABLE.TIMEOUT')\r\n                .then((response: AxiosResponse<any>) => (this.settings.createAndPersistTimeout = +response.data.valueCheck))\r\n                .finally(() => this.settingsPendingCount--)\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.CACHE.SPACE_AVAILABLE')\r\n                .then((response: AxiosResponse<any>) => (this.settings.spaceAvailable = +response.data.valueCheck / 1048576))\r\n                .finally(() => this.settingsPendingCount--)\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.CACHE.LIMIT_FOR_STORE')\r\n                .then((response: AxiosResponse<any>) => (this.settings.cacheLimitForStore = +response.data.valueCheck))\r\n                .finally(() => this.settingsPendingCount--)\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.WORKMANAGER.SQLDBCACHE.TIMEOUT')\r\n                .then((response: AxiosResponse<any>) => (this.settings.sqldbCacheTimeout = +response.data.valueCheck))\r\n                .finally(() => this.settingsPendingCount--)\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.CACHE.HAZELCAST.TIMEOUT')\r\n                .then((response: AxiosResponse<any>) => (this.settings.hazelcastTimeout = +response.data.valueCheck))\r\n                .finally(() => this.settingsPendingCount--)\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/configs/label/SPAGOBI.CACHE.HAZELCAST.LEASETIME')\r\n                .then((response: AxiosResponse<any>) => (this.settings.hazelcastLeaseTime = +response.data.valueCheck))\r\n                .finally(() => this.settingsPendingCount--)\r\n        },\r\n        async loadDataSources() {\r\n            this.loading = true\r\n            await this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '2.0/datasources/?type=cache')\r\n                .then((response: AxiosResponse<any>) => {\r\n                    this.datasources = []\r\n                    response.data.map((datasource: any) => {\r\n                        if (datasource.readOnly === false) {\r\n                            this.datasources.push(datasource)\r\n                        }\r\n                        if (datasource.writeDefault === true) {\r\n                            this.selectedDatasource = datasource\r\n                        }\r\n                    })\r\n                })\r\n                .finally(() => (this.loading = false))\r\n\r\n            if (this.selectedDatasource === null) {\r\n                this.store.setError({\r\n                    title: this.$t('managers.cacheManagement.noDefaultDatasetTitle'),\r\n                    msg: this.$t('managers.cacheManagement.noDefaultDataset')\r\n                })\r\n            }\r\n        },\r\n        loadDatasetsMetadata() {\r\n            this.datasetMetadataLoading = true\r\n            this.$http\r\n                .get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + '1.0/cacheee/meta')\r\n                .then((response: AxiosResponse<any>) => (this.datasetMetadataList = response.data))\r\n                .finally(() => (this.datasetMetadataLoading = false))\r\n        },\r\n        async loadPage() {\r\n            await this.loadDataSources()\r\n            this.loadCache()\r\n            this.loadSettings()\r\n            this.loadDatasetsMetadata()\r\n        },\r\n        pageReload() {\r\n            this.loadPage()\r\n        },\r\n        onRefresh() {\r\n            this.loadCache()\r\n            this.loadDatasetsMetadata()\r\n        }\r\n    }\r\n})\r\n</script>\r\n"],"file":"assets/js/CacheManagement-fd630b90.js"}