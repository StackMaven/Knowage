import{Z as v,L as c,S as B,R as T,r as f,y as O,o as a,h as p,w as m,c as r,B as C,C as R,G as d,D as k,z as g,A as u,a as _,t as I,a0 as W,T as w,f as E,K as Z}from"./index-1e676509.js";var M={name:"ContextMenuSub",emits:["leaf-click"],props:{model:{type:Array,default:null},root:{type:Boolean,default:!1},parentActive:{type:Boolean,default:!1},template:{type:Function,default:null},exact:{type:Boolean,default:!0}},data(){return{activeItem:null}},watch:{parentActive(e){e||(this.activeItem=null)}},methods:{onItemMouseEnter(e,n){if(this.disabled(n)){e.preventDefault();return}this.activeItem=n},onItemClick(e,n,s){if(this.disabled(n)){e.preventDefault();return}n.command&&n.command({originalEvent:e,item:n}),n.items&&(this.activeItem&&n===this.activeItem?this.activeItem=null:this.activeItem=n),n.items||this.onLeafClick(),n.to&&s&&s(e)},onLeafClick(){this.activeItem=null,this.$emit("leaf-click")},onEnter(){this.position()},position(){const e=this.$refs.container.parentElement,n=c.getOffset(this.$refs.container.parentElement),s=c.getViewport(),o=this.$refs.container.offsetParent?this.$refs.container.offsetWidth:c.getHiddenElementOuterWidth(this.$refs.container),l=c.getOuterWidth(e.children[0]);this.$refs.container.style.top="0px",parseInt(n.left,10)+l+o>s.width-c.calculateScrollbarWidth()?this.$refs.container.style.left=-1*o+"px":this.$refs.container.style.left=l+"px"},getItemClass(e){return["p-menuitem",e.class,{"p-menuitem-active":this.activeItem===e}]},linkClass(e,n){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":n&&n.isActive,"router-link-active-exact":this.exact&&n&&n.isExactActive}]},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label}},computed:{containerClass(){return{"p-submenu-list":!this.root}}},directives:{ripple:T}};const H=["onMouseenter"],N=["href","onClick"],P={class:"p-menuitem-text"},V=["href","target","onClick","aria-haspopup","aria-expanded","tabindex"],X={class:"p-menuitem-text"},Y={key:1,class:"p-submenu-icon pi pi-angle-right"};function F(e,n,s,o,l,i){const b=f("router-link"),x=f("ContextMenuSub",!0),y=O("ripple");return a(),p(w,{name:"p-contextmenusub",onEnter:i.onEnter},{default:m(()=>[s.root||s.parentActive?(a(),r("ul",{key:0,ref:"container",class:d(i.containerClass),role:"menu"},[(a(!0),r(C,null,R(s.model,(t,L)=>(a(),r(C,{key:i.label(t)+L.toString()},[i.visible(t)&&!t.separator?(a(),r("li",{key:0,role:"none",class:d(i.getItemClass(t)),style:k(t.style),onMouseenter:h=>i.onItemMouseEnter(h,t)},[s.template?(a(),p(W(s.template),{key:1,item:t},null,8,["item"])):(a(),r(C,{key:0},[t.to&&!i.disabled(t)?(a(),p(b,{key:0,to:t.to,custom:""},{default:m(({navigate:h,href:z,isActive:A,isExactActive:S})=>[g((a(),r("a",{href:z,onClick:D=>i.onItemClick(D,t,h),class:d(i.linkClass(t,{isActive:A,isExactActive:S})),role:"menuitem"},[t.icon?(a(),r("span",{key:0,class:d(["p-menuitem-icon",t.icon])},null,2)):u("",!0),_("span",P,I(i.label(t)),1)],10,N)),[[y]])]),_:2},1032,["to"])):g((a(),r("a",{key:1,href:t.url,class:d(i.linkClass(t)),target:t.target,onClick:h=>i.onItemClick(h,t),"aria-haspopup":t.items!=null,"aria-expanded":t===l.activeItem,role:"menuitem",tabindex:i.disabled(t)?null:"0"},[t.icon?(a(),r("span",{key:0,class:d(["p-menuitem-icon",t.icon])},null,2)):u("",!0),_("span",X,I(i.label(t)),1),t.items?(a(),r("span",Y)):u("",!0)],10,V)),[[y]])],64)),i.visible(t)&&t.items?(a(),p(x,{key:i.label(t)+"_sub_",model:t.items,template:s.template,onLeafClick:i.onLeafClick,parentActive:t===l.activeItem,exact:s.exact},null,8,["model","template","onLeafClick","parentActive","exact"])):u("",!0)],46,H)):u("",!0),i.visible(t)&&t.separator?(a(),r("li",{key:"separator"+L.toString(),class:d(["p-menu-separator",t.class]),style:k(t.style),role:"separator"},null,6)):u("",!0)],64))),128))],2)):u("",!0)]),_:1},8,["onEnter"])}M.render=F;var K={name:"ContextMenu",inheritAttrs:!1,props:{model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},global:{type:Boolean,default:!1},exact:{type:Boolean,default:!0}},target:null,outsideClickListener:null,resizeListener:null,documentContextMenuListener:null,pageX:null,pageY:null,container:null,data(){return{visible:!1}},beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.unbindDocumentContextMenuListener(),this.container&&this.autoZIndex&&v.clear(this.container),this.container=null},mounted(){this.global&&this.bindDocumentContextMenuListener()},methods:{itemClick(e){const n=e.item;n.command&&(n.command(e),e.originalEvent.preventDefault()),this.hide()},toggle(e){this.visible?this.hide():this.show(e)},onLeafClick(){this.hide()},show(e){this.pageX=e.pageX,this.pageY=e.pageY,this.visible?this.position():this.visible=!0,e.stopPropagation(),e.preventDefault()},hide(){this.visible=!1},onEnter(e){this.position(),this.bindOutsideClickListener(),this.bindResizeListener(),this.autoZIndex&&v.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu)},onLeave(){this.unbindOutsideClickListener(),this.unbindResizeListener()},onAfterLeave(e){this.autoZIndex&&v.clear(e)},position(){let e=this.pageX+1,n=this.pageY+1,s=this.container.offsetParent?this.container.offsetWidth:c.getHiddenElementOuterWidth(this.container),o=this.container.offsetParent?this.container.offsetHeight:c.getHiddenElementOuterHeight(this.container),l=c.getViewport();e+s-document.body.scrollLeft>l.width&&(e-=s),n+o-document.body.scrollTop>l.height&&(n-=o),e<document.body.scrollLeft&&(e=document.body.scrollLeft),n<document.body.scrollTop&&(n=document.body.scrollTop),this.container.style.left=e+"px",this.container.style.top=n+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.visible&&this.container&&!this.container.contains(e.target)&&!e.ctrlKey&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&!c.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentContextMenuListener(){this.documentContextMenuListener||(this.documentContextMenuListener=e=>{this.show(e)},document.addEventListener("contextmenu",this.documentContextMenuListener))},unbindDocumentContextMenuListener(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)},containerRef(e){this.container=e}},computed:{containerClass(){return["p-contextmenu p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]}},components:{ContextMenuSub:M,Portal:B}};function U(e,n,s,o,l,i){const b=f("ContextMenuSub"),x=f("Portal");return a(),p(x,{appendTo:s.appendTo},{default:m(()=>[E(w,{name:"p-contextmenu",onEnter:i.onEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},{default:m(()=>[l.visible?(a(),r("div",Z({key:0,ref:i.containerRef,class:i.containerClass},e.$attrs),[E(b,{model:s.model,root:!0,onLeafClick:i.onLeafClick,template:e.$slots.item,exact:s.exact},null,8,["model","onLeafClick","template","exact"])],16)):u("",!0)]),_:1},8,["onEnter","onLeave","onAfterLeave"])]),_:1},8,["appendTo"])}function j(e,n){n===void 0&&(n={});var s=n.insertAt;if(!(!e||typeof document=="undefined")){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",s==="top"&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}var G=`
.p-contextmenu {
    position: absolute;
}
.p-contextmenu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-contextmenu .p-submenu-list {
    position: absolute;
    min-width: 100%;
    z-index: 1;
}
.p-contextmenu .p-menuitem-link {
    cursor: pointer;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-contextmenu .p-menuitem-text {
    line-height: 1;
}
.p-contextmenu .p-menuitem {
    position: relative;
}
.p-contextmenu .p-menuitem-link .p-submenu-icon {
    margin-left: auto;
}
.p-contextmenu-enter-from {
    opacity: 0;
}
.p-contextmenu-enter-active {
    -webkit-transition: opacity 250ms;
    transition: opacity 250ms;
}
`;j(G);K.render=U;export{K as s};
//# sourceMappingURL=contextmenu.esm-4301c9fe.js.map
