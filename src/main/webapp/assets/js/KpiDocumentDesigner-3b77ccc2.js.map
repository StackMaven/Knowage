{"version":3,"file":"KpiDocumentDesigner-3b77ccc2.js","sources":["../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesignerDocumentTypeCard/KpiDocumentDesignerDocumentTypeCard.vue","../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesignerKpiListCard/KpiDocumentDesignerKpiSelectDialog.vue","../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesignerKpiListCard/KpiDocumentDesignerKpiListCard.vue","../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesignerOptionsCard/KpiDocumentDesignerOptionsCard.vue","../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesignerStyleCard/KpiDocumentDesignerStyleCard.vue","../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesignerTypeCard/KpiDocumentDesignerTypeCard.vue","../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesignerSaveDialog/KpiDocumentDesignerSaveDialog.vue","../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesignerScorecardsListCard/KpiDocumentDesignerScorecardSelectDialog.vue","../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesignerScorecardsListCard/KpiDocumentDesignerScorecardsListCard.vue","../../../../modules/kpi/kpiDocumentDesigner/KpiDocumentDesigner.vue"],"sourcesContent":["<template>\r\n    <Card v-if=\"chart\" class=\"p-m-2\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--secondary\">\r\n                <template #start>\r\n                    {{ $t('kpi.kpiDocumentDesigner.typeOfDocument') }}\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n        <template #content>\r\n            <div class=\" p-d-flex p-flex-row\">\r\n                <div class=\"field-radiobutton p-mx-2\" v-for=\"(option, index) in kpiDocumentDesignerDocumentTypeCardDescriptor.documentTypeOptions\" :key=\"index\">\r\n                    <RadioButton :id=\"option.value\" :value=\"option.value\" v-model=\"chart.model\" @change=\"$emit('documentTypeChanged')\"></RadioButton>\r\n                    <label :for=\"option.value\" class=\"p-ml-2\">{{ $t(option.label) }}</label>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </Card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { iChart } from '../KpiDocumentDesigner'\r\nimport Card from 'primevue/card'\r\nimport RadioButton from 'primevue/radiobutton'\r\nimport kpiDocumentDesignerDocumentTypeCardDescriptor from './KpiDocumentDesignerDocumentTypeCardDescriptor.json'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-document-designer-document-type-card',\r\n    components: { Card, RadioButton },\r\n    props: { propChart: { type: Object as PropType<iChart> } },\r\n    emits: ['documentTypeChanged'],\r\n    data() {\r\n        return {\r\n            kpiDocumentDesignerDocumentTypeCardDescriptor,\r\n            chart: null as iChart | null\r\n        }\r\n    },\r\n    watch: {\r\n        propChart() {\r\n            this.loadChart()\r\n        }\r\n    },\r\n    created() {\r\n        this.loadChart()\r\n    },\r\n    methods: {\r\n        loadChart() {\r\n            this.chart = this.propChart as iChart\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n    <Dialog id=\"kpi-edit-kpi-select-dialog\" class=\"p-fluid kn-dialog--toolbar--primary\" :style=\"kpiDocumentDesignerKpiListCardDescriptor.dialog.style\" :contentStyle=\"kpiDocumentDesignerKpiListCardDescriptor.dialog.contentStyle\" :visible=\"visible\" :modal=\"true\" :closable=\"false\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--primary p-p-0 p-m-0 p-col-12\">\r\n                <template #start>\r\n                    {{ $t('kpi.kpiDocumentDesigner.kpiList') }}\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n\r\n        <DataTable\r\n            :value=\"kpiList\"\r\n            v-model:selection=\"selectedKpiAssociations\"\r\n            class=\"p-datatable-sm kn-table\"\r\n            dataKey=\"id\"\r\n            v-model:filters=\"filters\"\r\n            :kpiDocumentDesignerKpiListCardDescriptor=\"kpiDocumentDesignerKpiListCardDescriptor.selectKpiGlobalFilterFields\"\r\n            responsiveLayout=\"stack\"\r\n            breakpoint=\"960px\"\r\n            :scrollable=\"true\"\r\n            scrollHeight=\"80vh\"\r\n        >\r\n            <template #header>\r\n                <div class=\"table-header p-d-flex\">\r\n                    <span class=\"p-input-icon-left p-mr-3\">\r\n                        <i class=\"pi pi-search\" />\r\n                        <InputText class=\"kn-material-input\" v-model=\"filters['global'].value\" type=\"text\" :placeholder=\"$t('common.search')\" data-test=\"filterInput\" />\r\n                    </span>\r\n                </div>\r\n            </template>\r\n            <template #empty>\r\n                {{ $t('common.info.noDataFound') }}\r\n            </template>\r\n            <Column selectionMode=\"multiple\" headerStyle=\"width: 3em\"></Column>\r\n            <Column class=\"kn-truncated\" field=\"name\" :header=\"$t('kpi.kpiScheduler.kpiName')\" key=\"name\" :sortable=\"true\"> </Column>\r\n            <Column class=\"kn-truncated\" field=\"category.valueCd\" :header=\"$t('common.category')\" key=\"category.valueCd\" :sortable=\"true\"> </Column>\r\n            <Column class=\"kn-truncated\" field=\"dateCreation\" :header=\"$t('kpi.kpiScheduler.kpiName')\" key=\"dateCreation\" :sortable=\"true\">\r\n                <template #body=\"slotProps\">\r\n                    <span>{{ getFormattedDate(slotProps.data.dateCreation) }}</span>\r\n                </template>\r\n            </Column>\r\n            <Column class=\"kn-truncated\" field=\"author\" :header=\"$t('common.author')\" key=\"author\" :sortable=\"true\"> </Column>\r\n        </DataTable>\r\n\r\n        <template #footer>\r\n            <Button class=\"kn-button kn-button--primary\" :label=\"$t('common.close')\" @click=\"closeKpiAssociations\"></Button>\r\n            <Button class=\"kn-button kn-button--primary\" :label=\"$t('common.save')\" @click=\"addKpiAssociations\"></Button>\r\n        </template>\r\n    </Dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { filterDefault } from '@/helpers/commons/filterHelper'\r\nimport { formatDate } from '@/helpers/commons/localeHelper'\r\nimport { iKpi, iKpiListItem } from '../KpiDocumentDesigner'\r\nimport Column from 'primevue/column'\r\nimport DataTable from 'primevue/datatable'\r\nimport Dialog from 'primevue/dialog'\r\nimport kpiDocumentDesignerKpiListCardDescriptor from './KpiDocumentDesignerKpiListCardDescriptor.json'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-edit-kpi-select-dialog',\r\n    components: { Column, DataTable, Dialog },\r\n    props: { visible: { type: Boolean }, kpiList: { type: Array as PropType<iKpi[]> }, data: { type: Object as PropType<{ kpi: iKpiListItem[] }>, required: true } },\r\n    emits: ['close', 'kpiSelected'],\r\n    data() {\r\n        return {\r\n            kpiDocumentDesignerKpiListCardDescriptor,\r\n            filters: { global: [filterDefault] } as Object,\r\n            selectedKpiAssociations: [] as iKpi[]\r\n        }\r\n    },\r\n    watch: {\r\n        visible() {\r\n            this.setSelectedKpiAssociations()\r\n        }\r\n    },\r\n    async created() {\r\n        this.setSelectedKpiAssociations()\r\n    },\r\n    methods: {\r\n        getFormattedDate(date: any) {\r\n            return formatDate(date)\r\n        },\r\n        setSelectedKpiAssociations() {\r\n            this.selectedKpiAssociations = []\r\n\r\n            if (this.data.kpi) {\r\n                this.kpiList?.forEach((kpi: iKpi) => {\r\n                    const index = this.data.kpi.findIndex((kpiListItem: iKpiListItem) => kpi.name === kpiListItem.name)\r\n                    if (index !== -1) this.selectedKpiAssociations.push(kpi)\r\n                })\r\n            }\r\n        },\r\n        closeKpiAssociations() {\r\n            this.selectedKpiAssociations = []\r\n            this.$emit('close')\r\n        },\r\n        addKpiAssociations() {\r\n            this.$emit('kpiSelected', this.selectedKpiAssociations)\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#kpi-edit-kpi-select-dialog .p-dialog-header,\r\n#kpi-edit-kpi-select-dialog .p-dialog-content {\r\n    padding: 0;\r\n}\r\n#kpi-edit-kpi-select-dialog .p-dialog-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: 1;\r\n}\r\n</style>\r\n","<template>\r\n    <Card v-if=\"data\" class=\"p-m-2\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--secondary\">\r\n                <template #start>\r\n                    {{ $t('kpi.kpiDocumentDesigner.kpiList') }}\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n        <template #content>\r\n            <div>\r\n                <DataTable :value=\"data.kpi\" class=\"p-datatable-sm kn-table\" dataKey=\"name\" v-model:filters=\"filters\" :globalFilterFields=\"KpiDocumentDesignerKpiListCardDescriptor.globalFilterFields\" responsiveLayout=\"stack\" breakpoint=\"960px\" :scrollable=\"true\" scroll-height=\"60vh\">\r\n                    <template #header>\r\n                        <div class=\"table-header p-d-flex p-ai-center\">\r\n                            <span id=\"search-container\" class=\"p-input-icon-left p-mr-3\">\r\n                                <i class=\"pi pi-search\" />\r\n                                <InputText class=\"kn-material-input\" v-model=\"filters['global'].value\" type=\"text\" :placeholder=\"$t('common.search')\" data-test=\"filterInput\" />\r\n                            </span>\r\n                            <Button id=\"kpi-edit-add-kpi-associations-button\" class=\"kn-button kn-button--primary\" :label=\"$t('kpi.kpiScheduler.addKpiAssociation')\" @click=\"addKpiAssociationVisible = true\"></Button>\r\n                        </div>\r\n                    </template>\r\n\r\n                    <template #empty>{{ $t('common.info.noDataFound') }}</template>\r\n\r\n                    <Column class=\"kn-truncated\" v-for=\"col of KpiDocumentDesignerKpiListCardDescriptor.columns\" :field=\"col.field\" :header=\"$t(col.header)\" :key=\"col.field\" :style=\"col.style\" :sortable=\"true\"> </Column>\r\n\r\n                    <Column v-if=\"showSaveAsColumn\" field=\"vieweas\" :header=\"$t('kpi.kpiDocumentDesigner.viewAs')\" key=\"vieweas\" :sortable=\"true\" :style=\"KpiDocumentDesignerKpiListCardDescriptor.columnStyle\">\r\n                        <template #body=\"slotProps\">\r\n                            <Dropdown class=\"kpi-edit-kpi-list-card-dropdown\" v-model=\"slotProps.data[slotProps.column.props.field]\" :options=\"KpiDocumentDesignerKpiListCardDescriptor.viewAsOptions\" optionValue=\"value\" :placeholder=\"$t('kpi.kpiDocumentDesigner.viewAsPlaceholder')\">\r\n                                <template #value=\"slotProps\">\r\n                                    <div v-if=\"slotProps.value\">\r\n                                        <span>{{ slotProps.value === 'speedometer' ? $t('kpi.kpiDocumentDesigner.speedometer') : $t('kpi.kpiDocumentDesigner.kpiCard') }}</span>\r\n                                    </div>\r\n                                </template>\r\n                                <template #option=\"slotProps\">\r\n                                    <span>{{ $t(slotProps.option.label) }}</span>\r\n                                </template>\r\n                            </Dropdown>\r\n                        </template>\r\n                    </Column>\r\n\r\n                    <Column field=\"rangeMinValue\" :header=\"$t('kpi.kpiDocumentDesigner.rangeMinValue')\" key=\"rangeMinValue\" :sortable=\"true\" :style=\"KpiDocumentDesignerKpiListCardDescriptor.columnStyle\">\r\n                        <template #body=\"slotProps\">\r\n                            <div class=\"p-d-flex p-flex-row p-ai-center\">\r\n                                <InputText class=\"kn-material-input p-mr-2 kn-flex\" type=\"number\" v-model=\"slotProps.data[slotProps.column.props.field]\" :class=\"{ 'p-invalid': !slotProps.data[slotProps.column.props.field] }\" />\r\n                                <i class=\"pi pi-pencil edit-icon kn-flex\" />\r\n                            </div>\r\n                        </template>\r\n                    </Column>\r\n\r\n                    <Column field=\"rangeMaxValue\" :header=\"$t('kpi.kpiDocumentDesigner.rangeMaxValue')\" key=\"rangeMaxValue\" :sortable=\"true\" :style=\"KpiDocumentDesignerKpiListCardDescriptor.columnStyle\">\r\n                        <template #body=\"slotProps\">\r\n                            <div class=\"p-d-flex p-flex-row p-ai-center\">\r\n                                <InputText class=\"kn-material-input p-mr-2 kn-flex\" type=\"number\" v-model=\"slotProps.data[slotProps.column.props.field]\" :class=\"{ 'p-invalid': !slotProps.data[slotProps.column.props.field] }\" />\r\n                                <i class=\"pi pi-pencil edit-icon kn-flex\" />\r\n                            </div>\r\n                        </template>\r\n                    </Column>\r\n\r\n                    <Column field=\"prefixSuffixValue\" :header=\"$t('kpi.kpiDocumentDesigner.prefixSuffixLabel')\" key=\"prefixSuffixValue\" :sortable=\"true\" :style=\"KpiDocumentDesignerKpiListCardDescriptor.columnStyle\">\r\n                        <template #body=\"slotProps\">\r\n                            <div class=\"p-d-flex p-flex-row p-ai-center\">\r\n                                <InputText class=\"kn-material-input p-mr-2 kn-flex\" v-model=\"slotProps.data[slotProps.column.props.field]\" maxLength=\"3\" />\r\n                                <i class=\"pi pi-pencil edit-icon kn-flex\" />\r\n                            </div>\r\n                        </template>\r\n                    </Column>\r\n\r\n                    <Column field=\"isSuffix\" :header=\"$t('kpi.kpiDocumentDesigner.showLabelAs')\" key=\"isSuffix\" :sortable=\"true\" :style=\"KpiDocumentDesignerKpiListCardDescriptor.columnStyle\">\r\n                        <template #body=\"slotProps\">\r\n                            <Dropdown v-model=\"slotProps.data[slotProps.column.props.field]\" :options=\"KpiDocumentDesignerKpiListCardDescriptor.prefixSuffixOptions\" optionValue=\"value\">\r\n                                <template #value=\"slotProps\">\r\n                                    <div v-if=\"slotProps.value\">\r\n                                        <span>{{ slotProps.value === 'true' ? $t('kpi.kpiDocumentDesigner.suffix') : $t('kpi.kpiDocumentDesigner.prefix') }}</span>\r\n                                    </div>\r\n                                </template>\r\n                                <template #option=\"slotProps\">\r\n                                    <span>{{ $t(slotProps.option.label) }}</span>\r\n                                </template>\r\n                            </Dropdown>\r\n                        </template>\r\n                    </Column>\r\n\r\n                    <Column :style=\"KpiDocumentDesignerKpiListCardDescriptor.iconColumnStyle\">\r\n                        <template #body=\"slotProps\">\r\n                            <Button icon=\"pi pi-trash\" class=\"p-button-link\" @click=\"deleteKpiAssociationConfirm(slotProps.data)\" />\r\n                        </template>\r\n                    </Column>\r\n                </DataTable>\r\n            </div>\r\n\r\n            <KpiDocumentDesignerKpiSelectDialog :kpiList=\"kpiList\" :visible=\"addKpiAssociationVisible\" :data=\"data\" @close=\"addKpiAssociationVisible = false\" @kpiSelected=\"onKpiSelected\"></KpiDocumentDesignerKpiSelectDialog>\r\n        </template>\r\n    </Card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { iKpi, iKpiListItem } from '../KpiDocumentDesigner'\r\nimport { filterDefault } from '@/helpers/commons/filterHelper'\r\nimport Card from 'primevue/card'\r\nimport Column from 'primevue/column'\r\nimport DataTable from 'primevue/datatable'\r\nimport Dropdown from 'primevue/dropdown'\r\nimport KpiDocumentDesignerKpiListCardDescriptor from './KpiDocumentDesignerKpiListCardDescriptor.json'\r\nimport KpiDocumentDesignerKpiSelectDialog from './KpiDocumentDesignerKpiSelectDialog.vue'\r\nimport deepcopy from 'deepcopy'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-edit-kpi-list-card',\r\n    components: { Card, Column, DataTable, Dropdown, KpiDocumentDesignerKpiSelectDialog },\r\n    props: { propData: { type: Object }, kpiList: { type: Array as PropType<iKpi[]> }, documentType: { type: String } },\r\n    data() {\r\n        return {\r\n            KpiDocumentDesignerKpiListCardDescriptor,\r\n            data: { kpi: [] } as { kpi: iKpiListItem[] },\r\n            filters: { global: [filterDefault] } as Object,\r\n            addKpiAssociationVisible: false,\r\n            showSaveAsColumn: false\r\n        }\r\n    },\r\n    watch: {\r\n        propData() {\r\n            this.loadData()\r\n        },\r\n        documentType() {\r\n            this.setShowSaveAsColumn()\r\n        }\r\n    },\r\n    created() {\r\n        this.loadData()\r\n    },\r\n    methods: {\r\n        loadData() {\r\n            this.data = { kpi: [] }\r\n            if (!this.propData) return\r\n            this.data = Array.isArray(this.propData.kpi) ? (this.propData as { kpi: iKpiListItem[] }) : { kpi: [this.propData.kpi] }\r\n            this.setShowSaveAsColumn()\r\n        },\r\n        setShowSaveAsColumn() {\r\n            this.showSaveAsColumn = this.documentType === 'widget'\r\n        },\r\n        onKpiSelected(selectedKpi: iKpi[]) {\r\n            const temp = deepcopy(this.data.kpi) as any[]\r\n            this.data.kpi = []\r\n            selectedKpi.forEach((kpi: iKpi) => {\r\n                const index = temp.findIndex((tempKpi: iKpi) => tempKpi.name === kpi.name)\r\n                if (index !== -1) {\r\n                    this.data.kpi.push(temp[index])\r\n                } else {\r\n                    this.data.kpi.push({\r\n                        isSuffix: 'false',\r\n                        name: kpi.name,\r\n                        prefixSuffixValue: '',\r\n                        rangeMaxValue: '',\r\n                        rangeMinValue: '',\r\n                        vieweas: 'Speedometer',\r\n                        category: kpi.category ? kpi.category.valueName : ''\r\n                    })\r\n                }\r\n            })\r\n            this.addKpiAssociationVisible = false\r\n        },\r\n        deleteKpiAssociationConfirm(kpi: iKpiListItem) {\r\n            this.$confirm.require({\r\n                message: this.$t('common.toast.deleteMessage'),\r\n                header: this.$t('common.toast.deleteTitle'),\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => {\r\n                    this.deleteKpiAssociation(kpi)\r\n                }\r\n            })\r\n        },\r\n        deleteKpiAssociation(kpi: iKpiListItem) {\r\n            const index = this.data.kpi.findIndex((tempKpi: iKpiListItem) => tempKpi.name === kpi.name)\r\n            if (index !== -1) this.data.kpi.splice(index, 1)\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#kpi-edit-add-kpi-associations-button {\r\n    flex: 0.15;\r\n    height: 2.3rem;\r\n    margin-left: auto;\r\n    min-width: 150px;\r\n}\r\n\r\n.kpi-edit-kpi-list-card-dropdown {\r\n    min-width: 150px;\r\n    max-width: 200px;\r\n}\r\n</style>\r\n","<template>\r\n    <Card v-if=\"options\" class=\"p-m-2\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--secondary\">\r\n                <template #start>\r\n                    {{ $t('common.options') }}\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n        <template #content>\r\n            <div class=\"p-grid p-m-1\">\r\n                <div class=\"p-col-6\">\r\n                    <Checkbox class=\"p-mr-2\" v-model=\"options.showvalue\" :binary=\"true\" />\r\n                    <label>{{ $t('kpi.kpiDocumentDesigner.showValue') }}</label>\r\n                </div>\r\n                <div class=\"p-col-6\">\r\n                    <Checkbox class=\"p-mr-2\" v-model=\"options.showtarget\" :binary=\"true\" />\r\n                    <label>{{ $t('kpi.kpiDocumentDesigner.showTarget') }}</label>\r\n                </div>\r\n                <div class=\"p-col-6\">\r\n                    <Checkbox class=\"p-mr-2\" v-model=\"options.showtargetpercentage\" :binary=\"true\" />\r\n                    <label>{{ $t('kpi.kpiDocumentDesigner.showPercentage') }}</label>\r\n                </div>\r\n                <div class=\"p-col-6\">\r\n                    <Checkbox class=\"p-mr-2\" v-model=\"options.showthreshold\" :binary=\"true\" />\r\n                    <label>{{ $t('kpi.kpiDocumentDesigner.showThreshold') }}</label>\r\n                </div>\r\n                <div class=\"p-field p-col-6\">\r\n                    <span class=\"p-float-label p-m-2\">\r\n                        <InputText\r\n                            class=\"kn-material-input\"\r\n                            type=\"number\"\r\n                            v-model=\"options.history.size\"\r\n                            min=\"0\"\r\n                            :class=\"{\r\n                                'p-invalid': +options.history.size < 0\r\n                            }\"\r\n                        />\r\n                        <label class=\"kn-material-input-label\"> {{ $t('kpi.kpiDocumentDesigner.precision') }}</label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"p-col-6 p-fluid\">\r\n                    <span class=\"p-float-label p-m-2\">\r\n                        <Dropdown class=\"kn-material-input\" v-model=\"options.history.units\" :options=\"KpiDocumentDesignerOptionsCardDescriptor.unitsOptions\" optionValue=\"value\">\r\n                            <template #value=\"slotProps\">\r\n                                <div v-if=\"slotProps.value\">\r\n                                    <span>{{ slotProps.value }}</span>\r\n                                </div>\r\n                            </template>\r\n                            <template #option=\"slotProps\">\r\n                                <span>{{ $t(slotProps.option.label) }}</span>\r\n                            </template>\r\n                        </Dropdown>\r\n                        <label class=\"kn-material-input-label\"> {{ $t('kpi.kpiDocumentDesigner.units') }} </label>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </Card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { iOptions } from '../KpiDocumentDesigner'\r\nimport Card from 'primevue/card'\r\nimport Checkbox from 'primevue/checkbox'\r\nimport Dropdown from 'primevue/dropdown'\r\nimport KpiDocumentDesignerOptionsCardDescriptor from './KpiDocumentDesignerOptionsCardDescriptor.json'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-edit-options-card',\r\n    components: { Card, Checkbox, Dropdown },\r\n    props: { propOptions: { type: Object as PropType<iOptions>, required: true } },\r\n    data() {\r\n        return {\r\n            KpiDocumentDesignerOptionsCardDescriptor,\r\n            options: null as iOptions | null\r\n        }\r\n    },\r\n    wacth: {\r\n        propOptions() {\r\n            this.loadOptions()\r\n        }\r\n    },\r\n    created() {\r\n        this.loadOptions()\r\n    },\r\n    methods: {\r\n        loadOptions() {\r\n            this.options = this.propOptions\r\n            this.options.showtarget = this.options.showtarget === 'true'\r\n            this.options.showtargetpercentage = this.options.showtargetpercentage === 'true'\r\n            this.options.showthreshold = this.options.showthreshold === 'true'\r\n            this.options.showvalue = this.options.showvalue === 'true'\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n    <Card v-if=\"font\" class=\"p-m-2\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--secondary\">\r\n                <template #start>\r\n                    {{ $t('common.style') }}\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n        <template #content>\r\n            <div class=\"p-grid\">\r\n                <div class=\"p-col-6 p-fluid\">\r\n                    <span class=\"p-float-label p-m-2\">\r\n                        <Dropdown class=\"kn-material-input\" v-model=\"font.size\" :options=\"KpiDocumentDesignerStyleCardDescriptor.fontSizeOptions\" optionValue=\"value\">\r\n                            <template #value=\"slotProps\">\r\n                                <div v-if=\"slotProps.value\">\r\n                                    <span>{{ getDropdownValueLabel(slotProps.value, KpiDocumentDesignerStyleCardDescriptor.fontSizeOptions) }}</span>\r\n                                </div>\r\n                            </template>\r\n                            <template #option=\"slotProps\">\r\n                                <span :style=\"'font-size: ' + slotProps.option.value\">{{ $t(slotProps.option.label) }}</span>\r\n                            </template>\r\n                        </Dropdown>\r\n                        <label class=\"kn-material-input-label\"> {{ $t('kpi.kpiDocumentDesigner.fontSize') }} </label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"p-col-6 p-fluid\">\r\n                    <span class=\"p-float-label p-m-2\">\r\n                        <Dropdown class=\"kn-material-input\" v-model=\"font.fontFamily\" :options=\"KpiDocumentDesignerStyleCardDescriptor.fontFamilyOptions\" optionValue=\"value\">\r\n                            <template #value=\"slotProps\">\r\n                                <div v-if=\"slotProps.value\">\r\n                                    <span>{{ getDropdownValueLabel(slotProps.value, KpiDocumentDesignerStyleCardDescriptor.fontFamilyOptions) }}</span>\r\n                                </div>\r\n                            </template>\r\n                            <template #option=\"slotProps\">\r\n                                <span :style=\"'font-family: ' + slotProps.option.value\">{{ $t(slotProps.option.label) }}</span>\r\n                            </template>\r\n                        </Dropdown>\r\n                        <label class=\"kn-material-input-label\"> {{ $t('kpi.kpiDocumentDesigner.fontSize') }} </label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"p-col-6 p-fluid\">\r\n                    <span class=\"p-float-label p-m-2\">\r\n                        <Dropdown class=\"kn-material-input\" v-model=\"font.fontWeight\" :options=\"KpiDocumentDesignerStyleCardDescriptor.fontWeightOptions\" optionValue=\"value\">\r\n                            <template #value=\"slotProps\">\r\n                                <div v-if=\"slotProps.value\">\r\n                                    <span>{{ getDropdownValueLabel(slotProps.value, KpiDocumentDesignerStyleCardDescriptor.fontWeightOptions) }}</span>\r\n                                </div>\r\n                            </template>\r\n                            <template #option=\"slotProps\">\r\n                                <span :style=\"'font-weight: ' + slotProps.option.value\">{{ $t(slotProps.option.label) }}</span>\r\n                            </template>\r\n                        </Dropdown>\r\n                        <label class=\"kn-material-input-label\"> {{ $t('kpi.kpiDocumentDesigner.fontWeight.title') }} </label>\r\n                    </span>\r\n                </div>\r\n                <div class=\"p-col-6\">\r\n                    <div class=\"p-d-flex p-flex-column p-m-2\">\r\n                        <label class=\"kn-material-input-label\"> {{ $t('kpi.kpiDocumentDesigner.color') }}</label>\r\n                        <ColorPicker v-model=\"font.color\" format=\"rgb\" :inline=\"false\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </Card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { iFont, iStyle } from '../KpiDocumentDesigner'\r\nimport Card from 'primevue/card'\r\nimport ColorPicker from 'primevue/colorpicker'\r\nimport Dropdown from 'primevue/dropdown'\r\nimport KpiDocumentDesignerStyleCardDescriptor from './KpiDocumentDesignerStyleCardDescriptor.json'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-edit-style-card',\r\n    components: { Card, ColorPicker, Dropdown },\r\n    props: { propStyle: { type: Object as PropType<iStyle>, required: true } },\r\n    data() {\r\n        return {\r\n            KpiDocumentDesignerStyleCardDescriptor,\r\n            font: null as iFont | null\r\n        }\r\n    },\r\n    watch: {\r\n        propStyle() {\r\n            this.loadFont()\r\n        }\r\n    },\r\n    created() {\r\n        this.loadFont()\r\n    },\r\n    methods: {\r\n        loadFont() {\r\n            this.font = this.propStyle?.font as iFont\r\n        },\r\n        getDropdownValueLabel(value: string, options: { value: string; label: string }[]) {\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].value === value) {\r\n                    return this.$t(options[i].label)\r\n                }\r\n            }\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n    <Card class=\"p-m-2\">\r\n        <template #content>\r\n            <div class=\" p-d-flex p-flex-row\">\r\n                <div class=\"field-radiobutton p-mx-2\" v-for=\"(option, index) in KpiDocumentDesignerTypeCardDescriptor.typeOptions\" :key=\"index\">\r\n                    <RadioButton :id=\"option.value\" :value=\"option.value\" v-model=\"type\" @change=\"onTypeChange\"></RadioButton>\r\n                    <label :for=\"option.value\" class=\"p-ml-2\">{{ $t(option.label) }}</label>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </Card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport Card from 'primevue/card'\r\nimport RadioButton from 'primevue/radiobutton'\r\nimport KpiDocumentDesignerTypeCardDescriptor from './KpiDocumentDesignerTypeCardDescriptor.json'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-document-designer-type-card',\r\n    components: { Card, RadioButton },\r\n    props: { chartType: { type: String } },\r\n    emits: ['typeChanged'],\r\n    data() {\r\n        return {\r\n            KpiDocumentDesignerTypeCardDescriptor,\r\n            type: 'kpi' as string\r\n        }\r\n    },\r\n    watch: {\r\n        chartType() {\r\n            this.loadType()\r\n        }\r\n    },\r\n    created() {\r\n        this.loadType()\r\n    },\r\n    methods: {\r\n        loadType() {\r\n            this.type = this.chartType as string\r\n        },\r\n        onTypeChange() {\r\n            this.$emit('typeChanged', this.type)\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n    <Dialog id=\"kpi-edit-save-dialog\" class=\"p-fluid kn-dialog--toolbar--primary\" :style=\"KpiDocumentDesignerSaveDialogDescriptor.dialog.style\" :contentStyle=\"KpiDocumentDesignerSaveDialogDescriptor.dialog.contentStyle\" :visible=\"visible\" :modal=\"true\" :closable=\"false\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--primary p-p-0 p-m-0 p-col-12\">\r\n                <template #start>\r\n                    {{ $t('kpi.kpiDocumentDesigner.saveDialogTitle') }}\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n\r\n        <div>\r\n            <h2>{{ $t('kpi.kpiDocumentDesigner.saveTitle') }}</h2>\r\n            <h4>{{ $t('kpi.kpiDocumentDesigner.saveSubheader') }}</h4>\r\n            <div class=\"p-field\">\r\n                <span class=\"p-float-label\">\r\n                    <InputText\r\n                        class=\"kn-material-input\"\r\n                        v-model=\"kpiName\"\r\n                        :class=\"{\r\n                            'p-invalid': kpiName.length === 0\r\n                        }\"\r\n                    />\r\n                    <label class=\"kn-material-input-label\"> {{ $t('kpi.kpiDocumentDesigner.kpiName') }}</label>\r\n                </span>\r\n            </div>\r\n        </div>\r\n\r\n        <template #footer>\r\n            <Button class=\"kn-button kn-button--primary\" :label=\"$t('common.close')\" @click=\"close\"></Button>\r\n            <Button class=\"kn-button kn-button--primary\" :label=\"$t('common.save')\" :disabled=\"saveButtonDisabled\" @click=\"saveKpi\"></Button>\r\n        </template>\r\n    </Dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport Dialog from 'primevue/dialog'\r\nimport KpiDocumentDesignerSaveDialogDescriptor from './KpiDocumentDesignerSaveDialogDescriptor.json'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-edit-save-dialog',\r\n    components: { Dialog },\r\n    props: { visible: { type: Boolean } },\r\n    emits: ['close', 'saveKpi'],\r\n    data() {\r\n        return {\r\n            KpiDocumentDesignerSaveDialogDescriptor,\r\n            kpiName: ''\r\n        }\r\n    },\r\n    computed: {\r\n        saveButtonDisabled(): boolean {\r\n            return this.kpiName.length === 0\r\n        }\r\n    },\r\n    created() {},\r\n    methods: {\r\n        close() {\r\n            this.kpiName = ''\r\n            this.$emit('close')\r\n        },\r\n        saveKpi() {\r\n            this.$emit('saveKpi', this.kpiName)\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#kpi-edit-save-dialog .p-dialog-header,\r\n#kpi-edit-save-dialog .p-dialog-content {\r\n    padding: 0;\r\n}\r\n#kpi-edit-save-dialog .p-dialog-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: 1;\r\n}\r\n</style>\r\n","<template>\r\n    <Dialog id=\"kpi-edit-scorecard-select-dialog\" class=\"p-fluid kn-dialog--toolbar--primary\" :style=\"KpiDocumentDesignerScorecardsListCardDescriptor.dialog.style\" :contentStyle=\"KpiDocumentDesignerScorecardsListCardDescriptor.dialog.contentStyle\" :visible=\"visible\" :modal=\"true\" :closable=\"false\">\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--primary p-p-0 p-m-0 p-col-12\">\r\n                <template #start>\r\n                    {{ $t('kpi.kpiDocumentDesigner.scorecardList') }}\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n\r\n        <DataTable\r\n            :value=\"scorecardList\"\r\n            v-model:selection=\"selectedScorecard\"\r\n            class=\"p-datatable-sm kn-table\"\r\n            dataKey=\"id\"\r\n            v-model:filters=\"filters\"\r\n            :KpiDocumentDesignerKpiListCardDescriptor=\"KpiDocumentDesignerScorecardsListCardDescriptor.selectScorecardGlobalFilterFields\"\r\n            responsiveLayout=\"stack\"\r\n            breakpoint=\"960px\"\r\n            :scrollable=\"true\"\r\n            scrollHeight=\"80vh\"\r\n        >\r\n            <template #header>\r\n                <div class=\"table-header p-d-flex\">\r\n                    <span class=\"p-input-icon-left p-mr-3\">\r\n                        <i class=\"pi pi-search\" />\r\n                        <InputText class=\"kn-material-input\" v-model=\"filters['global'].value\" type=\"text\" :placeholder=\"$t('common.search')\" data-test=\"filterInput\" />\r\n                    </span>\r\n                </div>\r\n            </template>\r\n            <template #empty>\r\n                {{ $t('common.info.noDataFound') }}\r\n            </template>\r\n            <Column selectionMode=\"single\" :headerStyle=\"KpiDocumentDesignerScorecardsListCardDescriptor.selectColumnStyle\" :style=\"KpiDocumentDesignerScorecardsListCardDescriptor.selectColumnStyle\"></Column>\r\n            <Column class=\"kn-truncated\" field=\"name\" :header=\"$t('common.name')\" key=\"name\" :sortable=\"true\"> </Column>\r\n            <Column class=\"kn-truncated\" field=\"creationDate\" :header=\"$t('common.creationDate')\" key=\"dateCreation\" :sortable=\"true\">\r\n                <template #body=\"slotProps\">\r\n                    <span>{{ getFormattedDate(slotProps.data.creationDate) }}</span>\r\n                </template>\r\n            </Column>\r\n        </DataTable>\r\n\r\n        <template #footer>\r\n            <Button class=\"kn-button kn-button--primary\" :label=\"$t('common.close')\" @click=\"closeScorecardAssociations\"></Button>\r\n            <Button class=\"kn-button kn-button--primary\" :label=\"$t('common.save')\" @click=\"addScorecardAssociations\"></Button>\r\n        </template>\r\n    </Dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { filterDefault } from '@/helpers/commons/filterHelper'\r\nimport { formatDate } from '@/helpers/commons/localeHelper'\r\nimport { iScorecard } from '../KpiDocumentDesigner'\r\nimport Column from 'primevue/column'\r\nimport DataTable from 'primevue/datatable'\r\nimport Dialog from 'primevue/dialog'\r\nimport KpiDocumentDesignerScorecardsListCardDescriptor from './KpiDocumentDesignerScorecardsListCardDescriptor.json'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-edit-scorecard-select-dialog',\r\n    components: { Column, DataTable, Dialog },\r\n    props: { visible: { type: Boolean }, scorecardList: { type: Array as PropType<iScorecard[]> }, dataScorecards: { type: Array as PropType<iScorecard[]>, required: true } },\r\n    emits: ['close', 'scorecardSelected'],\r\n    data() {\r\n        return {\r\n            KpiDocumentDesignerScorecardsListCardDescriptor,\r\n            filters: { global: [filterDefault] } as Object,\r\n            selectedScorecard: null as iScorecard | null\r\n        }\r\n    },\r\n    watch: {\r\n        visible() {\r\n            this.setSelectedKpiAssociations()\r\n        }\r\n    },\r\n    async created() {\r\n        this.setSelectedKpiAssociations()\r\n    },\r\n    methods: {\r\n        getFormattedDate(date: any) {\r\n            return formatDate(date)\r\n        },\r\n        setSelectedKpiAssociations() {\r\n            if (this.dataScorecards[0] && this.scorecardList) {\r\n                const index = this.scorecardList.findIndex((scorecard: iScorecard) => scorecard.name === this.dataScorecards[0].name)\r\n                if (index !== -1) this.selectedScorecard = this.scorecardList[index]\r\n            } else {\r\n                this.selectedScorecard = null\r\n            }\r\n        },\r\n        closeScorecardAssociations() {\r\n            this.selectedScorecard = null\r\n            this.$emit('close')\r\n        },\r\n        addScorecardAssociations() {\r\n            this.$emit('scorecardSelected', this.selectedScorecard)\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#kpi-edit-scorecard-select-dialog .p-dialog-header,\r\n#kpi-edit-scorecard-select-dialog .p-dialog-content {\r\n    padding: 0;\r\n}\r\n#kpi-edit-scorecard-select-dialog .p-dialog-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: 1;\r\n}\r\n</style>\r\n","<template>\r\n    <Card>\r\n        <template #header>\r\n            <Toolbar class=\"kn-toolbar kn-toolbar--secondary\">\r\n                <template #start>\r\n                    {{ $t('kpi.kpiDocumentDesigner.scorecardList') }}\r\n                </template>\r\n            </Toolbar>\r\n        </template>\r\n        <template #content>\r\n            <div>\r\n                <DataTable :value=\"scorecards\" class=\"p-datatable-sm kn-table\" dataKey=\"name\" v-model:filters=\"filters\" :globalFilterFields=\"KpiDocumentDesignerScorecardsListCardDescriptor.globalFilterFields\" responsiveLayout=\"stack\" breakpoint=\"960px\" :scrollable=\"true\" scroll-height=\"60vh\">\r\n                    <template #header>\r\n                        <div class=\"table-header p-d-flex p-ai-center\">\r\n                            <span id=\"search-container\" class=\"p-input-icon-left p-mr-3\">\r\n                                <i class=\"pi pi-search\" />\r\n                                <InputText class=\"kn-material-input\" v-model=\"filters['global'].value\" type=\"text\" :placeholder=\"$t('common.search')\" />\r\n                            </span>\r\n                            <Button id=\"kpi-edit-add-scorecard-association-button\" class=\"kn-button kn-button--primary\" :label=\"$t('kpi.kpiDocumentDesigner.addScorecardAssociation')\" @click=\"addScorecardVisible = true\"></Button>\r\n                        </div>\r\n                    </template>\r\n\r\n                    <template #empty>{{ $t('common.info.noDataFound') }}</template>\r\n\r\n                    <Column class=\"kn-truncated\" field=\"name\" :header=\"$t('common.name')\" key=\"name\" :sortable=\"true\"> </Column>\r\n                    <Column class=\"kn-truncated\" field=\"creationDate\" :header=\"$t('common.creationDate')\" key=\"dateCreation\" :sortable=\"true\">\r\n                        <template #body=\"slotProps\">\r\n                            <span>{{ getFormattedDate(slotProps.data.creationDate) }}</span>\r\n                        </template>\r\n                    </Column>\r\n\r\n                    <Column :style=\"KpiDocumentDesignerScorecardsListCardDescriptor.iconColumnStyle\">\r\n                        <template #body=\"slotProps\">\r\n                            <Button icon=\"pi pi-trash\" class=\"p-button-link\" @click=\"deleteScorecardConfirm(slotProps.data)\" />\r\n                        </template>\r\n                    </Column>\r\n                </DataTable>\r\n            </div>\r\n\r\n            <KpiDocumentDesignerScorecardSelectDialog :scorecardList=\"scorecardList\" :visible=\"addScorecardVisible\" :dataScorecards=\"scorecards\" @close=\"addScorecardVisible = false\" @scorecardSelected=\"onScorecardSelected\"></KpiDocumentDesignerScorecardSelectDialog>\r\n        </template>\r\n    </Card>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { iScorecard } from '../KpiDocumentDesigner'\r\nimport { filterDefault } from '@/helpers/commons/filterHelper'\r\nimport { formatDate } from '@/helpers/commons/localeHelper'\r\nimport Card from 'primevue/card'\r\nimport Column from 'primevue/column'\r\nimport DataTable from 'primevue/datatable'\r\nimport KpiDocumentDesignerScorecardsListCardDescriptor from './KpiDocumentDesignerScorecardsListCardDescriptor.json'\r\nimport KpiDocumentDesignerScorecardSelectDialog from './KpiDocumentDesignerScorecardSelectDialog.vue'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-edit-scorecards-list-card',\r\n    components: { Card, Column, DataTable, KpiDocumentDesignerScorecardSelectDialog },\r\n    props: { propData: { type: Object }, scorecardList: { type: Array as PropType<iScorecard[]> } },\r\n    emits: ['scorecardChanged'],\r\n    data() {\r\n        return {\r\n            KpiDocumentDesignerScorecardsListCardDescriptor,\r\n            scorecards: [] as iScorecard[],\r\n            filters: { global: [filterDefault] } as Object,\r\n            addScorecardVisible: false\r\n        }\r\n    },\r\n    watch: {\r\n        propData() {\r\n            this.loadScorecard()\r\n        }\r\n    },\r\n    created() {\r\n        this.loadScorecard()\r\n    },\r\n    methods: {\r\n        loadScorecard() {\r\n            if (this.propData?.scorecard) {\r\n                this.scorecards = [this.propData.scorecard]\r\n            }\r\n        },\r\n        onScorecardSelected(scorecard: iScorecard) {\r\n            this.scorecards[0] = scorecard\r\n            this.$emit('scorecardChanged', this.scorecards[0])\r\n            this.addScorecardVisible = false\r\n        },\r\n        deleteScorecardConfirm() {\r\n            this.$confirm.require({\r\n                message: this.$t('common.toast.deleteMessage'),\r\n                header: this.$t('common.toast.deleteTitle'),\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => {\r\n                    this.scorecards = []\r\n                    this.$emit('scorecardChanged', null)\r\n                }\r\n            })\r\n        },\r\n        getFormattedDate(date: any) {\r\n            return formatDate(date)\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#kpi-edit-add-scorecard-association-button {\r\n    flex: 0.15;\r\n    height: 2.3rem;\r\n    margin-left: auto;\r\n    min-width: 150px;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"kn-page\">\r\n        <div class=\"kn-page-content p-grid p-m-0 p-p-0\">\r\n            <div class=\"kn-page-content p-grid p-m-0\">\r\n                <div class=\"p-col-12 p-p-0\">\r\n                    <Toolbar class=\"kn-toolbar kn-toolbar--primary\">\r\n                        <template #start>\r\n                            {{ $t('kpi.kpiDocumentDesigner.title') }}\r\n                        </template>\r\n                        <template #end>\r\n                            <Button icon=\"pi pi-save\" class=\"p-button-text p-button-rounded p-button-plain\" :disabled=\"saveButtonDisabled\" @click=\"saveKpi\" />\r\n                            <Button icon=\"pi pi-times\" class=\"p-button-text p-button-rounded p-button-plain\" @click=\"closeKpi\" />\r\n                        </template>\r\n                    </Toolbar>\r\n                    <ProgressBar v-if=\"loading\" class=\"kn-progress-bar\" mode=\"indeterminate\" data-test=\"progress-bar\" />\r\n\r\n                    <div v-if=\"kpiDesigner\" class=\"p-d-flex p-flex-column p-m-0\">\r\n                        <KpiDocumentDesignerTypeCard v-if=\"showScorecards\" class=\"kn-flex\" :chartType=\"kpiDesigner.chart.type\" @typeChanged=\"onTypeChanged\"></KpiDocumentDesignerTypeCard>\r\n                        <KpiDocumentDesignerDocumentTypeCard v-if=\"kpiDesigner.chart.type === 'kpi'\" class=\"kn-flex\" :propChart=\"kpiDesigner.chart\"></KpiDocumentDesignerDocumentTypeCard>\r\n                        <KpiDocumentDesignerKpiListCard v-if=\"kpiDesigner.chart.type === 'kpi'\" class=\"kn-flex\" :propData=\"kpiDesigner.chart.data\" :kpiList=\"kpiList\" :documentType=\"kpiDesigner.chart.model\"></KpiDocumentDesignerKpiListCard>\r\n                        <KpiDocumentDesignerScorecardsListCard v-else class=\"kn-flex\" :propData=\"kpiDesigner.chart.data\" :scorecardList=\"scorecards\" @scorecardChanged=\"onScorecardChanged\"></KpiDocumentDesignerScorecardsListCard>\r\n                        <div class=\"p-d-flex p-flex-row kn-flex p-p-0 p-m-0\">\r\n                            <KpiDocumentDesignerStyleCard class=\"kn-flex\" :propStyle=\"kpiDesigner.chart.style\"></KpiDocumentDesignerStyleCard>\r\n                            <KpiDocumentDesignerOptionsCard v-if=\"kpiDesigner.chart.type === 'kpi'\" class=\"kn-flex\" :propOptions=\"kpiDesigner.chart.options\"></KpiDocumentDesignerOptionsCard>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <KpiDocumentDesignerSaveDialog :visible=\"saveDialogVisible\" @close=\"saveDialogVisible = false\" @saveKpi=\"onKpiSave\"></KpiDocumentDesignerSaveDialog>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { AxiosResponse } from 'axios'\r\nimport { iKpi, iScorecard, iKpiDesigner } from './KpiDocumentDesigner'\r\nimport KpiDocumentDesignerDocumentTypeCard from './KpiDocumentDesignerDocumentTypeCard/KpiDocumentDesignerDocumentTypeCard.vue'\r\nimport KpiDocumentDesignerKpiListCard from './KpiDocumentDesignerKpiListCard/KpiDocumentDesignerKpiListCard.vue'\r\nimport KpiDocumentDesignerOptionsCard from './KpiDocumentDesignerOptionsCard/KpiDocumentDesignerOptionsCard.vue'\r\nimport KpiDocumentDesignerStyleCard from './KpiDocumentDesignerStyleCard/KpiDocumentDesignerStyleCard.vue'\r\nimport KpiDocumentDesignerTypeCard from './KpiDocumentDesignerTypeCard/KpiDocumentDesignerTypeCard.vue'\r\nimport KpiDocumentDesignerSaveDialog from './KpiDocumentDesignerSaveDialog/KpiDocumentDesignerSaveDialog.vue'\r\nimport KpiDocumentDesignerScorecardsListCard from './KpiDocumentDesignerScorecardsListCard/KpiDocumentDesignerScorecardsListCard.vue'\r\nimport { mapState } from 'pinia'\r\nimport mainStore from '../../../App.store'\r\n\r\nimport deepcopy from 'deepcopy'\r\n\r\nexport default defineComponent({\r\n    name: 'kpi-document-designer',\r\n    components: { KpiDocumentDesignerDocumentTypeCard, KpiDocumentDesignerKpiListCard, KpiDocumentDesignerOptionsCard, KpiDocumentDesignerStyleCard, KpiDocumentDesignerTypeCard, KpiDocumentDesignerSaveDialog, KpiDocumentDesignerScorecardsListCard },\r\n    props: { id: { type: String } },\r\n    data() {\r\n        return {\r\n            kpiDesigner: null as iKpiDesigner | null,\r\n            kpiList: [] as iKpi[],\r\n            scorecards: [] as iScorecard[],\r\n            saveDialogVisible: false,\r\n            loading: false\r\n        }\r\n    },\r\n    watch: {\r\n        async id() {\r\n            await this.loadKpi()\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState(mainStore, {\r\n            user: 'user'\r\n        }),\r\n        showScorecards(): boolean {\r\n            return (this.store.$state as any).user.functionalities.includes('ScorecardsManagement')\r\n        },\r\n        saveButtonDisabled(): boolean {\r\n            return this.kpiDesigner !== null && ((this.kpiDesigner.chart.type === 'kpi' && this.kpiTypeInvalid()) || (this.kpiDesigner.chart.type === 'scorecard' && this.scorecardTypeInvalid()))\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    async created() {\r\n        await this.loadPage()\r\n    },\r\n    methods: {\r\n        async loadPage() {\r\n            this.loading = true\r\n            let config = {\r\n                headers: { Accept: 'application/json, text/plain, */*' }\r\n            }\r\n\r\n            let language = this.user.locale?.split('_')[0]\r\n            let country = this.user.locale?.split('_')[1]\r\n            await this.$http.get(import.meta.env.VITE_KPI_ENGINE_API_URL + `1.0/pages/edit?SBI_LANGUAGE=${language}&SBI_COUNTRY=${country}&user_id=${this.user.userUniqueIdentifier}&document=${this.id}`, config).then(() => {})\r\n\r\n            await this.loadKpi()\r\n            await this.loadKpiList()\r\n            await this.loadScorecards()\r\n            this.loading = false\r\n        },\r\n        async loadKpiList() {\r\n            await this.$http.get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `1.0/kpi/listKpi`).then((response: AxiosResponse<any>) => (this.kpiList = response.data))\r\n        },\r\n        async loadScorecards() {\r\n            await this.$http.get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `1.0/kpiee/listScorecard`).then((response: AxiosResponse<any>) => (this.scorecards = response.data))\r\n        },\r\n        async loadKpi() {\r\n            this.loading = true\r\n            if (this.id) {\r\n                await this.$http\r\n                    .post(import.meta.env.VITE_KPI_ENGINE_API_URL + `1.0/kpisTemplate/getKpiTemplate`, { id: this.id })\r\n                    .then((response: AxiosResponse<any>) => {\r\n                        this.kpiDesigner = response.data.templateContent ? JSON.parse(response.data.templateContent) : response.data\r\n\r\n                        if (this.kpiDesigner && !this.kpiDesigner.chart) this.kpiDesigner = this.initializeKpiDesigner()\r\n                    })\r\n                    .catch(() => {})\r\n            } else {\r\n                this.kpiDesigner = this.initializeKpiDesigner()\r\n            }\r\n            this.loading = false\r\n        },\r\n        initializeKpiDesigner() {\r\n            return {\r\n                chart: {\r\n                    type: 'kpi',\r\n                    model: 'widget',\r\n                    data: { kpi: [] },\r\n                    style: { font: { color: 'rgb(14,13,13)', fontFamily: 'roboto', fontWeight: 'normal', size: '8px' } },\r\n                    options: {\r\n                        showtarget: true,\r\n                        showtargetpercentage: false,\r\n                        showthreshold: true,\r\n                        showvalue: true,\r\n                        vieweas: '',\r\n                        history: {\r\n                            size: 1,\r\n                            units: 'month'\r\n                        }\r\n                    }\r\n                }\r\n            } as iKpiDesigner\r\n        },\r\n        onTypeChanged(value: string) {\r\n            if (this.kpiDesigner) this.kpiDesigner.chart.type = value\r\n        },\r\n        kpiTypeInvalid() {\r\n            return this.kpiDesigner && (this.kpiDesigner.chart.data.kpi?.length === 0 || this.kpiMissingRequiredField())\r\n        },\r\n        kpiMissingRequiredField(): boolean {\r\n            if (!this.kpiDesigner || !this.kpiDesigner.chart.data.kpi) return false\r\n\r\n            let missingField = false\r\n            for (let i = 0; i < this.kpiDesigner.chart.data.kpi.length; i++) {\r\n                const tempKpi = this.kpiDesigner.chart.data.kpi[i]\r\n                if (!tempKpi.rangeMinValue || !tempKpi.rangeMaxValue) {\r\n                    missingField = true\r\n                    break\r\n                }\r\n            }\r\n\r\n            return missingField\r\n        },\r\n        scorecardTypeInvalid() {\r\n            return !this.kpiDesigner || !this.kpiDesigner.chart.data.scorecard?.name\r\n        },\r\n        onScorecardChanged(scorecard: iScorecard | null) {\r\n            if (!this.kpiDesigner) return\r\n\r\n            if (scorecard) {\r\n                this.kpiDesigner.chart.data.scorecard = { name: scorecard.name }\r\n            } else {\r\n                this.kpiDesigner.chart.data.scorecard = { name: '' }\r\n            }\r\n        },\r\n        saveKpi() {\r\n            if (!this.id) {\r\n                this.saveDialogVisible = true\r\n            } else {\r\n                this.onKpiSave('')\r\n            }\r\n        },\r\n        async onKpiSave(kpiName: string) {\r\n            this.loading = true\r\n\r\n            if (this.id) {\r\n                await this.updateKpi()\r\n            } else {\r\n                await this.saveNewKpi(kpiName)\r\n            }\r\n\r\n            this.loading = false\r\n        },\r\n        async saveNewKpi(kpiName: string) {\r\n            const postData = {\r\n                document: {\r\n                    name: kpiName,\r\n                    label: kpiName,\r\n                    description: '',\r\n                    type: 'KPI'\r\n                },\r\n                customData: {\r\n                    templateContent: this.getFormattedKpiDesigner()\r\n                },\r\n                action: 'DOC_SAVE'\r\n            }\r\n            await this.$http\r\n                .post(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `2.0/saveDocument`, postData)\r\n                .then((response: AxiosResponse<any>) => {\r\n                    this.store.setInfo({\r\n                        title: this.$t('common.toast.createTitle'),\r\n                        msg: this.$t('common.toast.success')\r\n                    })\r\n                    this.$router.push(`/kpi-edit/${response.data.id}?from=${this.$route.query.from}`)\r\n                })\r\n                .catch(() => {})\r\n                .finally(() => (this.saveDialogVisible = false))\r\n            this.loading = false\r\n        },\r\n        async updateKpi() {\r\n            const postData = new URLSearchParams()\r\n            postData.append('docLabel', this.id as string)\r\n            postData.append('jsonTemplate', JSON.stringify(this.getFormattedKpiDesigner()))\r\n\r\n            await this.$http\r\n                .post(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `1.0/documents/saveKpiTemplate`, postData, {\r\n                    headers: {\r\n                        'Content-Type': 'application/x-www-form-urlencoded',\r\n                        Accept: 'application/json, text/plain, */*'\r\n                    }\r\n                })\r\n                .then(() => {\r\n                    this.store.setInfo({\r\n                        title: this.$t('common.toast.updateTitle'),\r\n                        msg: this.$t('common.toast.success')\r\n                    })\r\n                })\r\n                .catch(() => {})\r\n        },\r\n        getFormattedKpiDesigner() {\r\n            const tempDesigner = deepcopy(this.kpiDesigner)\r\n            if (!tempDesigner) return\r\n\r\n            if (tempDesigner.chart.type === 'kpi') {\r\n                delete tempDesigner.chart.data.scorecard\r\n            } else {\r\n                delete tempDesigner.chart.data.kpi\r\n                delete tempDesigner.chart.options\r\n            }\r\n\r\n            return tempDesigner\r\n        },\r\n        closeKpi() {\r\n            const url = this.$route.query.from === 'documentDetail' ? `/document-browser/document-details/${this.id}` : '/workspace/analysis'\r\n            this.$router.push(url)\r\n        }\r\n    }\r\n})\r\n</script>\r\n"],"names":["_sfc_main","Card","RadioButton","_withCtx","_createVNode","_createElementVNode","_hoisted_1","_openBlock","_createElementBlock","_Fragment","_renderList","Column","DataTable","Dialog","kpiDocumentDesignerKpiListCardDescriptor","_hoisted_2","_createBlock","_normalizeStyle","_hoisted_3","_toDisplayString","Dropdown","_withScopeId","_popScopeId","_hoisted_4","_createCommentVNode","_hoisted_5","_normalizeClass","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","Checkbox","_hoisted_12","ColorPicker","mainStore"],"mappings":"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"}