{"version":3,"file":"DocumentBrowserCockpitContainer-6eca1ab6.js","sources":["../../../../modules/documentBrowser/DocumentBrowserCockpitContainer.vue"],"sourcesContent":["<template>\r\n    <div id=\"cockpit-container\" class=\"kn-height-full\">\r\n        <DocumentExecution\r\n            :id=\"name\"\r\n            v-show=\"mode === 'document-execution'\"\r\n            :propMode=\"mode\"\r\n            v-bind:style=\"[mode === 'document-execution' ? '' : 'display: none !important; ']\"\r\n            :parameterValuesMap=\"parameterValuesMap\"\r\n            :tabKey=\"tabKey\"\r\n            @parametersChanged=\"$emit('parametersChanged', $event)\"\r\n            @close=\"$emit('close')\"\r\n        ></DocumentExecution>\r\n        <DocumentDetails\r\n            v-show=\"mode === 'document-detail'\"\r\n            v-bind:style=\"[mode === 'document-detail' ? '' : 'display: none !important;']\"\r\n            :propMode=\"'execution'\"\r\n            :viewMode=\"mode\"\r\n            :propDocId=\"item?.id\"\r\n            :wholeItem=\"item\"\r\n            :propFolderId=\"functionalityId\"\r\n            @closeDetails=\"$emit('closeDetails', item)\"\r\n            @documentSaved=\"onDocumentsSaved\"\r\n        ></DocumentDetails>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport DocumentExecution from '@/modules/documentExecution/main/DocumentExecution.vue'\r\nimport DocumentDetails from '@/modules/documentExecution/documentDetails/DocumentDetails.vue'\r\nimport mainStore from '../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser-cockpit-container',\r\n    components: {\r\n        DocumentExecution,\r\n        DocumentDetails\r\n    },\r\n    props: { id: { type: String }, functionalityId: { type: String }, item: { type: Object }, parameterValuesMap: { type: Object }, tabKey: { type: String } },\r\n    emits: ['iframeCreated', 'closeIframe', 'parametersChanged', 'closeDetails', 'documentSaved', 'close'],\r\n    data() {\r\n        return {\r\n            url: '',\r\n            mode: '',\r\n            testIFrame: null as any,\r\n            name: '' as string,\r\n            loadedItem: null as any\r\n        }\r\n    },\r\n    watch: {\r\n        id() {\r\n            this.name = this.id as string\r\n            this.loadItem()\r\n            this.setMode()\r\n        },\r\n        item() {\r\n            this.loadItem()\r\n            this.setMode()\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    created() {\r\n        this.name = this.id as string\r\n        this.createUrl()\r\n        this.loadItem()\r\n        this.setMode()\r\n    },\r\n    activated() {\r\n        this.loadItem()\r\n        this.setMode()\r\n    },\r\n    deactivated() {\r\n        this.mode = ''\r\n    },\r\n    methods: {\r\n        createUrl() {\r\n            const user = (this.store.$state as any).user\r\n            const language = user.locale.split('_')[0]\r\n            const uniqueID = user.userUniqueIdentifier\r\n            const country = user.locale.split('_')[1]\r\n\r\n            this.url = import.meta.env.VITE_HOST_URL + `/knowagecockpitengine/api/1.0/pages/edit?NEW_SESSION=TRUE&SBI_LANGUAGE=${language}&user_id=${uniqueID}&SBI_COUNTRY=${country}&SBI_ENVIRONMENT=DOCBROWSER&IS_TECHNICAL_USER=true&documentMode=EDIT&FUNCTIONALITY_ID=${this.functionalityId}`\r\n        },\r\n        setMode() {\r\n            if (!this.loadedItem) return\r\n\r\n            if (this.loadedItem.showMode === 'documentDetail') {\r\n                this.mode = 'document-detail'\r\n            } else if (this.loadedItem.showMode === 'execute' || this.loadedItem.showMode === 'createDashboard') {\r\n                this.mode = 'document-execution'\r\n            } else if (this.loadedItem.showMode === 'createCockpit') {\r\n                this.mode = 'cockpit'\r\n                this.$emit('iframeCreated', { iframe: this.url, item: this.item })\r\n            }\r\n        },\r\n        onDocumentsSaved(document: any) {\r\n            this.$emit('documentSaved', document)\r\n        },\r\n        loadItem() {\r\n            this.loadedItem = this.item\r\n        }\r\n    }\r\n})\r\n</script>\r\n"],"names":["mainStore","_createElementBlock","_withDirectives","_createVNode","_vShow","_normalizeStyle"],"mappings":"2qCAgCA,KAAK,GAAa,EAAa,CAC3B,KAAM,qCACN,WAAY,CACR,oBACA,iBACJ,EACA,MAAO,CAAE,GAAI,CAAE,KAAM,QAAU,gBAAiB,CAAE,KAAM,MAAA,EAAU,KAAM,CAAE,KAAM,MAAA,EAAU,mBAAoB,CAAE,KAAM,MAAO,EAAG,OAAQ,CAAE,KAAM,OAAS,EACzJ,MAAO,CAAC,gBAAiB,cAAe,oBAAqB,eAAgB,gBAAiB,OAAO,EACrG,MAAO,CACI,MAAA,CACH,IAAK,GACL,KAAM,GACN,WAAY,KACZ,KAAM,GACN,WAAY,IAAA,CAEpB,EACA,MAAO,CACH,IAAK,CACD,KAAK,KAAO,KAAK,GACjB,KAAK,SAAS,EACd,KAAK,QAAQ,CACjB,EACA,MAAO,CACH,KAAK,SAAS,EACd,KAAK,QAAQ,CACjB,CACJ,EACA,OAAQ,CAEJ,MAAO,CAAA,MADOA,GACC,CACnB,EACA,SAAU,CACN,KAAK,KAAO,KAAK,GACjB,KAAK,UAAU,EACf,KAAK,SAAS,EACd,KAAK,QAAQ,CACjB,EACA,WAAY,CACR,KAAK,SAAS,EACd,KAAK,QAAQ,CACjB,EACA,aAAc,CACV,KAAK,KAAO,EAChB,EACA,QAAS,CACL,WAAY,CACF,KAAA,GAAQ,KAAK,MAAM,OAAe,KAClC,EAAW,EAAK,OAAO,MAAM,GAAG,EAAE,GAClC,EAAW,EAAK,qBAChB,EAAU,EAAK,OAAO,MAAM,GAAG,EAAE,GAElC,KAAA,IAAM,0EAA0G,aAAoB,iBAAwB,0FAAgG,KAAK,iBAC1Q,EACA,SAAU,CACN,AAAI,CAAC,KAAK,YAEN,CAAA,KAAK,WAAW,WAAa,iBAC7B,KAAK,KAAO,kBAChB,AAAW,KAAK,WAAW,WAAa,WAAa,KAAK,WAAW,WAAa,kBAC9E,KAAK,KAAO,qBACL,KAAK,WAAW,WAAa,iBACpC,MAAK,KAAO,UACP,KAAA,MAAM,gBAAiB,CAAE,OAAQ,KAAK,IAAK,KAAM,KAAK,IAAA,CAAM,GAEzE,EACA,iBAAiB,EAAe,CACvB,KAAA,MAAM,gBAAiB,CAAQ,CACxC,EACA,UAAW,CACP,KAAK,WAAa,KAAK,IAC3B,CACJ,CACJ,CAAC,EAxGW,EAAA,CAAoB,GAAA,oBAAA,MAAA,+GAUH,EAAAC,EAAA,MAAA,EAAA,CARRC,EAAAC,EAAA,EAAA,CAER,GAAQ,EAAA,KACF,SAAK,EAAA,KACX,QAAoB,CAAkB,EAAA,OAAA,qBAAA,GAAA,4BAAA,CAAA,EACtC,mBAAc,EAAA,mBACd,OAAA,EAAA,OACA,oBAAK,YAAE,AAAK,GAAA,EAAA,MAAA,oBAAA,CAAA,GAAA,QAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,OAAA,WANL,CAAI,KAAA,WAAA,QAAA,qBAAA,QAAA,CAAA,EAAA,CAAA,CAAAC,EAAA,EAAA,OAAA,oBAAA,IAUAF,EAAAC,EAAG,EAAI,CAClB,MAAqBE,EAAA,CAAA,EAAA,OAAA,kBAAA,GAAA,2BAAA,CAAA,EACrB,SAAU,YACV,SAAS,EAAE,KACX,UAAW,KAAI,OAAJ,cAAI,GACf,UAAc,EAAA,KACd,aAAY,EAAA,gBACZ,eAAa,EAAE,IAAgB,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,eAAA,EAAA,IAAA,GAAA,gBAAA,EAAA,yBARxB,CAAI,QAAA,WAAA,YAAA,YAAA,eAAA,iBAAA,CAAA,EAAA,CAAA,CAAAD,EAAA,EAAA,OAAA,iBAAA"}