import{_ as w,d as y,l as M,n as A,O as C,F as i,x as s,r as d,o as p,h as k,w as e,a as l,f as r,g as v,t as u,D as c,c as E,C as I,B as z,p as T,b as F}from"./index-1e676509.js";import{s as N,i as S}from"./tag.esm-b36a6db8.js";const D=y({name:"import-export-catalog-function",components:{Column:M,DataTable:A,InputText:C,Tag:N},props:{selectedItems:Object},data(){return{filters:{},importExportDescriptor:S,product:{},selectedCatalogFunctionItems:[],functions:[],FUNCTIONALITY:"catalogFunction"}},created(){this.filters={global:{value:null,matchMode:i.CONTAINS},name:{operator:s.OR,constraints:[{value:null,matchMode:i.STARTS_WITH}]},type:{operator:s.OR,constraints:[{value:null,matchMode:i.STARTS_WITH}]},tags:{operator:s.OR,constraints:[{value:null,matchMode:i.CONTAINS}]}},this.loadAllFunctions()},emits:["onItemSelected","update:loading"],methods:{loadAllFunctions(){this.$emit("update:loading",!0),this.$http.get("/knowage-api/api/1.0/functioncatalog").then(a=>{this.functions=a.data,this.selectedItems&&(this.selectedCatalogFunctionItems=this.selectedItems[this.FUNCTIONALITY].filter(t=>this.functions.filter(b=>b.id===t.id).length==1))}).catch(a=>console.error(a)).finally(()=>{this.$emit("update:loading",!1)})}},watch:{selectedCatalogFunctionItems(a,t){t!=a&&this.$emit("onItemSelected",{items:this.selectedCatalogFunctionItems,functionality:this.FUNCTIONALITY})}}}),O=a=>(T("data-v-c0796086"),a=a(),F(),a),U={class:"table-header"},$={class:"p-input-icon-left"},L=O(()=>l("i",{class:"pi pi-search"},null,-1)),P={class:"p-float-label kn-material-input"};function R(a,t,b,_,B,V){const m=d("InputText"),n=d("Column"),g=d("Tag"),f=d("DataTable");return p(),k(f,{ref:"dt",value:a.functions,selection:a.selectedCatalogFunctionItems,"onUpdate:selection":t[1]||(t[1]=o=>a.selectedCatalogFunctionItems=o),filters:a.filters,"onUpdate:filters":t[2]||(t[2]=o=>a.filters=o),class:"p-datatable-sm kn-table",dataKey:"id",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,15,20],responsiveLayout:"stack",breakpoint:"960px",currentPageReportTemplate:a.$t("common.table.footer.paginated",{first:"{first}",last:"{last}",totalRecords:"{totalRecords}"}),globalFilterFields:["name","type","tags"]},{header:e(()=>[l("div",U,[l("span",$,[L,r(m,{class:"kn-material-input",type:"text",modelValue:a.filters.global.value,"onUpdate:modelValue":t[0]||(t[0]=o=>a.filters.global.value=o),placeholder:a.$t("common.search"),badge:"0"},null,8,["modelValue","placeholder"])])])]),empty:e(()=>[v(u(a.$t("common.info.noDataFound")),1)]),loading:e(()=>[v(u(a.$t("common.info.dataLoading")),1)]),default:e(()=>[r(n,{selectionMode:"multiple",exportable:!1,style:c(a.importExportDescriptor.export.catalogFunction.column.selectionMode.style)},null,8,["style"]),r(n,{field:"name",header:a.$t(a.importExportDescriptor.export.catalogFunction.column.name.header),sortable:!0,style:c(a.importExportDescriptor.export.catalogFunction.column.name.style)},null,8,["header","style"]),r(n,{field:"type",header:a.$t(a.importExportDescriptor.export.catalogFunction.column.type.header),sortable:!0,style:c(a.importExportDescriptor.export.catalogFunction.column.type.style)},null,8,["header","style"]),r(n,{field:"tags",header:a.$t(a.importExportDescriptor.export.catalogFunction.column.tags.header),sortable:!0,style:c(a.importExportDescriptor.export.catalogFunction.column.tags.style)},{body:e(({data:o})=>[l("span",P,[(p(!0),E(z,null,I(o.tags,(h,x)=>(p(),k(g,{class:"importExportTags p-mr-1",key:x,rounded:"",value:h},null,8,["value"]))),128))])]),_:1},8,["header","style"])]),_:1},8,["value","selection","filters","currentPageReportTemplate"])}var Q=w(D,[["render",R],["__scopeId","data-v-c0796086"]]);export{Q as default};
//# sourceMappingURL=ImportExportCatalogFunction-f0feaa3d.js.map
