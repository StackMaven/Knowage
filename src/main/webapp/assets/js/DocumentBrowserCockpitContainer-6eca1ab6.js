import{_ as c,d as h,s as I,r,o as D,c as f,z as a,Y as n,f as d,D as p}from"./index-1e676509.js";import y from"./DocumentExecution-043060da.js";import M from"./DocumentDetails-8e77fd31.js";import"./DashboardController-182bb635.js";import"./checkbox.esm-fa6c8259.js";import"./radiobutton.esm-c3e6fa9b.js";import"./multiselect.esm-ce4000f7.js";import"./calendar.esm-60a451ba.js";import"./menu.esm-6bee86d0.js";import"./chip.esm-057ba1f1.js";import"./inputswitch.esm-80317a38.js";import"./accordiontab.esm-2c1b3232.js";import"./contextmenu.esm-4301c9fe.js";import"./KnHint-6d455703.js";import"./inlinemessage.esm-1edef892.js";import"./KnCalculatedField-ab0b2f81.js";import"./KnValidatonMessages-ebe48c72.js";import"./filterHelper-a723991a.js";import"./colorpicker.esm-423214e6.js";import"./breadcrumb.esm-bbffcb4d.js";import"./GlossaryDefinitionDescriptor-620d1c10.js";import"./editor.esm-7f249187.js";import"./textarea.esm-32051d54.js";import"./KnParameterSidebar-7c5f3d6f.js";import"./chips.esm-693c3c01.js";import"./tree.esm-837306a6.js";import"./Registry-d0cf4afe.js";import"./Olap-345cdd86.js";import"./selectbutton.esm-1085ac65.js";import"./x2js-1de3b703.js";import"./KnListBox-94855720.js";const S=h({name:"document-browser-cockpit-container",components:{DocumentExecution:y,DocumentDetails:M},props:{id:{type:String},functionalityId:{type:String},item:{type:Object},parameterValuesMap:{type:Object},tabKey:{type:String}},emits:["iframeCreated","closeIframe","parametersChanged","closeDetails","documentSaved","close"],data(){return{url:"",mode:"",testIFrame:null,name:"",loadedItem:null}},watch:{id(){this.name=this.id,this.loadItem(),this.setMode()},item(){this.loadItem(),this.setMode()}},setup(){return{store:I()}},created(){this.name=this.id,this.createUrl(),this.loadItem(),this.setMode()},activated(){this.loadItem(),this.setMode()},deactivated(){this.mode=""},methods:{createUrl(){const e=this.store.$state.user,t=e.locale.split("_")[0],i=e.userUniqueIdentifier,s=e.locale.split("_")[1];this.url=`/knowagecockpitengine/api/1.0/pages/edit?NEW_SESSION=TRUE&SBI_LANGUAGE=${t}&user_id=${i}&SBI_COUNTRY=${s}&SBI_ENVIRONMENT=DOCBROWSER&IS_TECHNICAL_USER=true&documentMode=EDIT&FUNCTIONALITY_ID=${this.functionalityId}`},setMode(){!this.loadedItem||(this.loadedItem.showMode==="documentDetail"?this.mode="document-detail":this.loadedItem.showMode==="execute"||this.loadedItem.showMode==="createDashboard"?this.mode="document-execution":this.loadedItem.showMode==="createCockpit"&&(this.mode="cockpit",this.$emit("iframeCreated",{iframe:this.url,item:this.item})))},onDocumentsSaved(e){this.$emit("documentSaved",e)},loadItem(){this.loadedItem=this.item}}}),$={id:"cockpit-container",class:"kn-height-full"};function v(e,t,i,s,C,w){var m;const l=r("DocumentExecution"),u=r("DocumentDetails");return D(),f("div",$,[a(d(l,{id:e.name,propMode:e.mode,style:p([e.mode==="document-execution"?"":"display: none !important; "]),parameterValuesMap:e.parameterValuesMap,tabKey:e.tabKey,onParametersChanged:t[0]||(t[0]=o=>e.$emit("parametersChanged",o)),onClose:t[1]||(t[1]=o=>e.$emit("close"))},null,8,["id","propMode","style","parameterValuesMap","tabKey"]),[[n,e.mode==="document-execution"]]),a(d(u,{style:p([e.mode==="document-detail"?"":"display: none !important;"]),propMode:"execution",viewMode:e.mode,propDocId:(m=e.item)==null?void 0:m.id,wholeItem:e.item,propFolderId:e.functionalityId,onCloseDetails:t[2]||(t[2]=o=>e.$emit("closeDetails",e.item)),onDocumentSaved:e.onDocumentsSaved},null,8,["style","viewMode","propDocId","wholeItem","propFolderId","onDocumentSaved"]),[[n,e.mode==="document-detail"]])])}var oe=c(S,[["render",v]]);export{oe as default};
//# sourceMappingURL=DocumentBrowserCockpitContainer-6eca1ab6.js.map
