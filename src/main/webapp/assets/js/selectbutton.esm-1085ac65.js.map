{"version":3,"file":"selectbutton.esm-1085ac65.js","sources":["../../../../../node_modules/primevue/selectbutton/selectbutton.esm.js"],"sourcesContent":["import { DomHandler, ObjectUtils } from 'primevue/utils';\nimport Ripple from 'primevue/ripple';\nimport { resolveDirective, openBlock, createElementBlock, normalizeClass, Fragment, renderList, withDirectives, renderSlot, createElementVNode, toDisplayString } from 'vue';\n\nvar script = {\n    name: 'SelectButton',\n    emits: ['update:modelValue', 'focus', 'blur', 'change'],\n    props: {\n        modelValue: null,\n        options: Array,\n        optionLabel: null,\n        optionValue: null,\n        optionDisabled: null,\n        multiple: Boolean,\n        unselectable: {\n            type: Boolean,\n            default: true\n        },\n        disabled: Boolean,\n        dataKey: null,\n        'aria-labelledby': {\n            type: String,\n            default: null\n        }\n    },\n    data() {\n        return {\n            focusedIndex: 0\n        };\n    },\n    mounted() {\n        this.defaultTabIndexes();\n    },\n    methods: {\n        defaultTabIndexes() {\n            let opts = DomHandler.find(this.$refs.container, '.p-button');\n            let firstHighlight = DomHandler.findSingle(this.$refs.container, '.p-highlight');\n\n            for (let i = 0; i < opts.length; i++) {\n                if ((DomHandler.hasClass(opts[i], 'p-highlight') && ObjectUtils.equals(opts[i], firstHighlight)) || (firstHighlight === null && i == 0)) {\n                    this.focusedIndex = i;\n                }\n            }\n        },\n        getOptionLabel(option) {\n            return this.optionLabel ? ObjectUtils.resolveFieldData(option, this.optionLabel) : option;\n        },\n        getOptionValue(option) {\n            return this.optionValue ? ObjectUtils.resolveFieldData(option, this.optionValue) : option;\n        },\n        getOptionRenderKey(option) {\n            return this.dataKey ? ObjectUtils.resolveFieldData(option, this.dataKey) : this.getOptionLabel(option);\n        },\n        isOptionDisabled(option) {\n            return this.optionDisabled ? ObjectUtils.resolveFieldData(option, this.optionDisabled) : false;\n        },\n        onOptionSelect(event, option, index) {\n            if (this.disabled || this.isOptionDisabled(option)) {\n                return;\n            }\n\n            let selected = this.isSelected(option);\n\n            if (selected && !this.unselectable) {\n                return;\n            }\n\n            let optionValue = this.getOptionValue(option);\n            let newValue;\n\n            if (this.multiple) {\n                if (selected) newValue = this.modelValue.filter((val) => !ObjectUtils.equals(val, optionValue, this.equalityKey));\n                else newValue = this.modelValue ? [...this.modelValue, optionValue] : [optionValue];\n            } else {\n                newValue = selected ? null : optionValue;\n            }\n\n            this.focusedIndex = index;\n            this.$emit('update:modelValue', newValue);\n            this.$emit('change', { event: event, value: newValue });\n        },\n        isSelected(option) {\n            let selected = false;\n            let optionValue = this.getOptionValue(option);\n\n            if (this.multiple) {\n                if (this.modelValue) {\n                    for (let val of this.modelValue) {\n                        if (ObjectUtils.equals(val, optionValue, this.equalityKey)) {\n                            selected = true;\n                            break;\n                        }\n                    }\n                }\n            } else {\n                selected = ObjectUtils.equals(this.modelValue, optionValue, this.equalityKey);\n            }\n\n            return selected;\n        },\n        onKeydown(event, option, index) {\n            switch (event.code) {\n                case 'Space': {\n                    this.onOptionSelect(event, option, index);\n                    event.preventDefault();\n                    break;\n                }\n\n                case 'ArrowDown':\n\n                case 'ArrowRight': {\n                    this.changeTabIndexes(event, 'next');\n                    event.preventDefault();\n                    break;\n                }\n\n                case 'ArrowUp':\n\n                case 'ArrowLeft': {\n                    this.changeTabIndexes(event, 'prev');\n                    event.preventDefault();\n                    break;\n                }\n            }\n        },\n        changeTabIndexes(event, direction) {\n            let firstTabableChild, index;\n\n            for (let i = 0; i <= this.$refs.container.children.length - 1; i++) {\n                if (this.$refs.container.children[i].getAttribute('tabindex') === '0') firstTabableChild = { elem: this.$refs.container.children[i], index: i };\n            }\n\n            if (direction === 'prev') {\n                if (firstTabableChild.index === 0) index = this.$refs.container.children.length - 1;\n                else index = firstTabableChild.index - 1;\n            } else {\n                if (firstTabableChild.index === this.$refs.container.children.length - 1) index = 0;\n                else index = firstTabableChild.index + 1;\n            }\n\n            this.focusedIndex = index;\n            this.$refs.container.children[index].focus();\n        },\n        onFocus(event) {\n            this.$emit('focus', event);\n        },\n        onBlur(event, option) {\n            if (event.target && event.relatedTarget && event.target.parentElement !== event.relatedTarget.parentElement) {\n                this.defaultTabIndexes();\n            }\n\n            this.$emit('blur', event, option);\n        },\n        getButtonClass(option) {\n            return [\n                'p-button p-component',\n                {\n                    'p-highlight': this.isSelected(option),\n                    'p-disabled': this.isOptionDisabled(option)\n                }\n            ];\n        }\n    },\n    computed: {\n        containerClass() {\n            return [\n                'p-selectbutton p-buttonset p-component',\n                {\n                    'p-disabled': this.disabled\n                }\n            ];\n        },\n        equalityKey() {\n            return this.optionValue ? null : this.dataKey;\n        }\n    },\n    directives: {\n        ripple: Ripple\n    }\n};\n\nconst _hoisted_1 = [\"aria-labelledby\"];\nconst _hoisted_2 = [\"tabindex\", \"aria-label\", \"role\", \"aria-checked\", \"aria-disabled\", \"onClick\", \"onKeydown\", \"onBlur\"];\nconst _hoisted_3 = { class: \"p-button-label\" };\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _directive_ripple = resolveDirective(\"ripple\");\n\n  return (openBlock(), createElementBlock(\"div\", {\n    ref: \"container\",\n    class: normalizeClass($options.containerClass),\n    role: \"group\",\n    \"aria-labelledby\": _ctx.ariaLabelledby\n  }, [\n    (openBlock(true), createElementBlock(Fragment, null, renderList($props.options, (option, i) => {\n      return withDirectives((openBlock(), createElementBlock(\"div\", {\n        key: $options.getOptionRenderKey(option),\n        tabindex: i === $data.focusedIndex ? '0' : '-1',\n        \"aria-label\": $options.getOptionLabel(option),\n        role: $props.multiple ? 'checkbox' : 'radio',\n        \"aria-checked\": $options.isSelected(option),\n        \"aria-disabled\": $props.optionDisabled,\n        class: normalizeClass($options.getButtonClass(option, i)),\n        onClick: $event => ($options.onOptionSelect($event, option, i)),\n        onKeydown: $event => ($options.onKeydown($event, option, i)),\n        onFocus: _cache[0] || (_cache[0] = $event => ($options.onFocus($event))),\n        onBlur: $event => ($options.onBlur($event, option))\n      }, [\n        renderSlot(_ctx.$slots, \"option\", {\n          option: option,\n          index: i\n        }, () => [\n          createElementVNode(\"span\", _hoisted_3, toDisplayString($options.getOptionLabel(option)), 1)\n        ])\n      ], 42, _hoisted_2)), [\n        [_directive_ripple]\n      ])\n    }), 128))\n  ], 10, _hoisted_1))\n}\n\nscript.render = render;\n\nexport { script as default };\n"],"names":["createElementVNode"],"mappings":"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"}