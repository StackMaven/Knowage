{"version":3,"file":"DocumentBrowser-f1e6fb96.js","sources":["../../../../modules/documentBrowser/documentBrowserHelper.ts","../../../../modules/documentBrowser/documentBrowserHome/DocumentBrowserHint.vue","../../../../modules/documentBrowser/documentBrowserHome/DocumentBrowserTree.vue","../../../../modules/documentBrowser/documentBrowserHome/breadcrumbs/DocumentBrowserBreadcrumb.vue","../../../../modules/documentBrowser/documentBrowserHome/tables/DocumentBrowserTable.vue","../../../../modules/documentBrowser/documentBrowserHome/sidebar/DocumentBrowserSidebar.vue","../../../../modules/documentBrowser/documentBrowserHome/DocumentBrowserDetail.vue","../../../../modules/documentBrowser/documentBrowserHome/DocumentBrowserHome.vue","../../../../modules/documentBrowser/DocumentBrowserTab.vue","../../../../modules/documentBrowser/DocumentBrowser.vue"],"sourcesContent":["export function getRouteDocumentType(item: any) {\r\n    let routeDocumentType = ''\r\n\r\n    switch (item.typeCode) {\r\n        case 'DATAMART':\r\n            routeDocumentType = 'registry'\r\n            break\r\n        case 'DASHBOARD':\r\n        case 'DOCUMENT_COMPOSITE':\r\n            routeDocumentType = 'document-composite'\r\n            break\r\n        case 'OFFICE_DOC':\r\n            routeDocumentType = 'office-doc'\r\n            break\r\n        case 'OLAP':\r\n            routeDocumentType = 'olap'\r\n            break\r\n        case 'MAP':\r\n            routeDocumentType = 'map'\r\n            break\r\n        case 'REPORT':\r\n            routeDocumentType = 'report'\r\n            break\r\n        case 'KPI':\r\n            routeDocumentType = 'kpi'\r\n            break\r\n        case 'DOSSIER':\r\n            routeDocumentType = 'dossier'\r\n            break\r\n        case 'ETL':\r\n            routeDocumentType = 'etl'\r\n            break\r\n    }\r\n\r\n    return routeDocumentType\r\n}\r\n","<template>\r\n    <KnHint :title=\"'documentBrowser.title'\" :hint=\"'documentBrowser.hint'\"></KnHint>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport KnHint from '@/components/UI/KnHint.vue'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser-hint',\r\n    components: { KnHint }\r\n})\r\n</script>\r\n","<template>\r\n    <Tree\r\n        id=\"folders-tree\"\r\n        class=\"kn-tree kn-column-tree kn-flex p-p-0\"\r\n        scrollHeight=\"calc(100vh - 127px)\"\r\n        maximizable\r\n        :value=\"nodes\"\r\n        selectionMode=\"single\"\r\n        v-model:selectionKeys=\"selectedFolderKey\"\r\n        :filter=\"true\"\r\n        filterMode=\"lenient\"\r\n        :expandedKeys=\"expandedKeys\"\r\n        @node-select=\"setSelectedFolder\"\r\n        @node-expand=\"setOpenFolderIcon($event)\"\r\n        @node-collapse=\"setClosedFolderIcon($event)\"\r\n    ></Tree>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { iNode } from '../DocumentBrowser'\r\nimport Tree from 'primevue/tree'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser-tree',\r\n    components: { Tree },\r\n    props: { propFolders: { type: Array }, selectedBreadcrumb: { type: Object }, selectedFolderProp: { type: Object } },\r\n    emits: ['folderSelected'],\r\n    data() {\r\n        return {\r\n            folders: [] as any[],\r\n            nodes: [] as iNode[],\r\n            selectedFolderKey: {},\r\n            expandedKeys: {},\r\n            selectedFolder: null as any\r\n        }\r\n    },\r\n    watch: {\r\n        propFolders() {\r\n            this.loadFolders()\r\n            this.createNodeTree()\r\n        },\r\n        selectedBreadcrumb() {\r\n            this.onBreadcrumbSelected()\r\n        },\r\n        selectedFolderProp() {\r\n            this.selectedFolder = this.selectedFolderProp\r\n            if (!this.selectedFolder) return\r\n            this.selectedFolderKey = {}\r\n            this.selectedFolderKey[this.selectedFolder.key] = true\r\n            let temp = null as any\r\n            for (let i = 0; i < this.nodes.length; i++) {\r\n                temp = this.findNode(this.nodes[i], this.selectedFolder.id, 'id')\r\n                if (temp) {\r\n                    this.selectedFolderKey[temp.key] = true\r\n                    this.expandedKeys[temp.key] = true\r\n                    const tempPath = this.selectedFolder.path?.substring(1)?.split('/')\r\n                    tempPath?.forEach((el: string) => {\r\n                        const tempFolderByCode = this.findNode(this.nodes[i], el, 'code')\r\n                        if (tempFolderByCode) this.expandedKeys[tempFolderByCode.key] = true\r\n                    })\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.loadFolders()\r\n        this.createNodeTree()\r\n    },\r\n    methods: {\r\n        loadFolders() {\r\n            this.folders = this.propFolders as any[]\r\n            this.loadSelectedFolderFromLocalStorage()\r\n        },\r\n        createNodeTree() {\r\n            const personalFolder = {\r\n                key: 'Personal_Folders',\r\n                icon: 'pi pi-folder',\r\n                id: -1,\r\n                parentId: null,\r\n                label: 'Personal_Folders',\r\n                children: [] as iNode[],\r\n                data: {\r\n                    id: -1,\r\n                    codType: 'LOW_FUNCT',\r\n                    code: 'Personal_Folders',\r\n                    createRoles: [],\r\n                    description: 'Personal Folders',\r\n                    name: 'Personal_Folders',\r\n                    parentId: null,\r\n                    subfolders: [],\r\n                    path: '/Personal-Folders'\r\n                }\r\n            }\r\n            this.nodes = [personalFolder]\r\n            const foldersWithMissingParent = [] as iNode[]\r\n            this.folders.forEach((folder: any) => {\r\n                const node = { key: folder.name, icon: 'pi pi-folder', id: folder.id, parentId: folder.parentId, label: folder.name, children: [] as iNode[], data: folder }\r\n                node.children = foldersWithMissingParent.filter((folder: iNode) => node.id === folder.parentId && folder.data.codType !== 'LOW_FUNCT')\r\n                this.attachFolderToTree(node, foldersWithMissingParent, personalFolder)\r\n            })\r\n        },\r\n        attachFolderToTree(folder: iNode, foldersWithMissingParent: iNode[], personalFolder: iNode) {\r\n            if (folder.parentId && folder.parentId !== -1) {\r\n                let parentFolder = null as iNode | null\r\n                for (let i = 0; i < foldersWithMissingParent.length; i++) {\r\n                    if (folder.parentId === foldersWithMissingParent[i].id && foldersWithMissingParent[i].data.codType !== 'USER_FUNCT') {\r\n                        folder.data.parentFolder = foldersWithMissingParent[i]\r\n                        foldersWithMissingParent[i].children?.push(folder)\r\n                        break\r\n                    }\r\n                }\r\n                for (let i = 0; i < this.nodes.length; i++) {\r\n                    parentFolder = this.findParentFolder(folder, this.nodes[i])\r\n\r\n                    if (parentFolder && parentFolder.data.codType !== 'USER_FUNCT') {\r\n                        folder.data.parentFolder = parentFolder\r\n                        parentFolder.children?.push(folder)\r\n                        break\r\n                    }\r\n                }\r\n                if (!parentFolder && folder.data.codType !== 'USER_FUNCT') {\r\n                    foldersWithMissingParent.push(folder)\r\n                }\r\n            } else if (folder.data.codType === 'USER_FUNCT') {\r\n                folder.data.parentFolder = personalFolder\r\n                folder.data.parentId = personalFolder.id\r\n                personalFolder.children?.push(folder)\r\n            } else {\r\n                this.nodes.push(folder)\r\n            }\r\n        },\r\n        findParentFolder(folderToAdd: iNode, folderToSearch: iNode) {\r\n            if (folderToAdd.data.codType === 'USER_FUNCT') {\r\n                return null\r\n            }\r\n            if (folderToAdd.parentId === folderToSearch.id) {\r\n                return folderToSearch\r\n            } else {\r\n                let tempFolder = null as iNode | null\r\n                if (folderToSearch.children) {\r\n                    for (let i = 0; i < folderToSearch.children.length; i++) {\r\n                        tempFolder = this.findParentFolder(folderToAdd, folderToSearch.children[i])\r\n                        if (tempFolder) {\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n                return tempFolder\r\n            }\r\n        },\r\n        setSelectedFolder(node: iNode) {\r\n            this.selectedFolder = node.data\r\n            localStorage.setItem('documentSelectedFolderId', JSON.stringify(this.selectedFolder.id))\r\n            this.$emit('folderSelected', this.selectedFolder)\r\n        },\r\n        setOpenFolderIcon(node: iNode) {\r\n            node.icon = 'pi pi-folder-open'\r\n        },\r\n        setClosedFolderIcon(node: iNode) {\r\n            node.icon = 'pi pi-folder'\r\n        },\r\n        onBreadcrumbSelected() {\r\n            this.selectedFolder = this.selectedBreadcrumb?.node\r\n            this.selectedFolderKey = {}\r\n            this.selectedFolderKey[this.selectedFolder.key] = true\r\n        },\r\n        loadSelectedFolderFromLocalStorage() {\r\n            const folderId = localStorage.getItem('documentSelectedFolderId')\r\n            if (folderId) {\r\n                const index = this.folders.findIndex((el: any) => el.id === JSON.parse(folderId))\r\n                if (index !== -1) {\r\n                    this.selectedFolder = this.folders[index]\r\n                    this.selectedFolderKey[this.folders[index].name] = true\r\n                    this.expandedKeys[this.folders[index].name] = true\r\n                    this.$emit('folderSelected', this.selectedFolder)\r\n                }\r\n            }\r\n        },\r\n        findNode(node: iNode, value: number | string, property: string) {\r\n            if (node.data[property] === value) {\r\n                return node\r\n            } else if (node.children != null) {\r\n                let result = null as any\r\n                for (let i = 0; result == null && i < node.children.length; i++) {\r\n                    result = this.findNode(node.children[i], value, property)\r\n                }\r\n                return result\r\n            }\r\n            return null\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#folders-tree {\r\n    border: none;\r\n}\r\n</style>\r\n","<template>\r\n    <Breadcrumb :home=\"home\" :model=\"items\" class=\"kn-breadcrumb border-bottom\">\r\n        <template #item=\"{item}\">\r\n            <span class=\"breadcrumbs-item\" @click=\"selectBreadcrumb\" :data-test=\"'breadcrumb-' + item.label\">{{ item.label }}</span>\r\n        </template>\r\n    </Breadcrumb>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport Breadcrumb from 'primevue/breadcrumb'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser-breadcrumb',\r\n    components: { Breadcrumb },\r\n    props: { breadcrumbs: { type: Array } },\r\n    emits: ['breadcrumbClicked'],\r\n    data() {\r\n        return {\r\n            home: { icon: 'pi pi-home' },\r\n            items: [] as any[]\r\n        }\r\n    },\r\n    watch: {\r\n        breadcrumbs() {\r\n            this.loadBreadcrumbs()\r\n        }\r\n    },\r\n    created() {\r\n        this.loadBreadcrumbs()\r\n    },\r\n    methods: {\r\n        loadBreadcrumbs() {\r\n            this.items = this.breadcrumbs as any[]\r\n        },\r\n        selectBreadcrumb(event: any) {\r\n            const index = this.items.findIndex((el: any) => el.label === event.target.textContent)\r\n\r\n            if (index !== -1) {\r\n                this.$emit('breadcrumbClicked', this.items[index])\r\n                this.items.splice(index + 1)\r\n            }\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.p-breadcrumb ul li:nth-child(2) {\r\n    display: none;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"p-d-flex p-flex-row p-jc-center\">\r\n        <Message v-if=\"searchMode\" id=\"documents-found-hint\" class=\"p-m-2\" severity=\"info\" :closable=\"false\" :style=\"documentBrowserTableDescriptor.styles.message\">\r\n            {{ documents.length + ' ' + $t('documentBrowser.documentsFound') }}\r\n        </Message>\r\n    </div>\r\n    <div class=\"table-header p-d-flex\" v-if=\"!searchMode\">\r\n        <span class=\"p-input-icon-left p-mr-3 p-col-12\">\r\n            <i class=\"pi pi-search\" />\r\n            <InputText class=\"kn-material-input\" v-model=\"filters['global'].value\" type=\"text\" :placeholder=\"$t('common.search')\" data-test=\"filterInput\" />\r\n        </span>\r\n    </div>\r\n    <div class=\"kn-overflow-y last-flex-container kn-flex\">\r\n        <DataTable\r\n            id=\"documents-datatable\"\r\n            v-model:first=\"first\"\r\n            :value=\"documents\"\r\n            :paginator=\"documents.length > documentBrowserTableDescriptor.rows\"\r\n            paginatorTemplate=\"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink\"\r\n            :currentPageReportTemplate=\"\r\n                $t('common.table.footer.paginated', {\r\n                    first: '{first}',\r\n                    last: '{last}',\r\n                    totalRecords: '{totalRecords}'\r\n                })\r\n            \"\r\n            :rows=\"documentBrowserTableDescriptor.rows\"\r\n            v-model:filters=\"filters\"\r\n            filterDisplay=\"menu\"\r\n            selectionMode=\"single\"\r\n            class=\"p-datatable-sm kn-table\"\r\n            dataKey=\"id\"\r\n            :responsiveLayout=\"documentBrowserTableDescriptor.responsiveLayout\"\r\n            :breakpoint=\"documentBrowserTableDescriptor.breakpoint\"\r\n            @rowClick=\"$emit('selected', $event.data)\"\r\n            data-test=\"documents-datatable\"\r\n            style=\"width: 100%\"\r\n            :scrollable=\"true\"\r\n            scrollHeight=\"100%\"\r\n        >\r\n            <template #empty>\r\n                <Message class=\"p-m-2\" severity=\"info\" :closable=\"false\" :style=\"documentBrowserTableDescriptor.styles.message\" data-test=\"no-documents-hint\">\r\n                    {{ $t('documentBrowser.noDocumentsHint') }}\r\n                </Message>\r\n            </template>\r\n            <Column class=\"kn-truncated\" :style=\"col.style\" v-for=\"col of documentBrowserTableDescriptor.columns\" :header=\"$t(col.header)\" :field=\"col.field\" :key=\"col.field\" :sortField=\"col.field\" :sortable=\"true\">\r\n                <template #filter=\"{ filterModel }\">\r\n                    <InputText type=\"text\" v-model=\"filterModel.value\" class=\"p-column-filter\"></InputText>\r\n                </template>\r\n                <template #body=\"slotProps\">\r\n                    <span class=\"kn-truncated\" v-tooltip.top=\"slotProps.data[col.field]\">{{ slotProps.data[col.field] }}</span>\r\n                </template>\r\n            </Column>\r\n            <Column v-if=\"isAdmin\" :header=\"$t('common.status')\" field=\"stateCodeStr\" sortField=\"stateCodeStr\" :sortable=\"true\" :style=\"documentBrowserTableDescriptor.table.smallmessage\">\r\n                <template #filter=\"{ filterModel }\">\r\n                    <InputText type=\"text\" v-model=\"filterModel.value\" class=\"p-column-filter\"></InputText>\r\n                </template>\r\n                <template #body=\"slotProps\" :style=\"documentBrowserTableDescriptor.table.iconColumn.smallmessage\">\r\n                    <span data-test=\"document-status\"> {{ slotProps.data['stateCodeStr'] }}</span>\r\n                </template></Column\r\n            >\r\n            <Column v-if=\"isAdmin\" :header=\"$t('common.visible')\" field=\"visible\" sortField=\"visible\" :sortable=\"true\" :style=\"documentBrowserTableDescriptor.table.iconColumn.style\">\r\n                <template #body=\"slotProps\">\r\n                    <span class=\"fa-stack\" v-tooltip=\"slotProps.data['visible'] ? $t('common.visible') : $t('common.notVisible')\">\r\n                        <i class=\"fa fa-eye fa-stack-1x\"></i>\r\n                        <i v-if=\"!slotProps.data['visible']\" class=\"fa fa-ban fa-stack-2x\"></i>\r\n                    </span> </template\r\n            ></Column>\r\n            <Column :style=\"documentBrowserTableDescriptor.table.iconColumn.style\">\r\n                <template #body=\"slotProps\">\r\n                    <Button icon=\"fa fa-play-circle\" class=\"p-button-link\" v-tooltip.left=\"$t('documentBrowser.executeDocument')\" @click.stop=\"executeDocument(slotProps.data)\" />\r\n                </template>\r\n            </Column>\r\n        </DataTable>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { FilterOperator } from 'primevue/api'\r\nimport { filterDefault } from '@/helpers/commons/filterHelper'\r\nimport Column from 'primevue/column'\r\nimport DataTable from 'primevue/datatable'\r\nimport Message from 'primevue/message'\r\nimport documentBrowserTableDescriptor from './DocumentBrowserTableDescriptor.json'\r\nimport mainStore from '../../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser-table',\r\n    components: { Column, DataTable, Message },\r\n    props: { propDocuments: { type: Array }, searchMode: { type: Boolean } },\r\n    emits: ['itemSelected', 'selected'],\r\n    data() {\r\n        return {\r\n            documentBrowserTableDescriptor,\r\n            documents: [] as any[],\r\n            filters: {\r\n                global: [filterDefault],\r\n                typeCode: {\r\n                    operator: FilterOperator.AND,\r\n                    constraints: [filterDefault]\r\n                },\r\n                name: {\r\n                    operator: FilterOperator.AND,\r\n                    constraints: [filterDefault]\r\n                },\r\n                label: {\r\n                    operator: FilterOperator.AND,\r\n                    constraints: [filterDefault]\r\n                },\r\n                creationUser: {\r\n                    operator: FilterOperator.AND,\r\n                    constraints: [filterDefault]\r\n                },\r\n                stateCodeStr: {\r\n                    operator: FilterOperator.AND,\r\n                    constraints: [filterDefault]\r\n                }\r\n            } as any,\r\n            user: null as any,\r\n            first: 0\r\n        }\r\n    },\r\n    watch: {\r\n        propDocuments() {\r\n            this.loadDocuments()\r\n            this.first = 0\r\n        }\r\n    },\r\n    computed: {\r\n        isAdmin(): boolean {\r\n            return this.user?.functionalities.includes('DocumentManagement') || this.user?.isSuperadmin\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    created() {\r\n        this.loadDocuments()\r\n        this.first = 0\r\n        this.user = (this.store.$state as any).user\r\n    },\r\n    methods: {\r\n        loadDocuments() {\r\n            this.documents = this.propDocuments?.map((el: any) => {\r\n                if (el.field === 'status') el.style = documentBrowserTableDescriptor.table.smallmessage\r\n                return { ...el, stateCodeStr: this.getTranslatedStatus(el.stateCodeStr) }\r\n            }) as any[]\r\n        },\r\n        getTranslatedStatus(status: string) {\r\n            return status ? this.$t(documentBrowserTableDescriptor.status[status] ?? '') : ''\r\n        },\r\n        executeDocument(document: any) {\r\n            this.$emit('itemSelected', { item: document, mode: 'execute' })\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#documents-found-hint {\r\n    flex: 0.5;\r\n}\r\n</style>\r\n","<template>\r\n    <div id=\"document-browser-sidebar\">\r\n        <Toolbar id=\"document-detail-toolbar\" class=\"kn-toolbar kn-toolbar--secondary\">\r\n            <template #start>\r\n                <div id=\"document-icons-container\" class=\"p-d-flex p-flex-row p-jc-around\">\r\n                    <i class=\"fa fa-play-circle document-pointer p-mx-4\" v-tooltip.top=\"$t('documentBrowser.executeDocument')\" @click=\"executeDocument\" v-if=\"user?.functionalities.includes('DocumentUserManagement')\" />\r\n                    <template v-if=\"canEditDocument\">\r\n                        <i class=\"pi pi-pencil document-pointer p-mx-4\" v-tooltip.top=\"$t('documentBrowser.editDocument')\" @click=\"$emit('showDocumentDetails', document)\" />\r\n                        <i class=\"far fa-copy document-pointer p-mx-4\" v-tooltip.top=\"$t('documentBrowser.cloneDocument')\" @click=\"cloneDocumentConfirm\" />\r\n                        <i class=\"far fa-trash-alt document-pointer p-mx-4\" v-tooltip.top=\"$t('documentBrowser.deleteDocument')\" @click=\"deleteDocumentConfirm\" v-if=\"user?.functionalities.includes('DocumentDeleteManagement')\" />\r\n                    </template>\r\n                    <i v-if=\"user?.functionalities.includes('DocumentMoveUpState') && document.stateCode === 'TEST'\" class=\"fa fa-arrow-up document-pointer p-mx-4\" v-tooltip.left=\"$t('documentBrowser.moveUpDocumentState')\" @click=\"changeStateDocumentConfirm('UP')\" />\r\n                    <i\r\n                        v-if=\"user?.functionalities.includes('DocumentMoveDownState') && (document.stateCode === 'TEST' || document.stateCode === 'REL')\"\r\n                        class=\"fa fa-arrow-down document-pointer p-mx-4\"\r\n                        v-tooltip.left=\"$t('documentBrowser.moveDownDocumentState')\"\r\n                        @click=\"changeStateDocumentConfirm('DOWN')\"\r\n                    />\r\n                </div>\r\n            </template>\r\n        </Toolbar>\r\n        <div class=\"p-m-4\">\r\n            <div v-if=\"selectedDocument?.previewFile\" class=\"p-text-center\">\r\n                <img id=\"image-preview\" :src=\"getImageUrl\" />\r\n            </div>\r\n            <div v-if=\"document.functionalities && document.functionalities.length > 0\" class=\"p-m-4\">\r\n                <h3 class=\"p-m-0\">{{ $t('common.path') }}</h3>\r\n                <p v-for=\"(path, index) in document.functionalities\" :key=\"index\" class=\"p-m-0\">{{ path }}</p>\r\n            </div>\r\n            <div v-if=\"document.name\" class=\"p-m-4\">\r\n                <h3 class=\"p-m-0\">{{ $t('common.name') }}</h3>\r\n                <p class=\"p-m-0\">{{ document.name }}</p>\r\n            </div>\r\n            <div v-if=\"document.label\" class=\"p-m-4\">\r\n                <h3 class=\"p-m-0\">{{ $t('common.label') }}</h3>\r\n                <p class=\"p-m-0\">{{ document.label }}</p>\r\n            </div>\r\n            <div v-if=\"document.creationUser\" class=\"p-m-4\">\r\n                <h3 class=\"p-m-0\">{{ $t('common.author') }}</h3>\r\n                <p class=\"p-m-0\">{{ document.creationUser }}</p>\r\n            </div>\r\n            <div v-if=\"document.description\" class=\"p-m-4\">\r\n                <h3 class=\"p-m-0\">{{ $t('common.description') }}</h3>\r\n                <p class=\"p-m-0\">{{ document.description }}</p>\r\n            </div>\r\n            <div v-if=\"document.stateCodeStr\" class=\"p-m-4\">\r\n                <h3 class=\"p-m-0\">{{ $t('common.state') }}</h3>\r\n                <p class=\"p-m-0\">{{ document.stateCodeStr }}</p>\r\n            </div>\r\n            <div v-if=\"document.typeCode\" class=\"p-m-4\">\r\n                <h3 class=\"p-m-0\">{{ $t('common.type') }}</h3>\r\n                <p class=\"p-m-0\">{{ document.typeCode }}</p>\r\n            </div>\r\n            <div v-if=\"document.creationDate\" class=\"p-m-4\">\r\n                <h3 class=\"p-m-0\">{{ $t('common.creationDate') }}</h3>\r\n                <p class=\"p-m-0\">{{ getFormatedDate(document.creationDate) }}</p>\r\n            </div>\r\n            <div v-if=\"document.visible\" class=\"p-m-4\">\r\n                <h3 class=\"p-m-0\">{{ $t('common.visibility') }}</h3>\r\n                <p class=\"p-m-0\">{{ document.visible ? $t('common.visible') : $t('common.notVisible') }}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { formatDate } from '@/helpers/commons/localeHelper'\r\nimport mainStore from '../../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser-sidebar',\r\n    props: { selectedDocument: { type: Object } },\r\n    emits: ['documentCloneClick', 'documentDeleteClick', 'itemSelected', 'documentChangeStateClicked', 'showDocumentDetails'],\r\n    data() {\r\n        return {\r\n            document: null as any,\r\n            user: null as any\r\n        }\r\n    },\r\n    watch: {\r\n        selectedDocument() {\r\n            this.loadDocument()\r\n        }\r\n    },\r\n    computed: {\r\n        isSuperAdmin(): boolean {\r\n            return this.user?.isSuperadmin\r\n        },\r\n        getImageUrl(): string {\r\n            return import.meta.env.VITE_HOST_URL + `/knowage/servlet/AdapterHTTP?ACTION_NAME=MANAGE_PREVIEW_FILE_ACTION&SBI_ENVIRONMENT=DOCBROWSER&LIGHT_NAVIGATOR_DISABLED=TRUE&operation=DOWNLOAD&fileName=${this.selectedDocument?.previewFile}`\r\n        },\r\n        canEditDocument(): boolean {\r\n            if (!this.user) return false\r\n            switch (this.document.stateCode) {\r\n                case 'TEST':\r\n                    return this.user.functionalities.includes('DocumentTestManagement')\r\n                case 'DEV':\r\n                    return this.user.functionalities.includes('DocumentDevManagement')\r\n                case 'REL':\r\n                    return this.user.functionalities.includes('DocumentAdminManagement')\r\n                case 'SUSPENDED':\r\n                case 'SUSP':\r\n                    return this.user.functionalities.includes('DocumentAdminManagement')\r\n                default:\r\n                    return false\r\n            }\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    created() {\r\n        this.loadDocument()\r\n        this.user = (this.store.$state as any).user\r\n    },\r\n    methods: {\r\n        loadDocument() {\r\n            this.document = this.selectedDocument\r\n        },\r\n        getFormatedDate(date: any) {\r\n            return formatDate(date, 'MMM DD, YYYY h:mm:ss A')\r\n        },\r\n        cloneDocumentConfirm() {\r\n            this.$confirm.require({\r\n                header: this.$t('common.toast.cloneConfirmTitle'),\r\n                accept: () => this.$emit('documentCloneClick', this.document)\r\n            })\r\n        },\r\n        deleteDocumentConfirm() {\r\n            this.$confirm.require({\r\n                message: this.$t('common.toast.deleteMessage'),\r\n                header: this.$t('common.toast.deleteTitle'),\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => this.$emit('documentDeleteClick', this.document)\r\n            })\r\n        },\r\n        changeStateDocumentConfirm(direction: string) {\r\n            this.$confirm.require({\r\n                message: this.$t('documentBrowser.changeStateMessage'),\r\n                header: this.$t('documentBrowser.changeStateTitle'),\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => this.$emit('documentChangeStateClicked', { document: this.document, direction: direction })\r\n            })\r\n        },\r\n        executeDocument() {\r\n            this.$emit('itemSelected', { item: this.document, mode: 'execute' })\r\n        }\r\n    }\r\n})\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#document-detail-toolbar .p-toolbar-group-left {\r\n    width: 100%;\r\n}\r\n#document-icons-container {\r\n    width: 100%;\r\n}\r\n.document-pointer:hover {\r\n    cursor: pointer;\r\n}\r\n#image-preview {\r\n    max-width: 100%;\r\n    max-height: 200px;\r\n}\r\n#document-browser-sidebar {\r\n    z-index: 150;\r\n    background-color: white;\r\n    height: 100%;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"p-d-flex p-flex-row kn-flex\">\r\n        <div class=\"p-d-flex p-flex-column kn-flex\">\r\n            <div class=\"document-table-container p-d-flex p-flex-column kn-flex\">\r\n                <div v-if=\"selectedDocument\" id=\"document-detail-backdrop\" @click=\"selectedDocument = null\"></div>\r\n                <DocumentBrowserBreadcrumb v-if=\"!searchMode\" :breadcrumbs=\"breadcrumbs\" @breadcrumbClicked=\"$emit('breadcrumbClicked', $event)\"></DocumentBrowserBreadcrumb>\r\n                <DocumentBrowserTable :propDocuments=\"documents\" :searchMode=\"searchMode\" @selected=\"setSelectedDocument\" @itemSelected=\"$emit('itemSelected', $event)\"></DocumentBrowserTable>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"selectedDocument\" id=\"document-browser-sidebar-container\" data-test=\"document-browser-sidebar\">\r\n            <DocumentBrowserSidebar\r\n                :selectedDocument=\"selectedDocument\"\r\n                @documentCloneClick=\"cloneDocument\"\r\n                @documentDeleteClick=\"deleteDocument\"\r\n                @itemSelected=\"$emit('itemSelected', $event)\"\r\n                @documentChangeStateClicked=\"changeDocumentState\"\r\n                @showDocumentDetails=\"$emit('showDocumentDetails', $event)\"\r\n            ></DocumentBrowserSidebar>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport DocumentBrowserBreadcrumb from './breadcrumbs/DocumentBrowserBreadcrumb.vue'\r\nimport DocumentBrowserTable from './tables/DocumentBrowserTable.vue'\r\nimport DocumentBrowserSidebar from './sidebar/DocumentBrowserSidebar.vue'\r\nimport mainStore from '../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser-detail',\r\n    components: { DocumentBrowserBreadcrumb, DocumentBrowserTable, DocumentBrowserSidebar },\r\n    props: { propDocuments: { type: Array }, breadcrumbs: { type: Array }, searchMode: { type: Boolean } },\r\n    emits: ['breadcrumbClicked', 'loading', 'documentCloned', 'itemSelected', 'documentStateChanged', 'showDocumentDetails'],\r\n    data() {\r\n        return {\r\n            documents: [] as any[],\r\n            selectedDocument: null as any\r\n        }\r\n    },\r\n    watch: {\r\n        propDocuments() {\r\n            this.loadDocuments()\r\n            this.selectedDocument = null\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    created() {\r\n        this.loadDocuments()\r\n    },\r\n    methods: {\r\n        loadDocuments() {\r\n            this.documents = this.propDocuments as any[]\r\n        },\r\n        setSelectedDocument(document: any) {\r\n            this.selectedDocument = document\r\n        },\r\n        async cloneDocument(document: any) {\r\n            this.$emit('loading', true)\r\n            await this.$http\r\n                .post(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `documents/clone?docId=${document.id}`)\r\n                .then(() => {\r\n                    this.store.setInfo({\r\n                        title: this.$t('common.toast.createTitle'),\r\n                        msg: this.$t('common.toast.success')\r\n                    })\r\n                    this.$emit('documentCloned')\r\n                })\r\n                .catch(() => {})\r\n            this.$emit('loading', false)\r\n        },\r\n        async deleteDocument(document: any) {\r\n            this.$emit('loading', true)\r\n            await this.$http\r\n                .delete(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `1.0/documents/${document.label}`)\r\n                .then(() => {\r\n                    this.store.setInfo({\r\n                        title: this.$t('common.toast.deleteTitle'),\r\n                        msg: this.$t('common.toast.success')\r\n                    })\r\n                    this.selectedDocument = null\r\n                    this.documents = this.documents.filter((el: any) => el.id !== document.id)\r\n                })\r\n                .catch(() => {})\r\n            this.$emit('loading', false)\r\n        },\r\n        async changeDocumentState(event: any) {\r\n            this.$emit('loading', true)\r\n            await this.$http\r\n                .post(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `documents/changeStateDocument?docId=${event.document.id}&direction=${event.direction}`)\r\n                .then(() => {\r\n                    this.store.setInfo({\r\n                        title: this.$t('common.toast.deleteTitle'),\r\n                        msg: this.$t('common.toast.success')\r\n                    })\r\n                    this.$emit('documentStateChanged')\r\n                })\r\n                .catch(() => {})\r\n            this.$emit('loading', false)\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#document-browser-sidebar-container {\r\n    flex: 0.3;\r\n    z-index: 100;\r\n}\r\n\r\n.document-table-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n}\r\n\r\n#document-detail-backdrop {\r\n    background-color: rgba(33, 33, 33, 1);\r\n    opacity: 0.48;\r\n    z-index: 50;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n</style>\r\n","<template>\r\n    <Toolbar class=\"kn-toolbar kn-toolbar--primary\">\r\n        <template #start>\r\n            <i class=\"fa fa-ellipsis-v p-mr-3\" id=\"sidebar-button\" @click=\"toggleSidebarView\" />\r\n            <span>{{ searchMode ? $t('documentBrowser.documentsSearch') : $t('documentBrowser.title') }}</span>\r\n            <span v-show=\"searchMode\" class=\"p-mx-4\">\r\n                <i class=\"fa fa-arrow-left search-pointer p-mx-4\" @click=\"exitSearchMode\" />\r\n                <InputText id=\"document-search\" class=\"kn-material-input p-inputtext-sm p-mx-2\" ref=\"searchBar\" @keyup.enter=\"loadDocuments\" v-model=\"searchWord\" :placeholder=\"$t('common.search')\" autofocus />\r\n                <i class=\"fa fa-times search-pointer p-mx-4\" @click=\"searchWord = ''\" />\r\n                <i class=\"pi pi-search search-pointer p-mx-4\" @click=\"loadDocuments\" />\r\n            </span>\r\n        </template>\r\n\r\n        <template #end>\r\n            <span v-if=\"!searchMode\" class=\"p-mx-4\">\r\n                <i class=\"pi pi-search search-pointer\" @click=\"openSearchBar()\" />\r\n            </span>\r\n            <KnFabButton v-if=\"(isSuperAdmin || canAddNewDocument) && selectedFolder && selectedFolder.parentId && selectedFolder.codType !== 'USER_FUNCT'\" icon=\"fas fa-plus\" @click=\"toggle($event)\" aria-haspopup=\"true\" aria-controls=\"overlay_menu\"></KnFabButton>\r\n            <Menu ref=\"menu\" :model=\"items\" :popup=\"true\" />\r\n        </template>\r\n    </Toolbar>\r\n\r\n    <ProgressBar v-if=\"loading\" class=\"kn-progress-bar\" mode=\"indeterminate\" data-test=\"progress-bar\" />\r\n\r\n    <div id=\"document-browser-detail\" class=\"p-d-flex p-flex-row kn-flex p-m-0\">\r\n        <div v-if=\"sidebarVisible && windowWidth < 1024\" id=\"document-browser-sidebar-backdrop\" @click=\"sidebarVisible = false\"></div>\r\n\r\n        <div v-show=\"!searchMode\" class=\"document-sidebar kn-flex\" style=\"width: 350px\" :class=\"{ 'sidebar-hidden': isSidebarHidden, 'document-sidebar-absolute': sidebarVisible && windowWidth < 1024 }\">\r\n            <DocumentBrowserTree :propFolders=\"folders\" :selectedBreadcrumb=\"selectedBreadcrumb\" :selectedFolderProp=\"selectedFolder\" @folderSelected=\"setSelectedFolder\"></DocumentBrowserTree>\r\n        </div>\r\n\r\n        <div id=\"detail-container\" class=\"p-d-flex p-flex-column\">\r\n            <DocumentBrowserDetail\r\n                v-if=\"selectedFolder || searchMode\"\r\n                :propDocuments=\"searchMode ? searchedDocuments : documents\"\r\n                :breadcrumbs=\"breadcrumbs\"\r\n                :searchMode=\"searchMode\"\r\n                @breadcrumbClicked=\"setSelectedBreadcrumb($event)\"\r\n                @documentCloned=\"loadDocuments\"\r\n                @documentStateChanged=\"loadDocuments\"\r\n                @itemSelected=\"$emit('itemSelected', $event)\"\r\n                @showDocumentDetails=\"openDocumentDetails\"\r\n            ></DocumentBrowserDetail>\r\n            <DocumentBrowserHint v-else data-test=\"document-browser-hint\"></DocumentBrowserHint>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from 'vue'\r\nimport { AxiosResponse } from 'axios'\r\nimport DocumentBrowserHint from './DocumentBrowserHint.vue'\r\nimport DocumentBrowserTree from './DocumentBrowserTree.vue'\r\nimport DocumentBrowserDetail from './DocumentBrowserDetail.vue'\r\nimport KnFabButton from '@/components/UI/KnFabButton.vue'\r\nimport Menu from 'primevue/menu'\r\nimport mainStore from '../../../App.store'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser-home',\r\n    components: { DocumentBrowserHint, DocumentBrowserTree, DocumentBrowserDetail, KnFabButton, Menu },\r\n    props: { documentSaved: { type: Object as PropType<any> }, documentSavedTrigger: { type: Boolean } },\r\n    emits: ['itemSelected'],\r\n    data() {\r\n        return {\r\n            folders: [] as any[],\r\n            selectedFolder: null as any,\r\n            documents: [] as any[],\r\n            searchedDocuments: [] as any[],\r\n            breadcrumbs: [] as any[],\r\n            selectedBreadcrumb: null as any,\r\n            searchWord: null as any,\r\n            searchMode: false,\r\n            items: [] as any[],\r\n            user: null as any,\r\n            sidebarVisible: false,\r\n            windowWidth: window.innerWidth,\r\n            loading: false,\r\n            showDocumentDetails: false,\r\n            selectedDocument: null as any,\r\n            documentId: null as any\r\n        }\r\n    },\r\n    computed: {\r\n        isSuperAdmin(): boolean {\r\n            return this.user?.isSuperadmin\r\n        },\r\n        canAddNewDocument(): boolean {\r\n            return this.user?.functionalities?.includes('DocumentManagement')\r\n        },\r\n        hasCreateCockpitFunctionality(): boolean {\r\n            return this.user.functionalities?.includes('CreateCockpitFunctionality')\r\n        },\r\n        isSidebarHidden(): boolean {\r\n            if (this.sidebarVisible) {\r\n                return false\r\n            } else {\r\n                return this.windowWidth < 1024\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        documentSavedTrigger() {\r\n            if (!this.documentSaved) return\r\n\r\n            if (this.documentSaved.folderId) this.selectedFolder.id = this.documentSaved.folderId\r\n            this.loadDocumentsWithBreadcrumbs()\r\n        }\r\n    },\r\n    setup() {\r\n        const store = mainStore()\r\n        return { store }\r\n    },\r\n    async created() {\r\n        window.addEventListener('resize', this.onResize)\r\n\r\n        await this.loadFolders()\r\n        this.user = (this.store.$state as any).user\r\n\r\n        if (this.$route.name === 'document-browser-functionality') {\r\n            this.setFolderFromRoute()\r\n        }\r\n\r\n        this.setRouterWatcher()\r\n    },\r\n    beforeUnmount() {\r\n        window.removeEventListener('resize', this.onResize)\r\n    },\r\n    methods: {\r\n        setRouterWatcher() {\r\n            this.$watch(\r\n                () => this.$route.params.pathMatch,\r\n                (toParams) => {\r\n                    if (this.$route.name === 'document-browser-functionality' && toParams.length > 0) this.setFolderFromRoute()\r\n                }\r\n            )\r\n        },\r\n        onResize() {\r\n            this.windowWidth = window.innerWidth\r\n        },\r\n        async setFolderFromRoute() {\r\n            if (this.$route.params.pathMatch.length > 0) {\r\n                this.selectedFolder = this.findSelectedFolder()\r\n                if (!this.selectedFolder) return\r\n                localStorage.setItem('documentSelectedFolderId', JSON.stringify(this.selectedFolder.id))\r\n                await this.loadDocumentsWithBreadcrumbs()\r\n            }\r\n        },\r\n        findSelectedFolder() {\r\n            const id = this.$route.params.pathMatch[this.$route.params.pathMatch.length - 1]\r\n            const index = this.folders.findIndex((folder: any) => folder.id == id)\r\n            return index !== -1 ? this.folders[index] : null\r\n        },\r\n        async loadFolders() {\r\n            this.loading = true\r\n            await this.$http.get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `2.0/folders/`).then((response: AxiosResponse<any>) => {\r\n                this.folders = response.data\r\n                this.folders?.sort((a: any, b: any) => {\r\n                    return a.id - b.id\r\n                })\r\n            })\r\n\r\n            this.loading = false\r\n        },\r\n        async loadDocuments() {\r\n            this.loading = true\r\n            const url = this.searchMode ? `2.0/documents?searchAttributes=all&searchKey=${this.searchWord}` : `2.0/documents?folderId=${this.selectedFolder?.id}`\r\n            await this.$http.get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + url).then((response: AxiosResponse<any>) => {\r\n                this.searchMode ? (this.searchedDocuments = response.data) : (this.documents = response.data)\r\n            })\r\n            this.loading = false\r\n        },\r\n        async setSelectedFolder(folder: any) {\r\n            if (this.selectedFolder?.id === folder.id) {\r\n                return\r\n            }\r\n            this.selectedFolder = folder\r\n            this.changeFolderRotue()\r\n            await this.loadDocumentsWithBreadcrumbs()\r\n        },\r\n        changeFolderRotue() {\r\n            const tempPath = this.selectedFolder.path?.substring(1)?.split('/')\r\n            if (!tempPath) return\r\n            let temp = ''\r\n            for (let i = 0; i < tempPath.length; i++) {\r\n                const index = this.folders.findIndex((folder: any) => folder.code == tempPath[i])\r\n                if (index !== -1) {\r\n                    temp += `/${this.folders[index].id}`\r\n                }\r\n            }\r\n            history.pushState({}, '', import.meta.env.VITE_PUBLIC_PATH + 'document-browser' + temp)\r\n        },\r\n        async loadDocumentsWithBreadcrumbs() {\r\n            if (this.selectedFolder && this.selectedFolder.id !== -1) {\r\n                await this.loadDocuments()\r\n                this.createBreadcrumbs()\r\n            } else {\r\n                this.documents = []\r\n            }\r\n        },\r\n        createBreadcrumbs() {\r\n            if (!this.selectedFolder) return\r\n            let currentFolder = { key: this.selectedFolder.name, label: this.selectedFolder.name, data: this.selectedFolder } as any\r\n            this.breadcrumbs = [] as any[]\r\n            do {\r\n                this.breadcrumbs.unshift({ label: currentFolder.data.name, node: currentFolder })\r\n                currentFolder = currentFolder.data.parentFolder\r\n            } while (currentFolder)\r\n        },\r\n        async setSelectedBreadcrumb(breadcrumb: any) {\r\n            this.selectedBreadcrumb = breadcrumb\r\n\r\n            if (this.selectedFolder?.id === breadcrumb.node.data.id) {\r\n                return\r\n            }\r\n            this.selectedFolder = breadcrumb.node.data\r\n            await this.loadDocuments()\r\n        },\r\n        exitSearchMode() {\r\n            this.searchMode = false\r\n        },\r\n        toggle(event: any) {\r\n            this.createMenuItems()\r\n            const menu = this.$refs.menu as any\r\n            menu.toggle(event)\r\n        },\r\n        createMenuItems() {\r\n            this.items = []\r\n            this.items.push({ label: this.$t('documentBrowser.genericDocument'), command: () => this.createNewDocument() })\r\n            if (this.hasCreateCockpitFunctionality) {\r\n                this.items.push({ label: this.$t('common.cockpit'), command: () => this.createNewCockpit() })\r\n                this.items.push({ label: this.$t('dashboard.dashboardBeta'), command: () => this.createNewDashboard() })\r\n            }\r\n        },\r\n        createNewDocument() {\r\n            this.documentId = null\r\n            this.$emit('itemSelected', { item: null, mode: 'documentDetail', functionalityId: this.selectedFolder.id })\r\n        },\r\n        async openDocumentDetails(event) {\r\n            this.documentId = event.id\r\n            this.$emit('itemSelected', { item: event, mode: 'documentDetail', functionalityId: null })\r\n        },\r\n        createNewCockpit() {\r\n            this.$emit('itemSelected', { item: null, mode: 'createCockpit', functionalityId: this.selectedFolder.id })\r\n        },\r\n        createNewDashboard() {\r\n            this.$emit('itemSelected', { item: null, mode: 'createDashboard', functionalityId: this.selectedFolder.id })\r\n        },\r\n        toggleSidebarView() {\r\n            this.sidebarVisible = !this.sidebarVisible\r\n        },\r\n        openSearchBar() {\r\n            this.searchMode = true\r\n            setTimeout(() => {\r\n                // @ts-ignore\r\n                this.$refs.searchBar.$el.focus()\r\n            }, 0)\r\n        },\r\n        onCloseDetails() {\r\n            this.showDocumentDetails = false\r\n            this.loadDocuments()\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#sidebar-button {\r\n    display: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.document-sidebar {\r\n    border-right: 1px solid #c2c2c2;\r\n}\r\n\r\n.document-sidebar-absolute {\r\n    position: absolute;\r\n    z-index: 100;\r\n    width: 400px;\r\n    height: 100%;\r\n    background-color: white;\r\n}\r\n\r\n#document-browser-detail {\r\n    position: relative;\r\n}\r\n\r\n#document-browser-sidebar-backdrop {\r\n    background-color: rgba(33, 33, 33, 1);\r\n    opacity: 0.48;\r\n    z-index: 50;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.sidebar-hidden {\r\n    display: none;\r\n}\r\n\r\n@media screen and (max-width: 1024px) {\r\n    #sidebar-button {\r\n        display: inline;\r\n    }\r\n}\r\n\r\n#document-browser-home-toolbar {\r\n    width: 100%;\r\n}\r\n\r\n.search-pointer:hover {\r\n    cursor: pointer;\r\n}\r\n\r\n#document-search {\r\n    min-width: 500px;\r\n    background-color: var(--kn-color-primary);\r\n    color: white;\r\n    border-bottom-color: white;\r\n}\r\n\r\n#document-search::placeholder {\r\n    color: white;\r\n}\r\n\r\n.full-width {\r\n    width: 100%;\r\n}\r\n\r\n#detail-container {\r\n    overflow: auto;\r\n    max-height: calc(100vh - 71px);\r\n    flex: 3;\r\n}\r\n</style>\r\n","<template>\r\n    <router-view\r\n        v-show=\"item\"\r\n        v-slot=\"{ Component }\"\r\n        :functionalityId=\"functionalityId\"\r\n        :item=\"loadedItem\"\r\n        :parameterValuesMap=\"parameterValuesMap\"\r\n        :tabKey=\"key\"\r\n        @close=\"$emit('close', item)\"\r\n        @parametersChanged=\"onParametersChange\"\r\n        @iframeCreated=\"onIframeCreated\"\r\n        @closeIframe=\"$emit('closeIframe')\"\r\n        @closeDetails=\"$emit('close', item)\"\r\n        @documentSaved=\"$emit('documentSaved', $event)\"\r\n    >\r\n        <keep-alive>\r\n            <component :is=\"Component\" :key=\"key\" :functionalityId=\"functionalityId\" :item=\"loadedItem\" :parameterValuesMap=\"parameterValuesMap\" :tabKey=\"key\"></component>\r\n        </keep-alive>\r\n    </router-view>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser-tab',\r\n    components: {},\r\n    emits: ['close', 'iframeCreated', 'closeIframe', 'documentSaved'],\r\n    props: { item: { type: Object }, functionalityId: { type: String } },\r\n    data() {\r\n        return {\r\n            parameterValuesMap: {} as any,\r\n            loadedItem: null as any\r\n        }\r\n    },\r\n    computed: {\r\n        key(): string {\r\n            return this.item?.routerId\r\n        }\r\n    },\r\n    watch: {\r\n        item() {\r\n            this.loadItem()\r\n        }\r\n    },\r\n    created() {\r\n        this.loadItem()\r\n    },\r\n    methods: {\r\n        onIframeCreated(payload: any) {\r\n            this.$emit('iframeCreated', payload)\r\n        },\r\n        onParametersChange(payload: any) {\r\n            this.parameterValuesMap[payload.document.label + '-' + this.key] = payload.parameters\r\n        },\r\n        loadItem() {\r\n            this.loadedItem = this.item\r\n        }\r\n    }\r\n})\r\n</script>\r\n","<template>\r\n    <div class=\"kn-page\">\r\n        <div class=\"document-browser-tab-container kn-flex\">\r\n            <TabView id=\"document-browser-tab-view\" class=\"p-d-flex p-flex-column kn-flex kn-tab\" v-model:activeIndex=\"activeIndex\" @tab-change=\"onTabChange\">\r\n                <TabPanel>\r\n                    <template #header>\r\n                        <i class=\"fa fa-folder-open\"></i>\r\n                    </template>\r\n\r\n                    <DocumentBrowserHome :documentSaved=\"documentSaved\" :documentSavedTrigger=\"documentSavedTrigger\" @itemSelected=\"onItemSelect($event)\"></DocumentBrowserHome>\r\n                </TabPanel>\r\n\r\n                <TabPanel v-for=\"(tab, index) in tabs\" :key=\"index\">\r\n                    <template #header>\r\n                        <span>{{ getTabName(tab) }}</span>\r\n                    </template>\r\n                </TabPanel>\r\n            </TabView>\r\n\r\n            <DocumentBrowserTab v-show=\"selectedItem && selectedItem.mode\" :item=\"selectedItem?.item\" :functionalityId=\"selectedItem?.functionalityId\" @close=\"closeDocument('current')\" @iframeCreated=\"onIFrameCreated\" @closeIframe=\"closeIframe\" @documentSaved=\"onDocumentSaved\"></DocumentBrowserTab>\r\n            <div v-for=\"(iframe, index) in iFrameContainers\" :key=\"index\">\r\n                <iframe v-show=\"iframe.item?.routerId === selectedItem?.item.routerId\" ref=\"iframe\" class=\"document-browser-cockpit-iframe\" :src=\"iframe.iframe\"></iframe>\r\n            </div>\r\n            <div id=\"document-browser-tab-icon-container\" v-if=\"activeIndex !== 0\">\r\n                <i id=\"document-browser-tab-icon\" class=\"fa fa-times-circle\" @click=\"toggle($event)\"></i>\r\n                <Menu ref=\"menu\" :model=\"menuItems\" :popup=\"true\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport { AxiosResponse } from 'axios'\r\nimport { getRouteDocumentType } from './documentBrowserHelper'\r\nimport DocumentBrowserHome from './documentBrowserHome/DocumentBrowserHome.vue'\r\nimport DocumentBrowserTab from './DocumentBrowserTab.vue'\r\nimport Menu from 'primevue/menu'\r\nimport TabView from 'primevue/tabview'\r\nimport TabPanel from 'primevue/tabpanel'\r\n\r\nimport cryptoRandomString from 'crypto-random-string'\r\n\r\nexport default defineComponent({\r\n    name: 'document-browser',\r\n    components: { DocumentBrowserHome, DocumentBrowserTab, Menu, TabView, TabPanel },\r\n    props: { selectedMenuItem: { type: Object }, menuItemClickedTrigger: { type: Boolean } },\r\n    data() {\r\n        return {\r\n            tabs: [] as any[],\r\n            activeIndex: 0,\r\n            menuItems: [] as any[],\r\n            selectedItem: null as any,\r\n            id: 0,\r\n            iFrameContainers: [] as any[],\r\n            menuItem: null,\r\n            documentSaved: null,\r\n            documentSavedTrigger: false,\r\n            getRouteDocumentType\r\n        }\r\n    },\r\n    watch: {\r\n        menuItemClickedTrigger() {\r\n            if (!this.selectedMenuItem) return\r\n            if (this.selectedMenuItem.to === '/document-browser') {\r\n                this.selectedItem = null\r\n                this.activeIndex = 0\r\n            } else if (this.selectedMenuItem.to && this.selectedMenuItem.to.includes('document-browser')) {\r\n                this.loadPage()\r\n            }\r\n        }\r\n    },\r\n    async created() {\r\n        this.loadPage()\r\n    },\r\n    methods: {\r\n        async loadPage() {\r\n            window.addEventListener('message', (event) => {\r\n                if (event.data.type === 'saveCockpit' && this.$router.currentRoute.value.name === 'new-dashboard') {\r\n                    this.loadSavedCockpit(event.data.model)\r\n                    this.documentSaved = event.data.model\r\n                    this.documentSavedTrigger = !this.documentSavedTrigger\r\n                }\r\n            })\r\n\r\n            let id = this.$router.currentRoute.value.params.id ?? this.parseSelectedMenuItem()\r\n\r\n            if (id && id !== 'document-browser' && (this.$router.currentRoute.value.name === 'document-browser-document-execution' || this.$router.currentRoute.value.name === 'document-browser-document-details-edit' || this.$router.currentRoute.value.name === 'document-browser')) {\r\n                let tempDocument = {} as any\r\n                if (id !== 'new-dashboard') await this.$http.get(import.meta.env.VITE_RESTFUL_SERVICES_PATH + `2.0/documents/${id}`).then((response: AxiosResponse<any>) => (tempDocument = response.data))\r\n                const tempItem = {\r\n                    item: {\r\n                        name: tempDocument.name,\r\n                        label: id,\r\n                        mode: this.$router.currentRoute.value.params.mode,\r\n                        routerId: cryptoRandomString({ length: 16, type: 'base64' }),\r\n                        id: id,\r\n                        showMode: this.$router.currentRoute.value.name === 'document-browser-document-execution' ? 'execute' : 'documentDetail'\r\n                    },\r\n                    mode: this.$router.currentRoute.value.name === 'document-browser-document-execution' && this.$router.currentRoute.value.params.id ? 'execute' : 'documentDetail'\r\n                }\r\n                this.tabs.push(tempItem)\r\n\r\n                this.activeIndex = 1\r\n                this.selectedItem = tempItem\r\n            }\r\n        },\r\n        parseSelectedMenuItem() {\r\n            if (!this.selectedMenuItem) return null\r\n\r\n            return this.selectedMenuItem.to?.substring(this.selectedMenuItem.to.lastIndexOf('/') + 1)\r\n        },\r\n        onTabChange() {\r\n            if (this.activeIndex === 0) {\r\n                this.selectedItem = null\r\n                this.$router.push('/document-browser')\r\n                return\r\n            }\r\n\r\n            const id = this.tabs[this.activeIndex - 1].item ? this.tabs[this.activeIndex - 1].item.label : 'new-dashboard'\r\n\r\n            this.selectedItem = this.tabs[this.activeIndex - 1]\r\n            this.selectedItem.item.fromTab = true\r\n\r\n            if (this.selectedItem.mode === 'documentDetail') {\r\n                const path = this.selectedItem.functionalityId ? `/document-browser/document-details/new/${this.selectedItem.functionalityId}` : `/document-browser/document-details/${this.selectedItem.item.id}`\r\n                this.$router.push(path)\r\n            } else {\r\n                let routeDocumentType = this.tabs[this.activeIndex - 1].item.mode ? this.tabs[this.activeIndex - 1].item.mode : this.getRouteDocumentType(this.tabs[this.activeIndex - 1].item)\r\n                routeDocumentType ? this.$router.push(`/document-browser/${routeDocumentType}/` + id) : this.$router.push('/document-browser/new-dashboard')\r\n            }\r\n        },\r\n        onItemSelect(payload: any) {\r\n            if (payload.item) {\r\n                payload.item.routerId = cryptoRandomString({ length: 16, type: 'base64' })\r\n            }\r\n\r\n            const tempItem = { ...payload, item: { ...payload.item } }\r\n            if (payload.mode === 'documentDetail') tempItem.mode = 'documentDetail'\r\n\r\n            this.tabs.push(tempItem)\r\n\r\n            this.selectedItem = tempItem\r\n\r\n            if (payload.mode === 'documentDetail') {\r\n                const path = payload.functionalityId ? `/document-browser/document-details/new/${payload.functionalityId}` : `/document-browser/document-details/${payload.item.id}`\r\n                this.selectedItem.item.showMode = 'documentDetail'\r\n                this.$router.push(path)\r\n            } else {\r\n                const id = payload.item ? payload.item.label : 'new-dashboard'\r\n                if (payload.item) {\r\n                    let routeDocumentType = this.getRouteDocumentType(payload.item)\r\n                    this.selectedItem.item.showMode = 'execute'\r\n                    this.$router.push(`/document-browser/${routeDocumentType}/` + id)\r\n                } else {\r\n                    this.selectedItem.item = { routerId: cryptoRandomString({ length: 16, type: 'base64' }) }\r\n                    this.selectedItem.item.showMode = payload.mode\r\n                    const link = payload.mode === 'createCockpit' ? '/document-browser/new-cockpit' : `/document-browser/new-dashboard?folderId=${payload.functionalityId}`\r\n                    this.$router.push(link)\r\n                }\r\n            }\r\n\r\n            this.activeIndex = this.tabs.length\r\n        },\r\n        toggle(event: any) {\r\n            this.createMenuItems()\r\n            const menu = this.$refs.menu as any\r\n            menu.toggle(event)\r\n        },\r\n        createMenuItems() {\r\n            this.menuItems = []\r\n            this.menuItems.push({ label: this.$t('documentBrowser.closeCurrentDocument'), command: () => this.closeDocumentConfirm('current') })\r\n            this.menuItems.push({ label: this.$t('documentBrowser.closeOtherDocuments'), command: () => this.closeDocumentConfirm('other') })\r\n            this.menuItems.push({ label: this.$t('documentBrowser.closeDocumentRight'), command: () => this.closeDocumentConfirm('right') })\r\n            this.menuItems.push({ label: this.$t('documentBrowser.closeAllDocuments'), command: () => this.closeDocumentConfirm('all') })\r\n        },\r\n        closeDocumentConfirm(mode: string) {\r\n            this.$confirm.require({\r\n                message: this.$t('documentBrowser.closeDocumentConfirmMessage'),\r\n                header: this.$t('documentBrowser.closeDocumentConfirmTitle', { numberOfDocuments: this.getNumberOfDocuments(mode) }),\r\n                accept: () => this.closeDocument(mode)\r\n            })\r\n        },\r\n        getNumberOfDocuments(mode: string) {\r\n            switch (mode) {\r\n                case 'current':\r\n                    return 1\r\n                case 'other':\r\n                    return this.tabs.length - 1\r\n                case 'right':\r\n                    return this.tabs.length - this.activeIndex\r\n                case 'all':\r\n                    return this.tabs.length\r\n            }\r\n        },\r\n        closeDocument(mode: string) {\r\n            let index = -1\r\n            switch (mode) {\r\n                case 'current':\r\n                    this.tabs.splice(this.activeIndex - 1, 1)\r\n                    this.activeIndex = 0\r\n                    index = this.iFrameContainers.findIndex((iframe: any) => iframe.item?.routerId === this.selectedItem?.item.routerId)\r\n                    if (index !== -1) this.iFrameContainers.splice(index, 1)\r\n                    this.$router.push('/document-browser')\r\n                    break\r\n                case 'other':\r\n                    this.tabs = [this.tabs[this.activeIndex - 1]]\r\n                    this.activeIndex = 1\r\n                    this.iFrameContainers = this.iFrameContainers.filter((iframe: any) => iframe.item?.routerId === this.selectedItem?.item.routerId)\r\n                    break\r\n                case 'right':\r\n                    this.tabs.splice(this.activeIndex)\r\n                    index = this.iFrameContainers.findIndex((iframe: any) => iframe.item?.routerId === this.selectedItem?.item.routerId)\r\n                    if (index !== -1) this.iFrameContainers.splice(index + 1)\r\n                    break\r\n                case 'all':\r\n                    this.$router.push('/document-browser')\r\n                    this.tabs = []\r\n                    this.activeIndex = 0\r\n                    this.iFrameContainers = []\r\n            }\r\n        },\r\n        onIFrameCreated(payload: any) {\r\n            const index = this.iFrameContainers.findIndex((iframe: any) => iframe.item?.routerId === this.selectedItem?.item.routerId)\r\n            if (index === -1) this.iFrameContainers.push(payload)\r\n        },\r\n        closeIframe() {\r\n            const index = this.iFrameContainers.findIndex((iframe: any) => iframe.item?.routerId === this.selectedItem?.item.routerId)\r\n            if (index !== -1) this.iFrameContainers.splice(index, 1)\r\n        },\r\n        loadSavedCockpit(cockpit: any) {\r\n            this.closeIframe()\r\n            this.selectedItem = { item: { ...cockpit, routerId: cryptoRandomString({ length: 16, type: 'base64' }), name: cockpit.DOCUMENT_NAME, label: cockpit.DOCUMENT_LABEL, showMode: 'execute' }, mode: 'execute' }\r\n            this.tabs[this.activeIndex - 1] = this.selectedItem\r\n            this.$router.push(`/document-browser/document-composite/${cockpit.DOCUMENT_LABEL}`)\r\n        },\r\n        getTabName(tab: any) {\r\n            if (tab.item && tab.item.name) {\r\n                return tab.item.name\r\n            } else {\r\n                return tab.mode === 'documentDetail' ? 'new document' : 'new dashboard'\r\n            }\r\n        },\r\n        onDocumentSaved(document: any) {\r\n            this.documentSaved = document\r\n            this.documentSavedTrigger = !this.documentSavedTrigger\r\n            this.selectedItem.functionalityId = null\r\n            this.selectedItem.item = { name: document.name, label: document.id, routerId: cryptoRandomString({ length: 16, type: 'base64' }), id: document.id, showMode: 'documentDetail' }\r\n            this.$router.push(`/document-browser/document-details/${document.id}`)\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#document-browser-tab-view .p-tabview-panels {\r\n    padding: 0;\r\n}\r\n\r\n#document-browser-tab-icon-container {\r\n    position: absolute;\r\n    top: 0.8rem;\r\n    right: 2rem;\r\n}\r\n\r\n#document-browser-tab-icon {\r\n    font-size: 1.2rem;\r\n    color: rgba(0, 0, 0, 0.6);\r\n    cursor: pointer;\r\n}\r\n\r\n.document-browser-tab-container {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.document-browser-tab-container .p-tabview .p-tabview-panel,\r\n.document-browser-tab-container .p-tabview .p-tabview-panels {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex: 1;\r\n}\r\n\r\n.document-browser-cockpit-iframe {\r\n    position: absolute;\r\n    top: 39px;\r\n    width: 100%;\r\n    height: calc(100% - 39px);\r\n    border: none;\r\n}\r\n</style>\r\n"],"names":["_sfc_main","_openBlock","_createBlock","Tree","Breadcrumb","_withCtx","_createElementVNode","_toDisplayString","_hoisted_1","Column","DataTable","Message","mainStore","_hoisted_3","_hoisted_5","_hoisted_7","_hoisted_8","_createElementBlock","_Fragment","_normalizeStyle","_createCommentVNode","_hoisted_2","_hoisted_4","_createVNode","_renderList","_withDirectives","_hoisted_6","_createTextVNode","_hoisted_9","_withModifiers","Menu","_withKeys","_normalizeClass","_KeepAlive","_resolveDynamicComponent","_vShow","TabView","TabPanel"],"mappings":"2eAAO,YAA8B,EAAW,CAC5C,GAAI,GAAoB,GAExB,OAAQ,EAAK,cACJ,WACmB,EAAA,WACpB,UACC,gBACA,qBACmB,EAAA,qBACpB,UACC,aACmB,EAAA,aACpB,UACC,OACmB,EAAA,OACpB,UACC,MACmB,EAAA,MACpB,UACC,SACmB,EAAA,SACpB,UACC,MACmB,EAAA,MACpB,UACC,UACmB,EAAA,UACpB,UACC,MACmB,EAAA,MACpB,MAGD,MAAA,EACX,CC3BA,KAAKA,IAAa,EAAa,CAC3B,KAAM,wBACN,WAAY,CAAE,QAAO,CACzB,CAAC,+CAViB,MAAAC,GAAA,EAAyBC,EAAA,EAAA,CAAG,MAAM,wBAAA,KAAA,8ECsBpD,KAAKF,IAAa,EAAa,CAC3B,KAAM,wBACN,WAAY,CAAEG,KAAAA,EAAK,EACnB,MAAO,CAAE,YAAa,CAAE,KAAM,KAAS,EAAA,mBAAoB,CAAE,KAAM,QAAU,mBAAoB,CAAE,KAAM,OAAS,EAClH,MAAO,CAAC,gBAAgB,EACxB,MAAO,CACI,MAAA,CACH,QAAS,CAAC,EACV,MAAO,CAAC,EACR,kBAAmB,CAAC,EACpB,aAAc,CAAC,EACf,eAAgB,IAAA,CAExB,EACA,MAAO,CACH,aAAc,CACV,KAAK,YAAY,EACjB,KAAK,eAAe,CACxB,EACA,oBAAqB,CACjB,KAAK,qBAAqB,CAC9B,EACA,oBAAqB,SAEjB,GADA,KAAK,eAAiB,KAAK,mBACvB,CAAC,KAAK,eAAgB,OAC1B,KAAK,kBAAoB,GACpB,KAAA,kBAAkB,KAAK,eAAe,KAAO,GAClD,GAAI,GAAO,KACX,OAAS,GAAI,EAAG,EAAI,KAAK,MAAM,OAAQ,IAEnC,GADO,EAAA,KAAK,SAAS,KAAK,MAAM,GAAI,KAAK,eAAe,GAAI,IAAI,EAC5D,EAAM,CACD,KAAA,kBAAkB,EAAK,KAAO,GAC9B,KAAA,aAAa,EAAK,KAAO,GACxB,KAAA,GAAW,WAAK,eAAe,OAApB,cAA0B,UAAU,KAApC,cAAwC,MAAM,KACrD,WAAA,QAAQ,AAAC,GAAe,CAC9B,KAAM,GAAmB,KAAK,SAAS,KAAK,MAAM,GAAI,EAAI,MAAM,EAC5D,AAAA,GAAuB,MAAA,aAAa,EAAiB,KAAO,GAAA,GAEpE,KACJ,CAER,CACJ,EACA,SAAU,CACN,KAAK,YAAY,EACjB,KAAK,eAAe,CACxB,EACA,QAAS,CACL,aAAc,CACV,KAAK,QAAU,KAAK,YACpB,KAAK,mCAAmC,CAC5C,EACA,gBAAiB,CACb,KAAM,GAAiB,CACnB,IAAK,mBACL,KAAM,eACN,GAAI,GACJ,SAAU,KACV,MAAO,mBACP,SAAU,CAAC,EACX,KAAM,CACF,GAAI,GACJ,QAAS,YACT,KAAM,mBACN,YAAa,CAAC,EACd,YAAa,mBACb,KAAM,mBACN,SAAU,KACV,WAAY,CAAC,EACb,KAAM,mBACV,CAAA,EAEC,KAAA,MAAQ,CAAC,CAAc,EAC5B,KAAM,GAA2B,CAAA,EAC5B,KAAA,QAAQ,QAAQ,AAAC,GAAgB,CAC5B,KAAA,GAAO,CAAE,IAAK,EAAO,KAAM,KAAM,eAAgB,GAAI,EAAO,GAAI,SAAU,EAAO,SAAU,MAAO,EAAO,KAAM,SAAU,CAAC,EAAc,KAAM,GACpJ,EAAK,SAAW,EAAyB,OAAO,AAAC,GAAkB,EAAK,KAAO,EAAO,UAAY,EAAO,KAAK,UAAY,WAAW,EAChI,KAAA,mBAAmB,EAAM,EAA0B,CAAc,CAAA,CACzE,CACL,EACA,mBAAmB,EAAe,EAAmC,EAAuB,WACxF,GAAI,EAAO,UAAY,EAAO,WAAa,GAAI,CAC3C,GAAI,GAAe,KACnB,OAAS,GAAI,EAAG,EAAI,EAAyB,OAAQ,IAC7C,GAAA,EAAO,WAAa,EAAyB,GAAG,IAAM,EAAyB,GAAG,KAAK,UAAY,aAAc,CAC1G,EAAA,KAAK,aAAe,EAAyB,GAC3B,KAAA,GAAG,WAAH,QAAa,KAAK,GAC3C,KACJ,CAEJ,OAAS,GAAI,EAAG,EAAI,KAAK,MAAM,OAAQ,IAGnC,GAFA,EAAe,KAAK,iBAAiB,EAAQ,KAAK,MAAM,EAAE,EAEtD,GAAgB,EAAa,KAAK,UAAY,aAAc,CAC5D,EAAO,KAAK,aAAe,EACd,KAAA,WAAA,QAAU,KAAK,GAC5B,KACJ,CAEJ,AAAI,CAAC,GAAgB,EAAO,KAAK,UAAY,cACzC,EAAyB,KAAK,CAAM,CAEjC,KAAA,AAAA,GAAO,KAAK,UAAY,aAC/B,GAAO,KAAK,aAAe,EACpB,EAAA,KAAK,SAAW,EAAe,GACvB,KAAA,WAAA,QAAU,KAAK,IAEzB,KAAA,MAAM,KAAK,CAAM,CAE9B,EACA,iBAAiB,EAAoB,EAAuB,CACpD,GAAA,EAAY,KAAK,UAAY,aACtB,MAAA,MAEP,GAAA,EAAY,WAAa,EAAe,GACjC,MAAA,GACJ,CACH,GAAI,GAAa,KACjB,GAAI,EAAe,SACf,OAAS,GAAI,EAAG,EAAI,EAAe,SAAS,QACxC,GAAa,KAAK,iBAAiB,EAAa,EAAe,SAAS,EAAE,EACtE,IAF4C,IAEhD,CAKD,MAAA,EACX,CACJ,EACA,kBAAkB,EAAa,CAC3B,KAAK,eAAiB,EAAK,KAC3B,aAAa,QAAQ,2BAA4B,KAAK,UAAU,KAAK,eAAe,EAAE,CAAC,EAClF,KAAA,MAAM,iBAAkB,KAAK,cAAc,CACpD,EACA,kBAAkB,EAAa,CAC3B,EAAK,KAAO,mBAChB,EACA,oBAAoB,EAAa,CAC7B,EAAK,KAAO,cAChB,EACA,sBAAuB,OACd,KAAA,eAAiB,QAAK,qBAAL,cAAyB,KAC/C,KAAK,kBAAoB,GACpB,KAAA,kBAAkB,KAAK,eAAe,KAAO,EACtD,EACA,oCAAqC,CAC3B,KAAA,GAAW,aAAa,QAAQ,0BAA0B,EAChE,GAAI,EAAU,CACJ,KAAA,GAAQ,KAAK,QAAQ,UAAU,AAAC,GAAY,EAAG,KAAO,KAAK,MAAM,CAAQ,CAAC,EAChF,AAAI,IAAU,IACL,MAAA,eAAiB,KAAK,QAAQ,GACnC,KAAK,kBAAkB,KAAK,QAAQ,GAAO,MAAQ,GACnD,KAAK,aAAa,KAAK,QAAQ,GAAO,MAAQ,GACzC,KAAA,MAAM,iBAAkB,KAAK,cAAc,EAExD,CACJ,EACA,SAAS,EAAa,EAAwB,EAAkB,CACxD,GAAA,EAAK,KAAK,KAAc,EACjB,MAAA,GACX,GAAW,EAAK,UAAY,KAAM,CAC9B,GAAI,GAAS,KACJ,OAAA,GAAI,EAAG,GAAU,MAAQ,EAAI,EAAK,SAAS,OAAQ,IACxD,EAAS,KAAK,SAAS,EAAK,SAAS,GAAI,EAAO,CAAQ,EAErD,MAAA,EACX,CACO,MAAA,KACX,CACJ,CACJ,CAAC,mDA/LUF,GAAc,EAAAC,EAAA,EAAA,CACjB,GAAA,eACA,MAAA,uCACA,aAAA,sBACC,YAAO,GACR,MAAA,EAAA,MACQ,cAAe,SAAA,cAAA,EAAA,kBACtB,yBAAY,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,kBAAA,GACb,OAAA,GACC,WAAY,UACZ,aAAa,EAAA,aACb,aAAW,EAAA,kBACX,aAAa,iBAAE,kBAAoB,CAAA,GAAA,eAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,oBAAA,CAAA,iICF5C,KAAKF,IAAa,EAAa,CAC3B,KAAM,8BACN,WAAY,CAAEI,WAAAA,EAAW,EACzB,MAAO,CAAE,YAAa,CAAE,KAAM,MAAQ,EACtC,MAAO,CAAC,mBAAmB,EAC3B,MAAO,CACI,MAAA,CACH,KAAM,CAAE,KAAM,YAAa,EAC3B,MAAO,CAAC,CAAA,CAEhB,EACA,MAAO,CACH,aAAc,CACV,KAAK,gBAAgB,CACzB,CACJ,EACA,SAAU,CACN,KAAK,gBAAgB,CACzB,EACA,QAAS,CACL,iBAAkB,CACd,KAAK,MAAQ,KAAK,WACtB,EACA,iBAAiB,EAAY,CACnB,KAAA,GAAQ,KAAK,MAAM,UAAU,AAAC,GAAY,EAAG,QAAU,EAAM,OAAO,WAAW,EAErF,AAAI,IAAU,IACV,MAAK,MAAM,oBAAqB,KAAK,MAAM,EAAM,EAC5C,KAAA,MAAM,OAAO,EAAQ,CAAC,EAEnC,CACJ,CACJ,CAAC,0EA3CsBH,GAAI,EAAAC,EAAA,EAAA,CAAG,KAAK,EAAE,KAAO,MAAM,EAAA,MAAA,MAAA,6BAC/B,EAAA,CAAA,KACPG,EAAwH,CAAA,CAAA,UAAA,CAAAC,EAA5G,OAAkB,CAAE,MAAK,mBAAqB,QAAA,EAAS,IAAkB,GAAA,GAAK,IAAK,IAAA,EAAA,kBAAA,EAAA,iBAAA,GAAA,CAAA,GAAe,YAAA,cAAA,EAAA,KAAA,EAAAC,EAAA,EAAA,KAAA,EAAA,EAAAC,EAAA,8wBCoF1H,KAAKR,IAAa,EAAa,CAC3B,KAAM,yBACN,WAAY,CAAES,OAAAA,YAAQC,EAAA,QAAWC,CAAQ,EACzC,MAAO,CAAE,cAAe,CAAE,KAAM,KAAM,EAAG,WAAY,CAAE,KAAM,QAAU,EACvE,MAAO,CAAC,eAAgB,UAAU,EAClC,MAAO,CACI,MAAA,CACH,iCACA,UAAW,CAAC,EACZ,QAAS,CACL,OAAQ,CAAC,CAAa,EACtB,SAAU,CACN,SAAU,EAAe,IACzB,YAAa,CAAC,CAAa,CAC/B,EACA,KAAM,CACF,SAAU,EAAe,IACzB,YAAa,CAAC,CAAa,CAC/B,EACA,MAAO,CACH,SAAU,EAAe,IACzB,YAAa,CAAC,CAAa,CAC/B,EACA,aAAc,CACV,SAAU,EAAe,IACzB,YAAa,CAAC,CAAa,CAC/B,EACA,aAAc,CACV,SAAU,EAAe,IACzB,YAAa,CAAC,CAAa,CAC/B,CACJ,EACA,KAAM,KACN,MAAO,CAAA,CAEf,EACA,MAAO,CACH,eAAgB,CACZ,KAAK,cAAc,EACnB,KAAK,MAAQ,CACjB,CACJ,EACA,SAAU,CACN,SAAmB,SACf,MAAO,SAAK,OAAL,cAAW,gBAAgB,SAAS,wBAAyB,SAAK,OAAL,cAAW,aACnF,CACJ,EACA,OAAQ,CAEJ,MAAO,CAAA,MADOC,GACC,CACnB,EACA,SAAU,CACN,KAAK,cAAc,EACnB,KAAK,MAAQ,EACR,KAAA,KAAQ,KAAK,MAAM,OAAe,IAC3C,EACA,QAAS,CACL,eAAgB,OACZ,KAAK,UAAY,QAAK,gBAAL,cAAoB,IAAI,AAAC,GAClC,GAAG,QAAU,UAAa,GAAA,MAAQ,EAA+B,MAAM,cACpE,CAAE,GAAG,EAAI,aAAc,KAAK,oBAAoB,EAAG,YAAY,IAE9E,EACA,oBAAoB,EAAgB,OAChC,MAAO,GAAS,KAAK,GAAG,KAA+B,OAAO,KAAtC,OAAiD,EAAE,EAAI,EACnF,EACA,gBAAgB,EAAe,CAC3B,KAAK,MAAM,eAAgB,CAAE,KAAM,EAAU,KAAM,UAAW,CAClE,CACJ,CACJ,CAAC,mDAvJQ,IAAK,EAAA,MAAA,yBAEMC,GAAA,CAAA,MAAA,wCAIsCP,EAAA,IAAA,CAAA,MAAA,gBAAA,KAAA,EAAA,EAsChCQ,GAAA,CAAA,MAAM,iDAQN,MAAU,gBAKVC,GAAA,CAAA,YAAM,mBACRC,GAAA,CAAA,MAAA,kEACqC,IAAK,EAAA,MAAA,0JAhE9Df,GAIM,EAAAgB,EAAAC,EAAA,KAAA,CAHuBZ,EAAA,MAAAE,GAAA,CAAA,EAAA,WAAAP,KAAAC,EAAA,EAAA,CAAE,IAAG,EAAuB,GAAA,uBAAc,MAAA,QAAiB,SAAU,OAAQ,SAAK,GAAA,MAAAiB,EAAA,EAAA,+BAAA,OAAA,OAAA,sIAU/GC,EA8DM,GA9DN,EAAA,KAFW,EAAAH,EAAA,MAAAI,GAAA,CAFuBf,EAAA,OAAAO,GAAA,CAC1BS,GAAAC,EAAiB,EAAmB,CAAA,MAAA,sDAAmC,sBAAW,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,QAAA,OAAA,MAAA,GAAE,KAAA,OAAkC,YAAU,EAAa,GAAA,eAAA,EAAA,YAAA,qDAGrJ,CAAA,GA6DgBjB,EAAA,MAAAQ,GAAA,CAAAS,EA3DL,EAAqB,CAChB,GAAA,sBAAA,MAAA,EAAA,MACP,iBAAO,EAAS,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,GAChB,MAAW,EAAA,UACZ,UAAkB,EAAA,UAAA,OAAA,EAAA,+BAAA,KACjB,kBAAA,mFAAA,0BAAA,EAAA,GAAA,gCAAA,+DAQO,KAAA,EAAS,+BAAO,KAAA,QAAA,EAAA,QACxB,mBAAc,EAAM,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,QAAA,GACpB,cAAc,OACd,cAAM,SACN,MAAO,0BACN,QAAA,KACA,iBAAY,EAA+B,+BAAA,iBAC3C,WAAQ,EAAA,+BAAA,WACT,WAAS,EAAC,IAAqB,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,WAAA,EAAA,IAAA,GAC/B,YAAA,sBACC,MAAgB,CAAA,MAAA,MAAA,EACjB,WAAY,GAAA,aAAA,MAED,EAAA,CAAA,MACPlB,EAEU,IAAA,CAAAkB,EAFK,EAAO,CAAC,MAAA,QAAiB,SAAU,OAAQ,SAAK,GAAiD,QAAU,EAAmB,+BAAA,OAAA,OAAA,EAAA,YAAA,2GAIjJ,QAAAlB,EAAA,IAAA,CAOSJ,GAAA,EAAA,EAAAgB,EAAAC,EAAA,KAAAM,EAAA,EAAA,+BAAA,QAAA,AAAA,GAPIvB,GAAA,EAAeC,EAAA,EAAA,CAAE,MAAK,eAAoE,MAAMiB,EAAS,EAAM,KAAA,EAAI,OAAO,EAAI,GAAK,EAAA,MAAA,EAAG,MAAK,EAAI,MAAQ,IAAS,EAAA,MAAc,UAAU,EAAI,MAAA,SAAA,EAC1L,EAAA,CAAA,OACPd,EAAuF,CAAA,CAAA,iBAAA,CAAAkB,EAAvE,EAAM,CAAA,KAAA,0BAA6B,sBAAM,AAAiB,GAAA,EAAA,MAAA,EAAA,MAAA,+DAEnE,CAAA,EAAA,KAAAlB,EAAA,AAAA,GAAA,CACgFoB,EAAAxB,GAAA,EAAAgB,EAAA,OAAIS,GAAK,CAAAC,EAAApB,EAAA,EAAA,KAAA,EAAA,MAAA,EAAA,CAAA,OAAtD,EAAA,EAAA,KAAA,EAAA,8EAGpC,EAAA,GAAA,GAAA,EAAA,QAAAN,KAAAC,EAAA,EAAA,CAAU,IAAA,EAA6B,OAAM,EAAc,GAAA,eAAA,EAAC,MAAA,eAA0B,UAAU,eAAO,SAAK,GAAA,MAAAiB,EAAA,EAAA,+BAAA,MAAA,YAAA,CAC3G,EAAA,CAAA,OACPd,EAAuF,CAAA,CAAA,iBAAA,CAAAkB,EAAvE,EAAM,CAAA,KAAA,0BAA6B,sBAAM,AAAiB,GAAA,EAAA,MAAA,EAAA,MAAA,+DAEnE,CAAA,EACP,KAAAlB,EAAA,AAAA,GAAA,CAAAC,EAAA,OAAAS,GAAAR,EAAA,EAAA,KAAA,YAAA,EAAA,CAAA,gCAGMa,EAAO,GAAA,EAAA,EAAA,EAAA,QAAAnB,KAAAC,EAAA,EAAA,CAAG,IAAA,EAA8B,OAAM,EAAS,GAAA,gBAAA,EAAC,MAAA,UAAqB,UAAU,UAAO,SAAK,GAAA,MAAAiB,EAAA,EAAA,+BAAA,MAAA,WAAA,KAAA,CAClG,EAAA,CAAA,KAAAd,EAAA,AAAA,GAAA,CAEkCoB,EAAAxB,GAAA,EAAAgB,EAAA,OAAAD,GAAA,CAAAY,mJAIjDR,EAIS,GAAA,EAAA,EAAAG,EAJK,EAAE,CAAA,MAAAJ,EAAA,EAAA,+BAAA,MAAA,WAAA,KAAA,CACD,EAAA,CACP,KAAAd,EAAA,AAAA,GAAA,CAAAoB,EAAaF,EAAmB,EAAA,CAAC,KAAK,oBAAyE,MAAK,gBAAA,QAAAM,EAAA,AAAA,GAAA,EAAA,gBAAA,EAAA,IAAA,EAAA,CAAA,MAAA,CAAA,yBAA7C,EAAA,EAAA,GAAA,iCAAA,mMCA3F,KAAK7B,IAAa,EAAa,CAC3B,KAAM,2BACN,MAAO,CAAE,iBAAkB,CAAE,KAAM,OAAS,EAC5C,MAAO,CAAC,qBAAsB,sBAAuB,eAAgB,6BAA8B,qBAAqB,EACxH,MAAO,CACI,MAAA,CACH,SAAU,KACV,KAAM,IAAA,CAEd,EACA,MAAO,CACH,kBAAmB,CACf,KAAK,aAAa,CACtB,CACJ,EACA,SAAU,CACN,cAAwB,OACpB,MAAO,QAAK,OAAL,cAAW,YACtB,EACA,aAAsB,OAClB,MAAO,4JAA4L,QAAK,mBAAL,cAAuB,aAC9N,EACA,iBAA2B,CACvB,GAAI,CAAC,KAAK,KAAa,MAAA,GACvB,OAAQ,KAAK,SAAS,eACb,OACD,MAAO,MAAK,KAAK,gBAAgB,SAAS,wBAAwB,MACjE,MACD,MAAO,MAAK,KAAK,gBAAgB,SAAS,uBAAuB,MAChE,MACD,MAAO,MAAK,KAAK,gBAAgB,SAAS,yBAAyB,MAClE,gBACA,OACD,MAAO,MAAK,KAAK,gBAAgB,SAAS,yBAAyB,UAE5D,MAAA,GAEnB,CACJ,EACA,OAAQ,CAEJ,MAAO,CAAA,MADOY,GACC,CACnB,EACA,SAAU,CACN,KAAK,aAAa,EACb,KAAA,KAAQ,KAAK,MAAM,OAAe,IAC3C,EACA,QAAS,CACL,cAAe,CACX,KAAK,SAAW,KAAK,gBACzB,EACA,gBAAgB,EAAW,CAChB,MAAA,GAAW,EAAM,wBAAwB,CACpD,EACA,sBAAuB,CACnB,KAAK,SAAS,QAAQ,CAClB,OAAQ,KAAK,GAAG,gCAAgC,EAChD,OAAQ,IAAM,KAAK,MAAM,qBAAsB,KAAK,QAAQ,CAAA,CAC/D,CACL,EACA,uBAAwB,CACpB,KAAK,SAAS,QAAQ,CAClB,QAAS,KAAK,GAAG,4BAA4B,EAC7C,OAAQ,KAAK,GAAG,0BAA0B,EAC1C,KAAM,6BACN,OAAQ,IAAM,KAAK,MAAM,sBAAuB,KAAK,QAAQ,CAAA,CAChE,CACL,EACA,2BAA2B,EAAmB,CAC1C,KAAK,SAAS,QAAQ,CAClB,QAAS,KAAK,GAAG,oCAAoC,EACrD,OAAQ,KAAK,GAAG,kCAAkC,EAClD,KAAM,6BACN,OAAQ,IAAM,KAAK,MAAM,6BAA8B,CAAE,SAAU,KAAK,SAAU,YAAsB,CAAA,CAC3G,CACL,EACA,iBAAkB,CACT,KAAA,MAAM,eAAgB,CAAE,KAAM,KAAK,SAAU,KAAM,UAAW,CACvE,CACJ,CACJ,CAAC,qCAlJuBS,GAAA,CAA2B,GAAA,2BAAA,MAAA,0DAkBG,IAAK,EAAA,MAAA,gCAG6B,IAAK,EAAA,MAAA,gCAIvD,IAAK,EAAA,MAAA,mBAEnB,gCAEe,IAAK,EAAA,MAAA,SAEzB,GAAA,CAAA,MAAM,gCAEqB,IAAK,EAAA,MAAA,SAEhC,GAAA,CAAA,MAAM,gCAEoB,IAAK,EAAA,MAAA,SAE/B,GAAA,CAAA,MAAM,gCAEqB,IAAK,EAAA,MAAA,SAEhC,GAAA,CAAA,MAAM,gCAEiB,IAAK,EAAA,MAAA,SAE5B,GAAA,CAAA,MAAM,gCAEqB,IAAK,EAAA,MAAA,SAEhC,GAAA,CAAA,MAAM,gCAEgB,IAAK,EAAA,MAAA,SAE3B,GAAA,CAAA,MAAM,qGAzDjBpB,GAkBU,EAAAgB,EAAA,MAAAT,GAAA,CAAAe,EAlBE,EAAyB,CAAC,GAAA,0BAAA,MAAA,kCACvB,EAAA,CAAA,MACPlB,EAcM,IAAA,aAAA,OAAAC,EAb8I,MAAwBe,GAAA,CAAA,KAAA,OAAA,QAAA,gBAAA,SAAxK,0BAAsMI,EAAAxB,GAAA,EAAAgB,EAAA,IAAA,CAAnM,IAAK,EAAoG,MAAK,4CAAA,QAAA,EAAA,IAAA,GAAA,GAAA,IAAA,IAAA,EAAA,iBAAA,EAAA,gBAAA,GAAA,CAAA,iBAA7C,EAAA,EAAA,GAAA,iCAAA,qBACpDG,EAAe,GAAA,EAAA,EAAA,EAAA,gBAAAnB,KAAAgB,EAC3BC,EAAqJ,CAAA,IAAA,GAAA,CAA5IO,EAAAnB,EAAA,IAAA,CAA2F,MAAK,uCAAA,QAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,sBAAA,EAAA,QAAA,gBAA1C,EAAA,EAAA,GAAA,8BAAA,qBACtDmB,EAAAnB,EAAA,IAAA,CAA2F,MAAK,sCAAA,QAAA,EAAA,IAAA,GAAA,GAAA,IAAA,IAAA,EAAA,sBAAA,EAAA,qBAAA,GAAA,CAAA,gBAA3C,EAAA,EAAA,GAAA,+BAAA,kBACgF,CAAA,EAAA,KAAA,OAAA,QAAA,gBAAA,SAA9I,4BAA4MmB,EAAAxB,GAAA,EAAAgB,EAAA,IAAA,CAAzM,IAAK,EAAkG,MAAK,2CAAA,QAAA,EAAA,IAAA,GAAA,GAAA,IAAA,IAAA,EAAA,uBAAA,EAAA,sBAAA,GAAA,CAAA,iBAA5C,EAAA,EAAA,GAAA,gCAAA,6BAE9D,EAAA,EAAA,GAAAG,EAAM,GAAgB,EAAA,EAAA,MAAA,OAAA,cAAA,gBAAA,SAA/B,yBAAuP,EAAA,SAAA,YAAA,OAAAK,EAAAxB,GAAA,EAAAgB,EAAA,IAAA,CAAtJ,IAAK,EAAsG,MAAK,yCAAA,QAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,2BAAA,IAAA,iBAAjD,EAAA,EAAA,GAAA,qCAAA,mBAEtJ,CAAA,EAAAG,EAAM,GAAgB,EAAA,EAAA,MAAA,OAAA,cAAA,gBAAA,SADhC,2BAKE,GAAA,SAAA,YAAA,QAAA,EAAA,SAAA,YAAA,OAAAK,EAAAxB,GAAA,EAAAgB,EAAA,IAAA,CAHE,IAAK,EAEJ,MAAK,2CAAA,QAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,2BAAA,MAAA,iBADU,EAAA,EAAA,GAAA,uCAAA,uCAMhC,CAAA,EAAAX,EACe,MAAkBO,GAAW,CAAA,KAAA,mBAAA,QAAxC,eACiD,EAAAI,EAAA,MAAAK,GAAA,CAAAhB,EAArC,MAAe,CAAE,GAAG,gBAAA,IAAA,EAAA,uBAErB,CAAA,GAAAc,EAAS,GAAe,EAAA,EAAA,EAAA,SAAA,iBAAnC,EAGM,SAHN,gBAGM,OAAA,EAAAnB,GAF4C,EAAAgB,EAAA,MAAA,GAAA,CAC9CX,EAAA,KAAA,GAAAC,EAA8F,kBAAnE,CAAQ,EAAA,CAAA,EAAAN,GAAA,EAAA,EAAAgB,EAAnCC,EAA8F,KAAAM,EAAA,EAAA,SAAA,gBAAA,CAAA,EAAA,IAAnCvB,GAAK,EAAAgB,EAAA,IAAA,CAAE,IAAK,EAAA,MAAA,4BAEhEG,EAAa,GAAA,EAAA,EAAA,EAAA,SAAA,KAAAnB,GAC0B,EAAAgB,EAAA,MAAA,GAAA,CAC9CX,EAAwC,KAAxC,GAAwCC,EAApB,EAAa,GAAA,aAAA,CAAA,EAAA,CAAA,EAAAD,EAAA,IAAA,GAAAC,EAAA,EAAA,SAAA,IAAA,EAAA,CAAA,KAE1Ba,EAAc,GAAA,EAAA,EAAA,EAAA,SAAA,MAAAnB,GAC0B,EAAAgB,EAAA,MAAA,GAAA,CAC/CX,EAAyC,KAAzC,GAAyCC,EAArB,EAAc,GAAA,cAAA,CAAA,EAAA,CAAA,EAAAD,EAAA,IAAA,GAAAC,EAAA,EAAA,SAAA,KAAA,EAAA,CAAA,CAE3B,CAAA,GAAAa,EAAS,GAAY,EAAA,EAAA,EAAA,SAAA,aAAAnB,GACoB,EAAAgB,EAAA,MAAA,GAAA,CAChDX,EAAgD,KAAhD,GAAgDC,EAA5B,oBAAS,CAAY,EAAA,CAAA,EAAAD,EAAA,IAAA,GAAAC,EAAA,EAAA,SAAA,YAAA,EAAA,CAAA,CAElC,CAAA,GAAAa,EAAS,GAAW,EAAA,EAAA,EAAA,SAAA,YAAAnB,GAC0B,EAAAgB,EAAA,MAAA,GAAA,CACrDX,EAA+C,KAA/C,GAA+CC,EAA3B,EAAoB,GAAA,oBAAA,CAAA,EAAA,CAAA,EAAAD,EAAA,IAAA,GAAAC,EAAA,EAAA,SAAA,WAAA,EAAA,CAAA,CAEjC,CAAA,GAAAa,EAAS,GAAY,EAAA,EAAA,EAAA,SAAA,aAAAnB,GACmB,EAAAgB,EAAA,MAAA,GAAA,CAC/CX,EAAgD,KAAhD,GAAgDC,EAA5B,mBAAS,CAAY,EAAA,CAAA,EAAAD,EAAA,IAAA,GAAAC,EAAA,EAAA,SAAA,YAAA,EAAA,CAAA,KAElCa,EAAiB,GAAA,EAAA,EAAA,EAAA,SAAA,SAAAnB,GACsB,EAAAgB,EAAA,MAAA,GAAA,CAC9CX,EAA4C,KAA5C,GAA4CC,EAAxB,EAAiB,GAAA,aAAA,CAAA,EAAA,CAAA,EAAAD,EAAA,IAAA,GAAAC,EAAA,EAAA,SAAA,QAAA,EAAA,CAAA,CAE9B,CAAA,GAAAa,EAAS,GAAY,EAAA,EAAA,EAAA,SAAA,aAAAnB,GAC0B,EAAAgB,EAAA,MAAA,GAAA,CACtDX,EAAiE,KAAjE,GAAiEC,EAA7C,EAAA,GAAA,qBAAgB,GAAQ,CAAC,EAAAD,EAAA,IAAA,GAAAC,EAAA,EAAA,gBAAA,EAAA,SAAA,YAAA,CAAA,EAAA,CAAA,KAEtCa,EAAgB,GAAA,EAAA,EAAA,EAAA,SAAA,QAAAnB,GAC6B,EAAAgB,EAAA,MAAA,GAAA,CACpDX,EAA4F,KAA5F,GAA4FC,EAAxE,wBAAmB,CAAE,EAAA,CAAA,EAAAD,EAAA,IAAA,GAAAC,EAAA,EAAA,SAAA,QAAA,EAAA,GAAA,gBAAA,EAAA,EAAA,GAAA,mBAAA,CAAA,EAAA,CAAA,+EC9BzD,KAAKP,IAAa,EAAa,CAC3B,KAAM,0BACN,WAAY,CAAE,6BAA2B,wBAAsB,yBAAuB,EACtF,MAAO,CAAE,cAAe,CAAE,KAAM,KAAS,EAAA,YAAa,CAAE,KAAM,OAAS,WAAY,CAAE,KAAM,QAAU,EACrG,MAAO,CAAC,oBAAqB,UAAW,iBAAkB,eAAgB,uBAAwB,qBAAqB,EACvH,MAAO,CACI,MAAA,CACH,UAAW,CAAC,EACZ,iBAAkB,IAAA,CAE1B,EACA,MAAO,CACH,eAAgB,CACZ,KAAK,cAAc,EACnB,KAAK,iBAAmB,IAC5B,CACJ,EACA,OAAQ,CAEJ,MAAO,CAAA,MADOY,GACC,CACnB,EACA,SAAU,CACN,KAAK,cAAc,CACvB,EACA,QAAS,CACL,eAAgB,CACZ,KAAK,UAAY,KAAK,aAC1B,EACA,oBAAoB,EAAe,CAC/B,KAAK,iBAAmB,CAC5B,EACA,KAAM,eAAc,EAAe,CAC1B,KAAA,MAAM,UAAW,EAAI,EACpB,KAAA,MAAK,MACN,KAAK,mDAAsE,EAAS,IAAI,EACxF,KAAK,IAAM,CACR,KAAK,MAAM,QAAQ,CACf,MAAO,KAAK,GAAG,0BAA0B,EACzC,IAAK,KAAK,GAAG,sBAAsB,CAAA,CACtC,EACD,KAAK,MAAM,gBAAgB,CAAA,CAC9B,EACA,MAAM,IAAM,CAAA,CAAE,EACd,KAAA,MAAM,UAAW,EAAK,CAC/B,EACA,KAAM,gBAAe,EAAe,CAC3B,KAAA,MAAM,UAAW,EAAI,EACpB,KAAA,MAAK,MACN,OAAO,2CAA8D,EAAS,OAAO,EACrF,KAAK,IAAM,CACR,KAAK,MAAM,QAAQ,CACf,MAAO,KAAK,GAAG,0BAA0B,EACzC,IAAK,KAAK,GAAG,sBAAsB,CAAA,CACtC,EACD,KAAK,iBAAmB,KACnB,KAAA,UAAY,KAAK,UAAU,OAAO,AAAC,GAAY,EAAG,KAAO,EAAS,EAAE,CAAA,CAC5E,EACA,MAAM,IAAM,CAAA,CAAE,EACd,KAAA,MAAM,UAAW,EAAK,CAC/B,EACA,KAAM,qBAAoB,EAAY,CAC7B,KAAA,MAAM,UAAW,EAAI,EAC1B,KAAM,MAAK,MACN,KAAK,iEAAoF,EAAM,SAAS,gBAAgB,EAAM,WAAW,EACzI,KAAK,IAAM,CACR,KAAK,MAAM,QAAQ,CACf,MAAO,KAAK,GAAG,0BAA0B,EACzC,IAAK,KAAK,GAAG,sBAAsB,CAAA,CACtC,EACD,KAAK,MAAM,sBAAsB,CAAA,CACpC,EACA,MAAM,IAAM,CAAA,CAAE,EACd,KAAA,MAAM,UAAW,EAAK,CAC/B,CACJ,CACJ,CAAC,MAtGY,MAAM,mCACF,MAAM,2GAMc,IAAG,EAAqC,GAAA,qCAAA,YAAA,4JAPrEX,GAMM,EAAAgB,EAAA,MAAAT,GAAA,CAAAF,EALF,MAIMe,GAAA,CAAAf,EAHS,MAAgBO,GAAA,CAAA,EAAA,iBAAAZ,KAAAgB,EAAA,MAAA,CAAE,IAAG,EAA4B,GAAA,2BAAA,QAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,iBAAA,SAC1BG,EAAU,GAAA,EAAA,EAAA,AAAA,EAAA,WAC5CA,EAA+K,GAAA,EAAA,EADnInB,GAAA,EAAAC,EAAA,EAAA,CAAG,IAAA,EAA2B,YAAA,EAAA,YAAA,oBAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,oBAAA,CAAA,6BACqGqB,EAAxJ,EAAwB,CAAG,cAAY,EAAA,UAAa,WAAU,EAAA,WAAsB,WAAY,EAAA,oBAAA,eAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,eAAA,CAAA,yDAGpH,CAAA,EAAA,EAAA,iBAAAtB,GAAA,EAQmBgB,EAAA,MAAAK,GAAA,CAAAC,EANrB,EAAkC,CAClC,iBAAoB,EAAA,iBACpB,qBAAmB,EAAE,cACrB,sBAAY,EAAA,eACZ,qBAA+C,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,eAAA,CAAA,GAC/C,6BAAmB,EAAA,oBAAA,sBAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,sBAAA,CAAA,0LC0CpC,KAAKvB,IAAa,EAAa,CAC3B,KAAM,wBACN,WAAY,CAAE,uBAAqB,uBAAqB,yBAAuB,cAAa8B,KAAAA,CAAK,EACjG,MAAO,CAAE,cAAe,CAAE,KAAM,MAAwB,EAAG,qBAAsB,CAAE,KAAM,QAAU,EACnG,MAAO,CAAC,cAAc,EACtB,MAAO,CACI,MAAA,CACH,QAAS,CAAC,EACV,eAAgB,KAChB,UAAW,CAAC,EACZ,kBAAmB,CAAC,EACpB,YAAa,CAAC,EACd,mBAAoB,KACpB,WAAY,KACZ,WAAY,GACZ,MAAO,CAAC,EACR,KAAM,KACN,eAAgB,GAChB,YAAa,OAAO,WACpB,QAAS,GACT,oBAAqB,GACrB,iBAAkB,KAClB,WAAY,IAAA,CAEpB,EACA,SAAU,CACN,cAAwB,OACpB,MAAO,QAAK,OAAL,cAAW,YACtB,EACA,mBAA6B,SACzB,MAAO,WAAK,OAAL,cAAW,kBAAX,cAA4B,SAAS,qBAChD,EACA,+BAAyC,OACrC,MAAO,QAAK,KAAK,kBAAV,cAA2B,SAAS,6BAC/C,EACA,iBAA2B,CACvB,MAAI,MAAK,eACE,GAEA,KAAK,YAAc,IAElC,CACJ,EACA,MAAO,CACH,sBAAuB,CACnB,AAAI,CAAC,KAAK,eAEN,MAAK,cAAc,UAAe,MAAA,eAAe,GAAK,KAAK,cAAc,UAC7E,KAAK,6BAA6B,EACtC,CACJ,EACA,OAAQ,CAEJ,MAAO,CAAA,MADOlB,GACC,CACnB,EACA,KAAM,UAAU,CACL,OAAA,iBAAiB,SAAU,KAAK,QAAQ,EAE/C,KAAM,MAAK,cACN,KAAA,KAAQ,KAAK,MAAM,OAAe,KAEnC,KAAK,OAAO,OAAS,kCACrB,KAAK,mBAAmB,EAG5B,KAAK,iBAAiB,CAC1B,EACA,eAAgB,CACL,OAAA,oBAAoB,SAAU,KAAK,QAAQ,CACtD,EACA,QAAS,CACL,kBAAmB,CACf,KAAK,OACD,IAAM,KAAK,OAAO,OAAO,UACzB,AAAC,GAAa,CACV,AAAI,KAAK,OAAO,OAAS,kCAAoC,EAAS,OAAS,GAAG,KAAK,mBAAmB,CAAA,CAElH,CACJ,EACA,UAAW,CACP,KAAK,YAAc,OAAO,UAC9B,EACA,KAAM,qBAAqB,CACvB,GAAI,KAAK,OAAO,OAAO,UAAU,OAAS,EAAG,CAEzC,GADK,KAAA,eAAiB,KAAK,qBACvB,CAAC,KAAK,eAAgB,OAC1B,aAAa,QAAQ,2BAA4B,KAAK,UAAU,KAAK,eAAe,EAAE,CAAC,EACvF,KAAM,MAAK,8BACf,CACJ,EACA,oBAAqB,CACX,KAAA,GAAK,KAAK,OAAO,OAAO,UAAU,KAAK,OAAO,OAAO,UAAU,OAAS,GACxE,EAAQ,KAAK,QAAQ,UAAU,AAAC,GAAgB,EAAO,IAAM,CAAE,EACrE,MAAO,KAAU,GAAK,KAAK,QAAQ,GAAS,IAChD,EACA,KAAM,cAAc,CAChB,KAAK,QAAU,GACT,KAAA,MAAK,MAAM,IAAI,wCAA2D,EAAE,KAAK,AAAC,GAAiC,OACrH,KAAK,QAAU,EAAS,KACxB,QAAK,UAAL,QAAc,KAAK,CAAC,EAAQ,IACjB,EAAE,GAAK,EAAE,GACnB,CACJ,EAED,KAAK,QAAU,EACnB,EACA,KAAM,gBAAgB,OAClB,KAAK,QAAU,GACT,KAAA,GAAM,KAAK,WAAa,gDAAgD,KAAK,aAAe,0BAA0B,QAAK,iBAAL,cAAqB,KAC3I,KAAA,MAAK,MAAM,IAAI,6BAA6C,CAAG,EAAE,KAAK,AAAC,GAAiC,CAC1G,KAAK,WAAc,KAAK,kBAAoB,EAAS,KAAS,KAAK,UAAY,EAAS,IAAA,CAC3F,EACD,KAAK,QAAU,EACnB,EACA,KAAM,mBAAkB,EAAa,OACjC,AAAI,SAAK,iBAAL,cAAqB,MAAO,EAAO,IAGvC,MAAK,eAAiB,EACtB,KAAK,kBAAkB,EACvB,KAAM,MAAK,+BACf,EACA,mBAAoB,SACV,KAAA,GAAW,WAAK,eAAe,OAApB,cAA0B,UAAU,KAApC,cAAwC,MAAM,KAC/D,GAAI,CAAC,EAAU,OACf,GAAI,GAAO,GACX,OAAS,GAAI,EAAG,EAAI,EAAS,OAAQ,IAAK,CAChC,KAAA,GAAQ,KAAK,QAAQ,UAAU,AAAC,GAAgB,EAAO,MAAQ,EAAS,EAAE,EAChF,AAAI,IAAU,IACF,IAAA,IAAI,KAAK,QAAQ,GAAO,KAExC,CACQ,QAAA,UAAU,GAAI,GAAI,gCAAwD,CAAI,CAC1F,EACA,KAAM,+BAA+B,CACjC,AAAI,KAAK,gBAAkB,KAAK,eAAe,KAAO,GAClD,MAAM,MAAK,gBACX,KAAK,kBAAkB,GAEvB,KAAK,UAAY,EAEzB,EACA,mBAAoB,CAChB,GAAI,CAAC,KAAK,eAAgB,OAC1B,GAAI,GAAgB,CAAE,IAAK,KAAK,eAAe,KAAM,MAAO,KAAK,eAAe,KAAM,KAAM,KAAK,cAAe,EAChH,KAAK,YAAc,GAChB,EACM,MAAA,YAAY,QAAQ,CAAE,MAAO,EAAc,KAAK,KAAM,KAAM,CAAA,CAAe,EAChF,EAAgB,EAAc,KAAK,mBAC9B,EACb,EACA,KAAM,uBAAsB,EAAiB,OAGzC,AAFA,KAAK,mBAAqB,EAEtB,SAAK,iBAAL,cAAqB,MAAO,EAAW,KAAK,KAAK,IAGhD,MAAA,eAAiB,EAAW,KAAK,KACtC,KAAM,MAAK,gBACf,EACA,gBAAiB,CACb,KAAK,WAAa,EACtB,EACA,OAAO,EAAY,CACf,KAAK,gBAAgB,EAErB,AADa,KAAK,MAAM,KACnB,OAAO,CAAK,CACrB,EACA,iBAAkB,CACd,KAAK,MAAQ,GACb,KAAK,MAAM,KAAK,CAAE,MAAO,KAAK,GAAG,iCAAiC,EAAG,QAAS,IAAM,KAAK,kBAAA,CAAqB,CAAA,EAC1G,KAAK,+BACL,MAAK,MAAM,KAAK,CAAE,MAAO,KAAK,GAAG,gBAAgB,EAAG,QAAS,IAAM,KAAK,iBAAA,CAAoB,CAAA,EAC5F,KAAK,MAAM,KAAK,CAAE,MAAO,KAAK,GAAG,yBAAyB,EAAG,QAAS,IAAM,KAAK,mBAAA,CAAsB,CAAA,EAE/G,EACA,mBAAoB,CAChB,KAAK,WAAa,KACb,KAAA,MAAM,eAAgB,CAAE,KAAM,KAAM,KAAM,iBAAkB,gBAAiB,KAAK,eAAe,EAAI,CAAA,CAC9G,EACA,KAAM,qBAAoB,EAAO,CAC7B,KAAK,WAAa,EAAM,GACnB,KAAA,MAAM,eAAgB,CAAE,KAAM,EAAO,KAAM,iBAAkB,gBAAiB,IAAA,CAAM,CAC7F,EACA,kBAAmB,CACV,KAAA,MAAM,eAAgB,CAAE,KAAM,KAAM,KAAM,gBAAiB,gBAAiB,KAAK,eAAe,EAAI,CAAA,CAC7G,EACA,oBAAqB,CACZ,KAAA,MAAM,eAAgB,CAAE,KAAM,KAAM,KAAM,kBAAmB,gBAAiB,KAAK,eAAe,EAAI,CAAA,CAC/G,EACA,mBAAoB,CACX,KAAA,eAAiB,CAAC,KAAK,cAChC,EACA,eAAgB,CACZ,KAAK,WAAa,GAClB,WAAW,IAAM,CAER,KAAA,MAAM,UAAU,IAAI,MAAM,GAChC,CAAC,CACR,EACA,gBAAiB,CACb,KAAK,oBAAsB,GAC3B,KAAK,cAAc,CACvB,CACJ,CACJ,CAAC,0BAzPoC,IAAK,EAAA,MAAA,UAU9BC,GAAA,CAA0B,GAAA,0BAAA,MAAA,qCAOtBS,GAAA,CAAmB,GAAA,mBAAA,MAAA,8NA9B/B,MAAArB,OAAciB,EAAC,KAAA,CAAAK,EACK,EACwE,CAAA,MAAA,gCAAA,EAAA,CAAA,MAApFlB,EAAoF,IAAA,CAA3EC,EAAA,IAAA,CAA0B,MAAG,0BAAkB,GAAA,iBAAA,QAAA,EAAA,IAAA,GAAA,GAAA,IAAA,IAAA,EAAA,mBAAA,EAAA,kBAAA,GAAA,CAAA,EACxD,CAAA,EAAAA,EACA,OAKO,KAAAC,EAAA,EAAA,WAAA,EAAA,GAAA,iCAAA,EAAA,EAAA,GAAA,uBAAA,CAAA,EAAA,CAAA,EAAAkB,EAJHnB,EAA4E,OAAAE,GAAA,CAAnEF,EAAA,IAAA,CAA0C,MAAK,yCAAA,QAAA,EAAA,IAAA,GAAA,GAAA,IAAA,IAAA,EAAA,gBAAA,EAAA,eAAA,GAAA,CAAA,EACxD,CAAA,EAAAiB,EAAc,EAAiB,CAAC,GAAA,kBAAgD,MAAI,0CAAa,IAAA,YAAA,QAAAQ,EAAqC,EAAU,cAAA,CAAA,OAAA,CAAA,EAAA,WAAA,EAAA,WAAG,sBAAe,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,WAAA,GAAmB,YAAS,EAAA,GAAA,eAAA,EAAA,UAAA,IACtH,KAAA,EAAA,CAAA,UAAA,aAAA,aAAA,CAAA,EAA/DzB,EAAA,IAAA,CAAqC,MAAK,oCAAA,QAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,WAAA,GACnD,CAAA,EAASA,EAAA,IAAA,CAAsC,MAAK,qCAAA,QAAA,EAAA,IAAA,GAAA,GAAA,IAAA,IAAA,EAAA,eAAA,EAAA,cAAA,GAAA,CAAA,8BAIjD,CAAA,EAAA,IACMD,EAAU,IAAA,CAAA,AAAA,EAAA,WAGHe,EAAgB,GAAA,EAAA,EAHbnB,GAC+C,EAAAgB,EAAA,OAAAI,GAAA,CAAzDf,EAAA,IAAA,CAA+B,MAAK,8BAAA,QAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,sBAEb,GAAA,cAApC,EAA2P,oBAAA,EAAA,gBAAA,EAAA,eAAA,UAAA,EAAA,eAAA,UAAA,aAAAL,GAAA,EAAAC,EAAA,EAAA,CAA3G,IAAI,EAAgB,KAAA,cAAuB,UAAa,IAAO,GAAA,GAAA,AAAA,GAAA,EAAA,OAAA,CAAA,GAAC,gBAAc,OAAA,gBAAA,kBAC9NkB,EAAgD,GAAA,EAAA,EAAhCG,EAAA,EAAA,CAAE,IAAK,OAAU,MAAO,EAAI,MAAA,MAAA,2BAIjC,CAAA,EAAA,EAAA,QAAAtB,KAAAC,EAAA,EAAA,CAAS,IAAK,EAAmB,MAAK,kBAAgB,KAAA,gBAAA,YAAA,cAEzE,CAAA,GAAAkB,EAqBM,GArBN,EAAA,EAAAd,EACe,MAAkBO,GAAA,CAAA,EAAA,gBAA7B,EAA8H,YAAA,KAAAZ,GAAA,EAAAgB,EAAA,MAAA,CAA7E,IAAG,EAAqC,GAAA,oCAAA,QAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,eAAA,GAEzF,CAAA,GAAAG,EAAA,GAAA,EAAA,EAAAK,EAA+BnB,EAAC,MAAA,CAA2B,MAAoB0B,EAAA,CAAA,2BAAA,CAAA,iBAAA,EAAA,gBAAA,4BAAA,EAAA,gBAAA,EAAA,YAAA,IAAA,CAAA,CAAA,EAAA,MAAA,CAAA,MAAA,OAAA,CAC3E,EAAA,CAAAT,EAAiC,EAAS,CAAG,YAAkB,EAAA,QAAuB,mBAAoB,EAAA,mBAAiB,mBAAgB,EAAA,eAAA,iBAAA,EAAA,8HAG/I,CAAA,EAAAjB,EAEc,MAAkBgB,GAAA,CAD5B,EAAA,gBAAA,EAAA,WAAArB,GAAA,EAAAC,EAAA,EAAA,CAEK,IAAA,EACA,cAAa,EAAW,WAAA,EAAA,kBAAA,EAAA,UACxB,YAAY,EAAA,YACZ,WAAA,EAAA,WACA,oBAAgB,EAAa,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,sBAAA,CAAA,GAC7B,iBAAoB,EAAA,cACpB,uBAAY,EAAA,cACZ,iBAAqB,IAAmB,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,eAAA,CAAA,GAAA,sBAAA,EAAA,mBAEuC,EAAA,KAAA,EAAA,CAAA,gBAAA,cAAA,aAAA,mBAAA,yBAAA,uBAAA,CAAA,GAAAD,GAAA,EAAAC,EAAA,EAAA,CAAxD,IAAA,EAAA,YAAA,iGCnBxC,KAAKF,IAAa,EAAa,CAC3B,KAAM,uBACN,WAAY,CAAC,EACb,MAAO,CAAC,QAAS,gBAAiB,cAAe,eAAe,EAChE,MAAO,CAAE,KAAM,CAAE,KAAM,MAAO,EAAG,gBAAiB,CAAE,KAAM,OAAS,EACnE,MAAO,CACI,MAAA,CACH,mBAAoB,CAAC,EACrB,WAAY,IAAA,CAEpB,EACA,SAAU,CACN,KAAc,OACV,MAAO,QAAK,OAAL,cAAW,QACtB,CACJ,EACA,MAAO,CACH,MAAO,CACH,KAAK,SAAS,CAClB,CACJ,EACA,SAAU,CACN,KAAK,SAAS,CAClB,EACA,QAAS,CACL,gBAAgB,EAAc,CACrB,KAAA,MAAM,gBAAiB,CAAO,CACvC,EACA,mBAAmB,EAAc,CAC7B,KAAK,mBAAmB,EAAQ,SAAS,MAAQ,IAAM,KAAK,KAAO,EAAQ,UAC/E,EACA,UAAW,CACP,KAAK,WAAa,KAAK,IAC3B,CACJ,CACJ,CAAC,oDAvDQ,MAAAyB,GAAgCxB,KAAAC,EAAA,EAAA,CAChC,gBAAM,EAAU,gBAChB,KAAA,EAAA,WACA,mBAAW,EAAA,mBACX,OAAK,EAAA,IACL,cAAqC,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,QAAA,EAAA,IAAA,GACrC,oBAAe,EAAA,mBACf,gBAAW,EAAA,gBACX,cAAY,EAAE,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,MAAK,aAAU,GAC7B,eAAa,EAAE,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,MAAK,QAAkB,EAAA,IAAA,GAAA,gBAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,MAAA,gBAAA,CAAA,eAEvC,CAEa,CAAA,eAAA,CAAAD,KAAAC,EADT+B,EAA+J,KAAA,CAAAhC,KAA3HC,EAAAgC,EAAA,CAAA,EAAA,CAAG,IAAA,EAAA,IAAmC,gBAAM,EAAU,gBAAG,KAAA,EAAA,WAAyC,mBAAW,EAAA,mBAAA,OAAA,EAAA,oFAdzI,EAAA,EAAA,CAAA,kBAAA,OAAA,qBAAA,SAAA,sBAAA,iBAAA,CAAA,GAAA,CAAA,CAAAC,EAAA,EAAA,IAAA,iCCyCpB,KAAK,IAAa,EAAa,CAC3B,KAAM,mBACN,WAAY,CAAE,uBAAqB,sBAAoBL,KAAAA,EAAMM,QAAAA,EAASC,SAAAA,CAAS,EAC/E,MAAO,CAAE,iBAAkB,CAAE,KAAM,MAAO,EAAG,uBAAwB,CAAE,KAAM,QAAU,EACvF,MAAO,CACI,MAAA,CACH,KAAM,CAAC,EACP,YAAa,EACb,UAAW,CAAC,EACZ,aAAc,KACd,GAAI,EACJ,iBAAkB,CAAC,EACnB,SAAU,KACV,cAAe,KACf,qBAAsB,GACtB,uBAAA,CAER,EACA,MAAO,CACH,wBAAyB,CACrB,AAAI,CAAC,KAAK,kBACN,CAAA,KAAK,iBAAiB,KAAO,oBAC7B,MAAK,aAAe,KACpB,KAAK,YAAc,GACZ,KAAK,iBAAiB,IAAM,KAAK,iBAAiB,GAAG,SAAS,kBAAkB,GACvF,KAAK,SAAS,EAEtB,CACJ,EACA,KAAM,UAAU,CACZ,KAAK,SAAS,CAClB,EACA,QAAS,CACL,KAAM,WAAW,OACN,OAAA,iBAAiB,UAAW,AAAC,GAAU,CACtC,AAAA,EAAM,KAAK,OAAS,eAAiB,KAAK,QAAQ,aAAa,MAAM,OAAS,iBACzE,MAAA,iBAAiB,EAAM,KAAK,KAAK,EACjC,KAAA,cAAgB,EAAM,KAAK,MAC3B,KAAA,qBAAuB,CAAC,KAAK,qBACtC,CACH,EAEG,GAAA,GAAK,QAAK,QAAQ,aAAa,MAAM,OAAO,KAAvC,OAA6C,KAAK,wBAEvD,GAAA,GAAM,IAAO,oBAAuB,MAAK,QAAQ,aAAa,MAAM,OAAS,uCAAyC,KAAK,QAAQ,aAAa,MAAM,OAAS,0CAA4C,KAAK,QAAQ,aAAa,MAAM,OAAS,oBAAqB,CACzQ,GAAI,GAAe,CAAA,EACnB,AAAI,IAAO,iBAAiB,KAAM,MAAK,MAAM,IAAI,2CAA8D,GAAI,EAAE,KAAK,AAAC,GAAkC,EAAe,EAAS,IAAK,EAC1L,KAAM,GAAW,CACb,KAAM,CACF,KAAM,EAAa,KACnB,MAAO,EACP,KAAM,KAAK,QAAQ,aAAa,MAAM,OAAO,KAC7C,SAAU,EAAmB,CAAE,OAAQ,GAAI,KAAM,SAAU,EAC3D,KACA,SAAU,KAAK,QAAQ,aAAa,MAAM,OAAS,sCAAwC,UAAY,gBAC3G,EACA,KAAM,KAAK,QAAQ,aAAa,MAAM,OAAS,uCAAyC,KAAK,QAAQ,aAAa,MAAM,OAAO,GAAK,UAAY,gBAAA,EAE/I,KAAA,KAAK,KAAK,CAAQ,EAEvB,KAAK,YAAc,EACnB,KAAK,aAAe,CACxB,CACJ,EACA,uBAAwB,OACpB,MAAK,MAAK,iBAEH,QAAK,iBAAiB,KAAtB,cAA0B,UAAU,KAAK,iBAAiB,GAAG,YAAY,GAAG,EAAI,GAFpD,IAGvC,EACA,aAAc,CACN,GAAA,KAAK,cAAgB,EAAG,CACxB,KAAK,aAAe,KACf,KAAA,QAAQ,KAAK,mBAAmB,EACrC,MACJ,CAEA,KAAM,GAAK,KAAK,KAAK,KAAK,YAAc,GAAG,KAAO,KAAK,KAAK,KAAK,YAAc,GAAG,KAAK,MAAQ,gBAK3F,GAHJ,KAAK,aAAe,KAAK,KAAK,KAAK,YAAc,GAC5C,KAAA,aAAa,KAAK,QAAU,GAE7B,KAAK,aAAa,OAAS,iBAAkB,CACvC,KAAA,GAAO,KAAK,aAAa,gBAAkB,0CAA0C,KAAK,aAAa,kBAAoB,sCAAsC,KAAK,aAAa,KAAK,KACzL,KAAA,QAAQ,KAAK,CAAI,CAAA,KACnB,CACC,GAAA,GAAoB,KAAK,KAAK,KAAK,YAAc,GAAG,KAAK,KAAO,KAAK,KAAK,KAAK,YAAc,GAAG,KAAK,KAAO,KAAK,qBAAqB,KAAK,KAAK,KAAK,YAAc,GAAG,IAAI,EAC1J,EAAA,KAAK,QAAQ,KAAK,qBAAqB,KAAuB,CAAE,EAAI,KAAK,QAAQ,KAAK,iCAAiC,CAC/I,CACJ,EACA,aAAa,EAAc,CACvB,AAAI,EAAQ,MACA,GAAA,KAAK,SAAW,EAAmB,CAAE,OAAQ,GAAI,KAAM,SAAU,GAGvE,KAAA,GAAW,CAAE,GAAG,EAAS,KAAM,CAAE,GAAG,EAAQ,IAAA,GAO9C,GANA,EAAQ,OAAS,kBAAkB,GAAS,KAAO,kBAElD,KAAA,KAAK,KAAK,CAAQ,EAEvB,KAAK,aAAe,EAEhB,EAAQ,OAAS,iBAAkB,CAC7B,KAAA,GAAO,EAAQ,gBAAkB,0CAA0C,EAAQ,kBAAoB,sCAAsC,EAAQ,KAAK,KAC3J,KAAA,aAAa,KAAK,SAAW,iBAC7B,KAAA,QAAQ,KAAK,CAAI,CAAA,KACnB,CACH,KAAM,GAAK,EAAQ,KAAO,EAAQ,KAAK,MAAQ,gBAC/C,GAAI,EAAQ,KAAM,CACd,GAAI,GAAoB,KAAK,qBAAqB,EAAQ,IAAI,EACzD,KAAA,aAAa,KAAK,SAAW,UAClC,KAAK,QAAQ,KAAK,qBAAqB,KAAuB,CAAE,CAAA,KAC7D,CACE,KAAA,aAAa,KAAO,CAAE,SAAU,EAAmB,CAAE,OAAQ,GAAI,KAAM,QAAS,CAAC,CAAE,EACnF,KAAA,aAAa,KAAK,SAAW,EAAQ,KAC1C,KAAM,GAAO,EAAQ,OAAS,gBAAkB,gCAAkC,4CAA4C,EAAQ,kBACjI,KAAA,QAAQ,KAAK,CAAI,CAC1B,CACJ,CAEK,KAAA,YAAc,KAAK,KAAK,MACjC,EACA,OAAO,EAAY,CACf,KAAK,gBAAgB,EAErB,AADa,KAAK,MAAM,KACnB,OAAO,CAAK,CACrB,EACA,iBAAkB,CACd,KAAK,UAAY,GACjB,KAAK,UAAU,KAAK,CAAE,MAAO,KAAK,GAAG,sCAAsC,EAAG,QAAS,IAAM,KAAK,qBAAqB,SAAS,CAAG,CAAA,EACnI,KAAK,UAAU,KAAK,CAAE,MAAO,KAAK,GAAG,qCAAqC,EAAG,QAAS,IAAM,KAAK,qBAAqB,OAAO,CAAG,CAAA,EAChI,KAAK,UAAU,KAAK,CAAE,MAAO,KAAK,GAAG,oCAAoC,EAAG,QAAS,IAAM,KAAK,qBAAqB,OAAO,CAAG,CAAA,EAC/H,KAAK,UAAU,KAAK,CAAE,MAAO,KAAK,GAAG,mCAAmC,EAAG,QAAS,IAAM,KAAK,qBAAqB,KAAK,CAAG,CAAA,CAChI,EACA,qBAAqB,EAAc,CAC/B,KAAK,SAAS,QAAQ,CAClB,QAAS,KAAK,GAAG,6CAA6C,EAC9D,OAAQ,KAAK,GAAG,4CAA6C,CAAE,kBAAmB,KAAK,qBAAqB,CAAI,EAAG,EACnH,OAAQ,IAAM,KAAK,cAAc,CAAI,CAAA,CACxC,CACL,EACA,qBAAqB,EAAc,CACvB,OAAA,OACC,UACM,MAAA,OACN,QACM,MAAA,MAAK,KAAK,OAAS,MACzB,QACM,MAAA,MAAK,KAAK,OAAS,KAAK,gBAC9B,MACD,MAAO,MAAK,KAAK,OAE7B,EACA,cAAc,EAAc,CACxB,GAAI,GAAQ,GACJ,OAAA,OACC,UACD,KAAK,KAAK,OAAO,KAAK,YAAc,EAAG,CAAC,EACxC,KAAK,YAAc,EACX,EAAA,KAAK,iBAAiB,UAAU,AAAC,GAAgB,SAAA,YAAO,OAAP,cAAa,YAAa,SAAK,eAAL,cAAmB,KAAK,UAAQ,EAC/G,IAAU,IAAS,KAAA,iBAAiB,OAAO,EAAO,CAAC,EAClD,KAAA,QAAQ,KAAK,mBAAmB,EACrC,UACC,QACD,KAAK,KAAO,CAAC,KAAK,KAAK,KAAK,YAAc,EAAE,EAC5C,KAAK,YAAc,EACnB,KAAK,iBAAmB,KAAK,iBAAiB,OAAO,AAAC,GAAA,SAAgB,YAAO,OAAP,cAAa,YAAa,SAAK,eAAL,cAAmB,KAAK,UAAQ,EAChI,UACC,QACI,KAAA,KAAK,OAAO,KAAK,WAAW,EACzB,EAAA,KAAK,iBAAiB,UAAU,AAAC,GAAgB,SAAA,YAAO,OAAP,cAAa,YAAa,SAAK,eAAL,cAAmB,KAAK,UAAQ,EAC/G,IAAU,IAAS,KAAA,iBAAiB,OAAO,EAAQ,CAAC,EACxD,UACC,MACI,KAAA,QAAQ,KAAK,mBAAmB,EACrC,KAAK,KAAO,GACZ,KAAK,YAAc,EACnB,KAAK,iBAAmB,GAEpC,EACA,gBAAgB,EAAc,CAE1B,AAAI,AADU,KAAK,iBAAiB,UAAU,AAAC,GAAgB,SAAA,YAAO,OAAP,cAAa,YAAa,SAAK,eAAL,cAAmB,KAAK,UAAQ,IAC3G,IAAS,KAAA,iBAAiB,KAAK,CAAO,CACxD,EACA,aAAc,CACV,KAAM,GAAQ,KAAK,iBAAiB,UAAU,AAAC,GAAgB,SAAA,YAAO,OAAP,cAAa,YAAa,SAAK,eAAL,cAAmB,KAAK,UAAQ,EACzH,AAAI,IAAU,IAAS,KAAA,iBAAiB,OAAO,EAAO,CAAC,CAC3D,EACA,iBAAiB,EAAc,CAC3B,KAAK,YAAY,EACZ,KAAA,aAAe,CAAE,KAAM,CAAE,GAAG,EAAS,SAAU,EAAmB,CAAE,OAAQ,GAAI,KAAM,SAAU,EAAG,KAAM,EAAQ,cAAe,MAAO,EAAQ,eAAgB,SAAU,SAAA,EAAa,KAAM,SAAU,EAC3M,KAAK,KAAK,KAAK,YAAc,GAAK,KAAK,aACvC,KAAK,QAAQ,KAAK,wCAAwC,EAAQ,gBAAgB,CACtF,EACA,WAAW,EAAU,CACjB,MAAI,GAAI,MAAQ,EAAI,KAAK,KACd,EAAI,KAAK,KAET,EAAI,OAAS,iBAAmB,eAAiB,eAEhE,EACA,gBAAgB,EAAe,CAC3B,KAAK,cAAgB,EAChB,KAAA,qBAAuB,CAAC,KAAK,qBAClC,KAAK,aAAa,gBAAkB,KAC/B,KAAA,aAAa,KAAO,CAAE,KAAM,EAAS,KAAM,MAAO,EAAS,GAAI,SAAU,EAAmB,CAAE,OAAQ,GAAI,KAAM,SAAU,EAAG,GAAI,EAAS,GAAI,SAAU,kBAC7J,KAAK,QAAQ,KAAK,sCAAsC,EAAS,IAAI,CACzE,CACJ,CACJ,CAAC,MAzPY,MAAM,WAIc,GAAA,CAAA,MAAA,uGAiBhB,IAAG,EAAA,GAAA,oLArBZpC,GAyBM,EAAAgB,EAAA,MAAA,GAAA,CAVQX,EAAA,MAAA,GAAA,CAAAiB,EAdE,EAA2B,CAAC,GAAA,4BAAsD,MAAA,wCAAA,YAAA,EAAA,YAA2B,uBAAY,EAAW,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,YAAA,GAAA,YAAA,EAAA,sBAC5IlB,EAMW,IAAA,CAAAkB,EALU,EACoB,KAAA,CAAA,OAAjClB,EAAiC,IAAA,CAAA,aAGrCA,EAA4J,IAAA,CAAAkB,EAAtI,EAA4B,CAAG,cAAoB,EAAA,cAAyB,qBAAY,EAAA,qBAAA,eAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,aAAA,CAAA,6DAOvGtB,GAAA,EAAA,EAAAgB,EAAAC,EAAA,KAAAM,EAJkC,EAAK,KAAA,CAAA,EAAA,IAC7BvB,GACqB,EAAAC,EAAA,EAAA,CAAA,IAAA,GAAA,CAAA,OAAlCG,EAAkC,IAAA,CAAAC,EAAA,OAAA,KAAAC,EAAA,EAAA,WAAA,CAAA,CAAA,EAAA,CAAA,+CAK9C,aAA+R,CAAA,EAAAkB,EAAzNF,EAAc,EAAI,CAAG,KAAiB,KAAA,eAAA,cAAA,KAAgC,gBAAK,KAAA,eAAA,cAAA,gBAA6B,QAAA,EAAa,IAAiB,GAAA,GAAA,AAAA,GAAA,EAAA,cAAA,SAAA,GAAG,gBAAa,EAAA,gBAAc,cAAa,EAAE,YAAA,gBAAA,EAAA,eAA7N,EAAA,KAAA,EAAA,CAAA,OAAA,kBAAgB,kBAAiB,gBAAA,iBAAA,CAAA,EAAA,CAAA,CAAAY,EAAA,EAAA,cAAA,EAAA,aAAA,IAAA,IAC7DlC,GAAA,EAAA,EAAAgB,EAAAC,EAEM,KAF+CM,EAAO,EAAA,iBAAA,CAAA,EAAA,IAAA,kBACkG,EAAAP,EAAA,MAAA,CAAA,IAAA,GAAA,CAAAQ,EAAAnB,EAAA,SAAA,CAAnF,QAAI,GAAS,IAAK,SAAoC,MAAK,kCAAA,IAAA,EAAA,MAAlH,EAAA,KAAA,EAAA,EAAW,EAAE,CAAA,CAAA6B,EAAA,MAAA,OAAA,cAAA,YAAA,MAAA,eAAA,cAAA,KAAA,SAAA,KAEmB,CAAA,EAAA,GAAA,GAAA,EAAA,cAApD,KAC6F,EAAAlB,EAAA,MAAA,GAAA,CAAnFX,EAAA,IAAA,CAA4B,GAAA,4BAA4B,MAAK,qBAAA,QAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAA,EAAA,OAAA,CAAA,EACnE,CAAA,EAAgBiB,EAAA,EAAA,CAAE,IAAK,OAAc,MAAO,EAAI,UAAA,MAAA"}